import"../logic.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Kx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Zx={exports:{}},nd={},Jx={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=Symbol.for("react.element"),EA=Symbol.for("react.portal"),TA=Symbol.for("react.fragment"),AA=Symbol.for("react.strict_mode"),CA=Symbol.for("react.profiler"),PA=Symbol.for("react.provider"),IA=Symbol.for("react.context"),RA=Symbol.for("react.forward_ref"),kA=Symbol.for("react.suspense"),MA=Symbol.for("react.memo"),DA=Symbol.for("react.lazy"),Z0=Symbol.iterator;function NA(t){return t===null||typeof t!="object"?null:(t=Z0&&t[Z0]||t["@@iterator"],typeof t=="function"?t:null)}var ew={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tw=Object.assign,rw={};function va(t,e,r){this.props=t,this.context=e,this.refs=rw,this.updater=r||ew}va.prototype.isReactComponent={};va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nw(){}nw.prototype=va.prototype;function Qg(t,e,r){this.props=t,this.context=e,this.refs=rw,this.updater=r||ew}var qg=Qg.prototype=new nw;qg.constructor=Qg;tw(qg,va.prototype);qg.isPureReactComponent=!0;var J0=Array.isArray,iw=Object.prototype.hasOwnProperty,Kg={current:null},sw={key:!0,ref:!0,__self:!0,__source:!0};function ow(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)iw.call(e,n)&&!sw.hasOwnProperty(n)&&(i[n]=e[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var h=Array(u),f=0;f<u;f++)h[f]=arguments[f+2];i.children=h}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:ru,type:t,key:s,ref:o,props:i,_owner:Kg.current}}function OA(t,e){return{$$typeof:ru,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ru}function FA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var e_=/\/+/g;function Zf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FA(""+t.key):e.toString(36)}function Yc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ru:case EA:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Zf(o,0):n,J0(i)?(r="",t!=null&&(r=t.replace(e_,"$&/")+"/"),Yc(i,e,r,"",function(f){return f})):i!=null&&(Zg(i)&&(i=OA(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(e_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",J0(t))for(var u=0;u<t.length;u++){s=t[u];var h=n+Zf(s,u);o+=Yc(s,e,r,h,i)}else if(h=NA(t),typeof h=="function")for(t=h.call(t),u=0;!(s=t.next()).done;)s=s.value,h=n+Zf(s,u++),o+=Yc(s,e,r,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rc(t,e,r){if(t==null)return t;var n=[],i=0;return Yc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function BA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rr={current:null},Qc={transition:null},LA={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:Qc,ReactCurrentOwner:Kg};Ae.Children={map:rc,forEach:function(t,e,r){rc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return rc(t,function(){e++}),e},toArray:function(t){return rc(t,function(e){return e})||[]},only:function(t){if(!Zg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=va;Ae.Fragment=TA;Ae.Profiler=CA;Ae.PureComponent=Qg;Ae.StrictMode=AA;Ae.Suspense=kA;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LA;Ae.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=tw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Kg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)iw.call(e,h)&&!sw.hasOwnProperty(h)&&(n[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)n.children=r;else if(1<h){u=Array(h);for(var f=0;f<h;f++)u[f]=arguments[f+2];n.children=u}return{$$typeof:ru,type:t.type,key:i,ref:s,props:n,_owner:o}};Ae.createContext=function(t){return t={$$typeof:IA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PA,_context:t},t.Consumer=t};Ae.createElement=ow;Ae.createFactory=function(t){var e=ow.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:RA,render:t}};Ae.isValidElement=Zg;Ae.lazy=function(t){return{$$typeof:DA,_payload:{_status:-1,_result:t},_init:BA}};Ae.memo=function(t,e){return{$$typeof:MA,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Qc.transition;Qc.transition={};try{t()}finally{Qc.transition=e}};Ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ae.useCallback=function(t,e){return rr.current.useCallback(t,e)};Ae.useContext=function(t){return rr.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return rr.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return rr.current.useEffect(t,e)};Ae.useId=function(){return rr.current.useId()};Ae.useImperativeHandle=function(t,e,r){return rr.current.useImperativeHandle(t,e,r)};Ae.useInsertionEffect=function(t,e){return rr.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return rr.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return rr.current.useMemo(t,e)};Ae.useReducer=function(t,e,r){return rr.current.useReducer(t,e,r)};Ae.useRef=function(t){return rr.current.useRef(t)};Ae.useState=function(t){return rr.current.useState(t)};Ae.useSyncExternalStore=function(t,e,r){return rr.current.useSyncExternalStore(t,e,r)};Ae.useTransition=function(){return rr.current.useTransition()};Ae.version="18.2.0";Jx.exports=Ae;var Ve=Jx.exports,zn=rd(Ve);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA=Ve,zA=Symbol.for("react.element"),GA=Symbol.for("react.fragment"),HA=Object.prototype.hasOwnProperty,$A=UA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jA={key:!0,ref:!0,__self:!0,__source:!0};function aw(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)HA.call(e,n)&&!jA.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:zA,type:t,key:s,ref:o,props:i,_owner:$A.current}}nd.Fragment=GA;nd.jsx=aw;nd.jsxs=aw;Zx.exports=nd;var ze=Zx.exports,hm={},lw={exports:{}},Ar={},uw={exports:{}},cw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,X){var D=M.length;M.push(X);e:for(;0<D;){var K=D-1>>>1,re=M[K];if(0<i(re,X))M[K]=X,M[D]=re,D=K;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var X=M[0],D=M.pop();if(D!==X){M[0]=D;e:for(var K=0,re=M.length,_e=re>>>1;K<_e;){var ye=2*(K+1)-1,Ne=M[ye],we=ye+1,De=M[we];if(0>i(Ne,D))we<re&&0>i(De,Ne)?(M[K]=De,M[we]=D,K=we):(M[K]=Ne,M[ye]=D,K=ye);else if(we<re&&0>i(De,D))M[K]=De,M[we]=D,K=we;else break e}}return X}function i(M,X){var D=M.sortIndex-X.sortIndex;return D!==0?D:M.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],f=[],m=1,c=null,d=3,g=!1,v=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(M){for(var X=r(f);X!==null;){if(X.callback===null)n(f);else if(X.startTime<=M)n(f),X.sortIndex=X.expirationTime,e(h,X);else break;X=r(f)}}function A(M){if(S=!1,E(M),!v)if(r(h)!==null)v=!0,oe(I);else{var X=r(f);X!==null&&ee(A,X.startTime-M)}}function I(M,X){v=!1,S&&(S=!1,x(R),R=-1),g=!0;var D=d;try{for(E(X),c=r(h);c!==null&&(!(c.expirationTime>X)||M&&!j());){var K=c.callback;if(typeof K=="function"){c.callback=null,d=c.priorityLevel;var re=K(c.expirationTime<=X);X=t.unstable_now(),typeof re=="function"?c.callback=re:c===r(h)&&n(h),E(X)}else n(h);c=r(h)}if(c!==null)var _e=!0;else{var ye=r(f);ye!==null&&ee(A,ye.startTime-X),_e=!1}return _e}finally{c=null,d=D,g=!1}}var O=!1,N=null,R=-1,L=5,G=-1;function j(){return!(t.unstable_now()-G<L)}function Y(){if(N!==null){var M=t.unstable_now();G=M;var X=!0;try{X=N(!0,M)}finally{X?H():(O=!1,N=null)}}else O=!1}var H;if(typeof b=="function")H=function(){b(Y)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,de=B.port2;B.port1.onmessage=Y,H=function(){de.postMessage(null)}}else H=function(){T(Y,0)};function oe(M){N=M,O||(O=!0,H())}function ee(M,X){R=T(function(){M(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,oe(I))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(M){switch(d){case 1:case 2:case 3:var X=3;break;default:X=d}var D=d;d=X;try{return M()}finally{d=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=d;d=M;try{return X()}finally{d=D}},t.unstable_scheduleCallback=function(M,X,D){var K=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?K+D:K):D=K,M){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=D+re,M={id:m++,callback:X,priorityLevel:M,startTime:D,expirationTime:re,sortIndex:-1},D>K?(M.sortIndex=D,e(f,M),r(h)===null&&M===r(f)&&(S?(x(R),R=-1):S=!0,ee(A,D-K))):(M.sortIndex=re,e(h,M),v||g||(v=!0,oe(I))),M},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(M){var X=d;return function(){var D=d;d=X;try{return M.apply(this,arguments)}finally{d=D}}}})(cw);uw.exports=cw;var VA=uw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw=Ve,Tr=VA;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dw=new Set,Rl={};function Ks(t,e){sa(t,e),sa(t+"Capture",e)}function sa(t,e){for(Rl[t]=e,t=0;t<e.length;t++)dw.add(e[t])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dm=Object.prototype.hasOwnProperty,WA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,t_={},r_={};function XA(t){return dm.call(r_,t)?!0:dm.call(t_,t)?!1:WA.test(t)?r_[t]=!0:(t_[t]=!0,!1)}function YA(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QA(t,e,r,n){if(e===null||typeof e>"u"||YA(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jg=/[\-:]([a-z])/g;function ey(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jg,ey);Ut[e]=new nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jg,ey);Ut[e]=new nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jg,ey);Ut[e]=new nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new nr(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ty(t,e,r,n){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QA(e,r,i,n)&&(r=null),n||i===null?XA(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var xi=hw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nc=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Mo=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),fw=Symbol.for("react.provider"),pw=Symbol.for("react.context"),ny=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),mm=Symbol.for("react.suspense_list"),iy=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),mw=Symbol.for("react.offscreen"),n_=Symbol.iterator;function ja(t){return t===null||typeof t!="object"?null:(t=n_&&t[n_]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Jf;function sl(t){if(Jf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Jf=e&&e[1]||""}return`
`+Jf+t}var ep=!1;function tp(t,e){if(!t||ep)return"";ep=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var n=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){n=f}t.call(e.prototype)}else{try{throw Error()}catch(f){n=f}t()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var h=`
`+i[o].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=o&&0<=u);break}}}finally{ep=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?sl(t):""}function qA(t){switch(t.tag){case 5:return sl(t.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return t=tp(t.type,!1),t;case 11:return t=tp(t.type.render,!1),t;case 1:return t=tp(t.type,!0),t;default:return""}}function gm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mo:return"Fragment";case ko:return"Portal";case fm:return"Profiler";case ry:return"StrictMode";case pm:return"Suspense";case mm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pw:return(t.displayName||"Context")+".Consumer";case fw:return(t._context.displayName||"Context")+".Provider";case ny:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iy:return e=t.displayName||null,e!==null?e:gm(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return gm(t(e))}catch{}}return null}function KA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gm(e);case 8:return e===ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZA(t){var e=gw(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ic(t){t._valueTracker||(t._valueTracker=ZA(t))}function yw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=gw(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function fh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ym(t,e){var r=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function i_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=rs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vw(t,e){e=e.checked,e!=null&&ty(t,"checked",e,!1)}function vm(t,e){vw(t,e);var r=rs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_m(t,e.type,r):e.hasOwnProperty("defaultValue")&&_m(t,e.type,rs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function s_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function _m(t,e,r){(e!=="number"||fh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ol=Array.isArray;function Wo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+rs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function o_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(q(92));if(ol(r)){if(1<r.length)throw Error(q(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:rs(r)}}function _w(t,e){var r=rs(e.value),n=rs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function a_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sc,ww=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sc=sc||document.createElement("div"),sc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var gl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JA=["Webkit","ms","Moz","O"];Object.keys(gl).forEach(function(t){JA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gl[e]=gl[t]})});function Sw(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||gl.hasOwnProperty(t)&&gl[t]?(""+e).trim():e+"px"}function bw(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Sw(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var eC=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sm(t,e){if(e){if(eC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function bm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=null;function sy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tm=null,Xo=null,Yo=null;function l_(t){if(t=su(t)){if(typeof Tm!="function")throw Error(q(280));var e=t.stateNode;e&&(e=ld(e),Tm(t.stateNode,t.type,e))}}function Ew(t){Xo?Yo?Yo.push(t):Yo=[t]:Xo=t}function Tw(){if(Xo){var t=Xo,e=Yo;if(Yo=Xo=null,l_(t),e)for(t=0;t<e.length;t++)l_(e[t])}}function Aw(t,e){return t(e)}function Cw(){}var rp=!1;function Pw(t,e,r){if(rp)return t(e,r);rp=!0;try{return Aw(t,e,r)}finally{rp=!1,(Xo!==null||Yo!==null)&&(Cw(),Tw())}}function Ml(t,e){var r=t.stateNode;if(r===null)return null;var n=ld(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(q(231,e,typeof r));return r}var Am=!1;if(mi)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){Am=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{Am=!1}function tC(t,e,r,n,i,s,o,u,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(r,f)}catch(m){this.onError(m)}}var yl=!1,ph=null,mh=!1,Cm=null,rC={onError:function(t){yl=!0,ph=t}};function nC(t,e,r,n,i,s,o,u,h){yl=!1,ph=null,tC.apply(rC,arguments)}function iC(t,e,r,n,i,s,o,u,h){if(nC.apply(this,arguments),yl){if(yl){var f=ph;yl=!1,ph=null}else throw Error(q(198));mh||(mh=!0,Cm=f)}}function Zs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Iw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u_(t){if(Zs(t)!==t)throw Error(q(188))}function sC(t){var e=t.alternate;if(!e){if(e=Zs(t),e===null)throw Error(q(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return u_(i),t;if(s===n)return u_(i),e;s=s.sibling}throw Error(q(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,u=i.child;u;){if(u===r){o=!0,r=i,n=s;break}if(u===n){o=!0,n=i,r=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===r){o=!0,r=s,n=i;break}if(u===n){o=!0,n=s,r=i;break}u=u.sibling}if(!o)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?t:e}function Rw(t){return t=sC(t),t!==null?kw(t):null}function kw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kw(t);if(e!==null)return e;t=t.sibling}return null}var Mw=Tr.unstable_scheduleCallback,c_=Tr.unstable_cancelCallback,oC=Tr.unstable_shouldYield,aC=Tr.unstable_requestPaint,dt=Tr.unstable_now,lC=Tr.unstable_getCurrentPriorityLevel,oy=Tr.unstable_ImmediatePriority,Dw=Tr.unstable_UserBlockingPriority,gh=Tr.unstable_NormalPriority,uC=Tr.unstable_LowPriority,Nw=Tr.unstable_IdlePriority,id=null,Gn=null;function cC(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(id,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:fC,hC=Math.log,dC=Math.LN2;function fC(t){return t>>>=0,t===0?32:31-(hC(t)/dC|0)|0}var oc=64,ac=4194304;function al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var u=o&~i;u!==0?n=al(u):(s&=o,s!==0&&(n=al(s)))}else o=r&~i,o!==0?n=al(o):s!==0&&(n=al(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-pn(e),i=1<<r,n|=t[r],e&=~i;return n}function pC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-pn(s),u=1<<o,h=i[o];h===-1?(!(u&r)||u&n)&&(i[o]=pC(u,e)):h<=e&&(t.expiredLanes|=u),s&=~u}}function Pm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ow(){var t=oc;return oc<<=1,!(oc&4194240)&&(oc=64),t}function np(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function nu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pn(e),t[e]=r}function gC(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-pn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function ay(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-pn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Le=0;function Fw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Bw,ly,Lw,Uw,zw,Im=!1,lc=[],Xi=null,Yi=null,Qi=null,Dl=new Map,Nl=new Map,zi=[],yC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h_(t,e){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(e.pointerId)}}function Wa(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=su(e),e!==null&&ly(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vC(t,e,r,n,i){switch(e){case"focusin":return Xi=Wa(Xi,t,e,r,n,i),!0;case"dragenter":return Yi=Wa(Yi,t,e,r,n,i),!0;case"mouseover":return Qi=Wa(Qi,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Dl.set(s,Wa(Dl.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Nl.set(s,Wa(Nl.get(s)||null,t,e,r,n,i)),!0}return!1}function Gw(t){var e=Ns(t.target);if(e!==null){var r=Zs(e);if(r!==null){if(e=r.tag,e===13){if(e=Iw(r),e!==null){t.blockedOn=e,zw(t.priority,function(){Lw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Rm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Em=n,r.target.dispatchEvent(n),Em=null}else return e=su(r),e!==null&&ly(e),t.blockedOn=r,!1;e.shift()}return!0}function d_(t,e,r){qc(t)&&r.delete(e)}function _C(){Im=!1,Xi!==null&&qc(Xi)&&(Xi=null),Yi!==null&&qc(Yi)&&(Yi=null),Qi!==null&&qc(Qi)&&(Qi=null),Dl.forEach(d_),Nl.forEach(d_)}function Xa(t,e){t.blockedOn===e&&(t.blockedOn=null,Im||(Im=!0,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,_C)))}function Ol(t){function e(i){return Xa(i,t)}if(0<lc.length){Xa(lc[0],t);for(var r=1;r<lc.length;r++){var n=lc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Xi!==null&&Xa(Xi,t),Yi!==null&&Xa(Yi,t),Qi!==null&&Xa(Qi,t),Dl.forEach(e),Nl.forEach(e),r=0;r<zi.length;r++)n=zi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<zi.length&&(r=zi[0],r.blockedOn===null);)Gw(r),r.blockedOn===null&&zi.shift()}var Qo=xi.ReactCurrentBatchConfig,vh=!0;function xC(t,e,r,n){var i=Le,s=Qo.transition;Qo.transition=null;try{Le=1,uy(t,e,r,n)}finally{Le=i,Qo.transition=s}}function wC(t,e,r,n){var i=Le,s=Qo.transition;Qo.transition=null;try{Le=4,uy(t,e,r,n)}finally{Le=i,Qo.transition=s}}function uy(t,e,r,n){if(vh){var i=Rm(t,e,r,n);if(i===null)fp(t,e,n,_h,r),h_(t,n);else if(vC(i,t,e,r,n))n.stopPropagation();else if(h_(t,n),e&4&&-1<yC.indexOf(t)){for(;i!==null;){var s=su(i);if(s!==null&&Bw(s),s=Rm(t,e,r,n),s===null&&fp(t,e,n,_h,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else fp(t,e,n,null,r)}}var _h=null;function Rm(t,e,r,n){if(_h=null,t=sy(n),t=Ns(t),t!==null)if(e=Zs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Iw(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _h=t,null}function Hw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lC()){case oy:return 1;case Dw:return 4;case gh:case uC:return 16;case Nw:return 536870912;default:return 16}default:return 16}}var $i=null,cy=null,Kc=null;function $w(){if(Kc)return Kc;var t,e=cy,r=e.length,n,i="value"in $i?$i.value:$i.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Kc=i.slice(t,1<n?1-n:void 0)}function Zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uc(){return!0}function f_(){return!1}function Cr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uc:f_,this.isPropagationStopped=f_,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),e}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hy=Cr(_a),iu=it({},_a,{view:0,detail:0}),SC=Cr(iu),ip,sp,Ya,sd=it({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ya&&(Ya&&t.type==="mousemove"?(ip=t.screenX-Ya.screenX,sp=t.screenY-Ya.screenY):sp=ip=0,Ya=t),ip)},movementY:function(t){return"movementY"in t?t.movementY:sp}}),p_=Cr(sd),bC=it({},sd,{dataTransfer:0}),EC=Cr(bC),TC=it({},iu,{relatedTarget:0}),op=Cr(TC),AC=it({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),CC=Cr(AC),PC=it({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IC=Cr(PC),RC=it({},_a,{data:0}),m_=Cr(RC),kC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DC[t])?!!e[t]:!1}function dy(){return NC}var OC=it({},iu,{key:function(t){if(t.key){var e=kC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dy,charCode:function(t){return t.type==="keypress"?Zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FC=Cr(OC),BC=it({},sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g_=Cr(BC),LC=it({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dy}),UC=Cr(LC),zC=it({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),GC=Cr(zC),HC=it({},sd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$C=Cr(HC),jC=[9,13,27,32],fy=mi&&"CompositionEvent"in window,vl=null;mi&&"documentMode"in document&&(vl=document.documentMode);var VC=mi&&"TextEvent"in window&&!vl,jw=mi&&(!fy||vl&&8<vl&&11>=vl),y_=String.fromCharCode(32),v_=!1;function Vw(t,e){switch(t){case"keyup":return jC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ww(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Do=!1;function WC(t,e){switch(t){case"compositionend":return Ww(e);case"keypress":return e.which!==32?null:(v_=!0,y_);case"textInput":return t=e.data,t===y_&&v_?null:t;default:return null}}function XC(t,e){if(Do)return t==="compositionend"||!fy&&Vw(t,e)?(t=$w(),Kc=cy=$i=null,Do=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jw&&e.locale!=="ko"?null:e.data;default:return null}}var YC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function __(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YC[t.type]:e==="textarea"}function Xw(t,e,r,n){Ew(n),e=xh(e,"onChange"),0<e.length&&(r=new hy("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var _l=null,Fl=null;function QC(t){iS(t,0)}function od(t){var e=Fo(t);if(yw(e))return t}function qC(t,e){if(t==="change")return e}var Yw=!1;if(mi){var ap;if(mi){var lp="oninput"in document;if(!lp){var x_=document.createElement("div");x_.setAttribute("oninput","return;"),lp=typeof x_.oninput=="function"}ap=lp}else ap=!1;Yw=ap&&(!document.documentMode||9<document.documentMode)}function w_(){_l&&(_l.detachEvent("onpropertychange",Qw),Fl=_l=null)}function Qw(t){if(t.propertyName==="value"&&od(Fl)){var e=[];Xw(e,Fl,t,sy(t)),Pw(QC,e)}}function KC(t,e,r){t==="focusin"?(w_(),_l=e,Fl=r,_l.attachEvent("onpropertychange",Qw)):t==="focusout"&&w_()}function ZC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return od(Fl)}function JC(t,e){if(t==="click")return od(e)}function eP(t,e){if(t==="input"||t==="change")return od(e)}function tP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:tP;function Bl(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!dm.call(e,i)||!_n(t[i],e[i]))return!1}return!0}function S_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b_(t,e){var r=S_(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=S_(r)}}function qw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kw(){for(var t=window,e=fh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=fh(t.document)}return e}function py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rP(t){var e=Kw(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&qw(r.ownerDocument.documentElement,r)){if(n!==null&&py(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=b_(r,s);var o=b_(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nP=mi&&"documentMode"in document&&11>=document.documentMode,No=null,km=null,xl=null,Mm=!1;function E_(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mm||No==null||No!==fh(n)||(n=No,"selectionStart"in n&&py(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xl&&Bl(xl,n)||(xl=n,n=xh(km,"onSelect"),0<n.length&&(e=new hy("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=No)))}function cc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Oo={animationend:cc("Animation","AnimationEnd"),animationiteration:cc("Animation","AnimationIteration"),animationstart:cc("Animation","AnimationStart"),transitionend:cc("Transition","TransitionEnd")},up={},Zw={};mi&&(Zw=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function ad(t){if(up[t])return up[t];if(!Oo[t])return t;var e=Oo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Zw)return up[t]=e[r];return t}var Jw=ad("animationend"),eS=ad("animationiteration"),tS=ad("animationstart"),rS=ad("transitionend"),nS=new Map,T_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(t,e){nS.set(t,e),Ks(e,[t])}for(var cp=0;cp<T_.length;cp++){var hp=T_[cp],iP=hp.toLowerCase(),sP=hp[0].toUpperCase()+hp.slice(1);ls(iP,"on"+sP)}ls(Jw,"onAnimationEnd");ls(eS,"onAnimationIteration");ls(tS,"onAnimationStart");ls("dblclick","onDoubleClick");ls("focusin","onFocus");ls("focusout","onBlur");ls(rS,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function A_(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,iC(n,e,void 0,t),t.currentTarget=null}function iS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var u=n[o],h=u.instance,f=u.currentTarget;if(u=u.listener,h!==s&&i.isPropagationStopped())break e;A_(i,u,f),s=h}else for(o=0;o<n.length;o++){if(u=n[o],h=u.instance,f=u.currentTarget,u=u.listener,h!==s&&i.isPropagationStopped())break e;A_(i,u,f),s=h}}}if(mh)throw t=Cm,mh=!1,Cm=null,t}function $e(t,e){var r=e[Bm];r===void 0&&(r=e[Bm]=new Set);var n=t+"__bubble";r.has(n)||(sS(e,t,2,!1),r.add(n))}function dp(t,e,r){var n=0;e&&(n|=4),sS(r,t,n,e)}var hc="_reactListening"+Math.random().toString(36).slice(2);function Ll(t){if(!t[hc]){t[hc]=!0,dw.forEach(function(r){r!=="selectionchange"&&(oP.has(r)||dp(r,!1,t),dp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hc]||(e[hc]=!0,dp("selectionchange",!1,e))}}function sS(t,e,r,n){switch(Hw(e)){case 1:var i=xC;break;case 4:i=wC;break;default:i=uy}r=i.bind(null,e,r,t),i=void 0,!Am||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function fp(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var h=o.tag;if((h===3||h===4)&&(h=o.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Ns(u),o===null)return;if(h=o.tag,h===5||h===6){n=s=o;continue e}u=u.parentNode}}n=n.return}Pw(function(){var f=s,m=sy(r),c=[];e:{var d=nS.get(t);if(d!==void 0){var g=hy,v=t;switch(t){case"keypress":if(Zc(r)===0)break e;case"keydown":case"keyup":g=FC;break;case"focusin":v="focus",g=op;break;case"focusout":v="blur",g=op;break;case"beforeblur":case"afterblur":g=op;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=p_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=EC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=UC;break;case Jw:case eS:case tS:g=CC;break;case rS:g=GC;break;case"scroll":g=SC;break;case"wheel":g=$C;break;case"copy":case"cut":case"paste":g=IC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=g_}var S=(e&4)!==0,T=!S&&t==="scroll",x=S?d!==null?d+"Capture":null:d;S=[];for(var b=f,E;b!==null;){E=b;var A=E.stateNode;if(E.tag===5&&A!==null&&(E=A,x!==null&&(A=Ml(b,x),A!=null&&S.push(Ul(b,A,E)))),T)break;b=b.return}0<S.length&&(d=new g(d,v,null,r,m),c.push({event:d,listeners:S}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&r!==Em&&(v=r.relatedTarget||r.fromElement)&&(Ns(v)||v[gi]))break e;if((g||d)&&(d=m.window===m?m:(d=m.ownerDocument)?d.defaultView||d.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=f,v=v?Ns(v):null,v!==null&&(T=Zs(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=f),g!==v)){if(S=p_,A="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(S=g_,A="onPointerLeave",x="onPointerEnter",b="pointer"),T=g==null?d:Fo(g),E=v==null?d:Fo(v),d=new S(A,b+"leave",g,r,m),d.target=T,d.relatedTarget=E,A=null,Ns(m)===f&&(S=new S(x,b+"enter",v,r,m),S.target=E,S.relatedTarget=T,A=S),T=A,g&&v)t:{for(S=g,x=v,b=0,E=S;E;E=_o(E))b++;for(E=0,A=x;A;A=_o(A))E++;for(;0<b-E;)S=_o(S),b--;for(;0<E-b;)x=_o(x),E--;for(;b--;){if(S===x||x!==null&&S===x.alternate)break t;S=_o(S),x=_o(x)}S=null}else S=null;g!==null&&C_(c,d,g,S,!1),v!==null&&T!==null&&C_(c,T,v,S,!0)}}e:{if(d=f?Fo(f):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var I=qC;else if(__(d))if(Yw)I=eP;else{I=ZC;var O=KC}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=JC);if(I&&(I=I(t,f))){Xw(c,I,r,m);break e}O&&O(t,d,f),t==="focusout"&&(O=d._wrapperState)&&O.controlled&&d.type==="number"&&_m(d,"number",d.value)}switch(O=f?Fo(f):window,t){case"focusin":(__(O)||O.contentEditable==="true")&&(No=O,km=f,xl=null);break;case"focusout":xl=km=No=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,E_(c,r,m);break;case"selectionchange":if(nP)break;case"keydown":case"keyup":E_(c,r,m)}var N;if(fy)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Do?Vw(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(jw&&r.locale!=="ko"&&(Do||R!=="onCompositionStart"?R==="onCompositionEnd"&&Do&&(N=$w()):($i=m,cy="value"in $i?$i.value:$i.textContent,Do=!0)),O=xh(f,R),0<O.length&&(R=new m_(R,t,null,r,m),c.push({event:R,listeners:O}),N?R.data=N:(N=Ww(r),N!==null&&(R.data=N)))),(N=VC?WC(t,r):XC(t,r))&&(f=xh(f,"onBeforeInput"),0<f.length&&(m=new m_("onBeforeInput","beforeinput",null,r,m),c.push({event:m,listeners:f}),m.data=N))}iS(c,e)})}function Ul(t,e,r){return{instance:t,listener:e,currentTarget:r}}function xh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ml(t,r),s!=null&&n.unshift(Ul(t,s,i)),s=Ml(t,e),s!=null&&n.push(Ul(t,s,i))),t=t.return}return n}function _o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function C_(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var u=r,h=u.alternate,f=u.stateNode;if(h!==null&&h===n)break;u.tag===5&&f!==null&&(u=f,i?(h=Ml(r,s),h!=null&&o.unshift(Ul(r,h,u))):i||(h=Ml(r,s),h!=null&&o.push(Ul(r,h,u)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var aP=/\r\n?/g,lP=/\u0000|\uFFFD/g;function P_(t){return(typeof t=="string"?t:""+t).replace(aP,`
`).replace(lP,"")}function dc(t,e,r){if(e=P_(e),P_(t)!==e&&r)throw Error(q(425))}function wh(){}var Dm=null,Nm=null;function Om(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fm=typeof setTimeout=="function"?setTimeout:void 0,uP=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,cP=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(t){return I_.resolve(null).then(t).catch(hP)}:Fm;function hP(t){setTimeout(function(){throw t})}function pp(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ol(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ol(e)}function qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function R_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var xa=Math.random().toString(36).slice(2),Un="__reactFiber$"+xa,zl="__reactProps$"+xa,gi="__reactContainer$"+xa,Bm="__reactEvents$"+xa,dP="__reactListeners$"+xa,fP="__reactHandles$"+xa;function Ns(t){var e=t[Un];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gi]||r[Un]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=R_(t);t!==null;){if(r=t[Un])return r;t=R_(t)}return e}t=r,r=t.parentNode}return null}function su(t){return t=t[Un]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function ld(t){return t[zl]||null}var Lm=[],Bo=-1;function us(t){return{current:t}}function We(t){0>Bo||(t.current=Lm[Bo],Lm[Bo]=null,Bo--)}function Ge(t,e){Bo++,Lm[Bo]=t.current,t.current=e}var ns={},Qt=us(ns),hr=us(!1),js=ns;function oa(t,e){var r=t.type.contextTypes;if(!r)return ns;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dr(t){return t=t.childContextTypes,t!=null}function Sh(){We(hr),We(Qt)}function k_(t,e,r){if(Qt.current!==ns)throw Error(q(168));Ge(Qt,e),Ge(hr,r)}function oS(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(q(108,KA(t)||"Unknown",i));return it({},r,n)}function bh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ns,js=Qt.current,Ge(Qt,t),Ge(hr,hr.current),!0}function M_(t,e,r){var n=t.stateNode;if(!n)throw Error(q(169));r?(t=oS(t,e,js),n.__reactInternalMemoizedMergedChildContext=t,We(hr),We(Qt),Ge(Qt,t)):We(hr),Ge(hr,r)}var si=null,ud=!1,mp=!1;function aS(t){si===null?si=[t]:si.push(t)}function pP(t){ud=!0,aS(t)}function cs(){if(!mp&&si!==null){mp=!0;var t=0,e=Le;try{var r=si;for(Le=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}si=null,ud=!1}catch(i){throw si!==null&&(si=si.slice(t+1)),Mw(oy,cs),i}finally{Le=e,mp=!1}}return null}var Lo=[],Uo=0,Eh=null,Th=0,Lr=[],Ur=0,Vs=null,ai=1,li="";function As(t,e){Lo[Uo++]=Th,Lo[Uo++]=Eh,Eh=t,Th=e}function lS(t,e,r){Lr[Ur++]=ai,Lr[Ur++]=li,Lr[Ur++]=Vs,Vs=t;var n=ai;t=li;var i=32-pn(n)-1;n&=~(1<<i),r+=1;var s=32-pn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ai=1<<32-pn(e)+i|r<<i|n,li=s+t}else ai=1<<s|r<<i|n,li=t}function my(t){t.return!==null&&(As(t,1),lS(t,1,0))}function gy(t){for(;t===Eh;)Eh=Lo[--Uo],Lo[Uo]=null,Th=Lo[--Uo],Lo[Uo]=null;for(;t===Vs;)Vs=Lr[--Ur],Lr[Ur]=null,li=Lr[--Ur],Lr[Ur]=null,ai=Lr[--Ur],Lr[Ur]=null}var br=null,Sr=null,qe=!1,ln=null;function uS(t,e){var r=zr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function D_(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,br=t,Sr=qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,br=t,Sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Vs!==null?{id:ai,overflow:li}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=zr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,br=t,Sr=null,!0):!1;default:return!1}}function Um(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zm(t){if(qe){var e=Sr;if(e){var r=e;if(!D_(t,e)){if(Um(t))throw Error(q(418));e=qi(r.nextSibling);var n=br;e&&D_(t,e)?uS(n,r):(t.flags=t.flags&-4097|2,qe=!1,br=t)}}else{if(Um(t))throw Error(q(418));t.flags=t.flags&-4097|2,qe=!1,br=t}}}function N_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;br=t}function fc(t){if(t!==br)return!1;if(!qe)return N_(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Om(t.type,t.memoizedProps)),e&&(e=Sr)){if(Um(t))throw cS(),Error(q(418));for(;e;)uS(t,e),e=qi(e.nextSibling)}if(N_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Sr=qi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Sr=null}}else Sr=br?qi(t.stateNode.nextSibling):null;return!0}function cS(){for(var t=Sr;t;)t=qi(t.nextSibling)}function aa(){Sr=br=null,qe=!1}function yy(t){ln===null?ln=[t]:ln.push(t)}var mP=xi.ReactCurrentBatchConfig;function sn(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Ah=us(null),Ch=null,zo=null,vy=null;function _y(){vy=zo=Ch=null}function xy(t){var e=Ah.current;We(Ah),t._currentValue=e}function Gm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function qo(t,e){Ch=t,vy=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cr=!0),t.firstContext=null)}function Vr(t){var e=t._currentValue;if(vy!==t)if(t={context:t,memoizedValue:e,next:null},zo===null){if(Ch===null)throw Error(q(308));zo=t,Ch.dependencies={lanes:0,firstContext:t}}else zo=zo.next=t;return e}var Os=null;function wy(t){Os===null?Os=[t]:Os.push(t)}function hS(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,wy(e)):(r.next=i.next,i.next=r),e.interleaved=r,yi(t,n)}function yi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Bi=!1;function Sy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,yi(t,r)}return i=n.interleaved,i===null?(e.next=e,wy(n)):(e.next=i.next,i.next=e),n.interleaved=e,yi(t,r)}function Jc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ay(t,r)}}function O_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ph(t,e,r,n){var i=t.updateQueue;Bi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,f=h.next;h.next=null,o===null?s=f:o.next=f,o=h;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==o&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=h))}if(s!==null){var c=i.baseState;o=0,m=f=h=null,u=s;do{var d=u.lane,g=u.eventTime;if((n&d)===d){m!==null&&(m=m.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=t,S=u;switch(d=e,g=r,S.tag){case 1:if(v=S.payload,typeof v=="function"){c=v.call(g,c,d);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,d=typeof v=="function"?v.call(g,c,d):v,d==null)break e;c=it({},c,d);break e;case 2:Bi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[u]:d.push(u))}else g={eventTime:g,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=g,h=c):m=m.next=g,o|=d;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;d=u,u=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(m===null&&(h=c),i.baseState=h,i.firstBaseUpdate=f,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xs|=o,t.lanes=o,t.memoizedState=c}}function F_(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(q(191,i));i.call(n)}}}var fS=new hw.Component().refs;function Hm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:it({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var cd={isMounted:function(t){return(t=t._reactInternals)?Zs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=tr(),i=Ji(t),s=di(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ki(t,s,i),e!==null&&(mn(e,t,i,n),Jc(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=tr(),i=Ji(t),s=di(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ki(t,s,i),e!==null&&(mn(e,t,i,n),Jc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=tr(),n=Ji(t),i=di(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ki(t,i,n),e!==null&&(mn(e,t,n,r),Jc(e,t,n))}};function B_(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bl(r,n)||!Bl(i,s):!0}function pS(t,e,r){var n=!1,i=ns,s=e.contextType;return typeof s=="object"&&s!==null?s=Vr(s):(i=dr(e)?js:Qt.current,n=e.contextTypes,s=(n=n!=null)?oa(t,i):ns),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function L_(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&cd.enqueueReplaceState(e,e.state,null)}function $m(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=fS,Sy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Vr(s):(s=dr(e)?js:Qt.current,i.context=oa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hm(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cd.enqueueReplaceState(i,i.state,null),Ph(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;u===fS&&(u=i.refs={}),o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,t))}return t}function pc(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function U_(t){var e=t._init;return e(t._payload)}function mS(t){function e(x,b){if(t){var E=x.deletions;E===null?(x.deletions=[b],x.flags|=16):E.push(b)}}function r(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=es(x,b),x.index=0,x.sibling=null,x}function s(x,b,E){return x.index=E,t?(E=x.alternate,E!==null?(E=E.index,E<b?(x.flags|=2,b):E):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function u(x,b,E,A){return b===null||b.tag!==6?(b=Sp(E,x.mode,A),b.return=x,b):(b=i(b,E),b.return=x,b)}function h(x,b,E,A){var I=E.type;return I===Mo?m(x,b,E.props.children,A,E.key):b!==null&&(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Fi&&U_(I)===b.type)?(A=i(b,E.props),A.ref=Qa(x,b,E),A.return=x,A):(A=sh(E.type,E.key,E.props,null,x.mode,A),A.ref=Qa(x,b,E),A.return=x,A)}function f(x,b,E,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=bp(E,x.mode,A),b.return=x,b):(b=i(b,E.children||[]),b.return=x,b)}function m(x,b,E,A,I){return b===null||b.tag!==7?(b=Us(E,x.mode,A,I),b.return=x,b):(b=i(b,E),b.return=x,b)}function c(x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Sp(""+b,x.mode,E),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nc:return E=sh(b.type,b.key,b.props,null,x.mode,E),E.ref=Qa(x,null,b),E.return=x,E;case ko:return b=bp(b,x.mode,E),b.return=x,b;case Fi:var A=b._init;return c(x,A(b._payload),E)}if(ol(b)||ja(b))return b=Us(b,x.mode,E,null),b.return=x,b;pc(x,b)}return null}function d(x,b,E,A){var I=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return I!==null?null:u(x,b,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case nc:return E.key===I?h(x,b,E,A):null;case ko:return E.key===I?f(x,b,E,A):null;case Fi:return I=E._init,d(x,b,I(E._payload),A)}if(ol(E)||ja(E))return I!==null?null:m(x,b,E,A,null);pc(x,E)}return null}function g(x,b,E,A,I){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(E)||null,u(b,x,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case nc:return x=x.get(A.key===null?E:A.key)||null,h(b,x,A,I);case ko:return x=x.get(A.key===null?E:A.key)||null,f(b,x,A,I);case Fi:var O=A._init;return g(x,b,E,O(A._payload),I)}if(ol(A)||ja(A))return x=x.get(E)||null,m(b,x,A,I,null);pc(b,A)}return null}function v(x,b,E,A){for(var I=null,O=null,N=b,R=b=0,L=null;N!==null&&R<E.length;R++){N.index>R?(L=N,N=null):L=N.sibling;var G=d(x,N,E[R],A);if(G===null){N===null&&(N=L);break}t&&N&&G.alternate===null&&e(x,N),b=s(G,b,R),O===null?I=G:O.sibling=G,O=G,N=L}if(R===E.length)return r(x,N),qe&&As(x,R),I;if(N===null){for(;R<E.length;R++)N=c(x,E[R],A),N!==null&&(b=s(N,b,R),O===null?I=N:O.sibling=N,O=N);return qe&&As(x,R),I}for(N=n(x,N);R<E.length;R++)L=g(N,x,R,E[R],A),L!==null&&(t&&L.alternate!==null&&N.delete(L.key===null?R:L.key),b=s(L,b,R),O===null?I=L:O.sibling=L,O=L);return t&&N.forEach(function(j){return e(x,j)}),qe&&As(x,R),I}function S(x,b,E,A){var I=ja(E);if(typeof I!="function")throw Error(q(150));if(E=I.call(E),E==null)throw Error(q(151));for(var O=I=null,N=b,R=b=0,L=null,G=E.next();N!==null&&!G.done;R++,G=E.next()){N.index>R?(L=N,N=null):L=N.sibling;var j=d(x,N,G.value,A);if(j===null){N===null&&(N=L);break}t&&N&&j.alternate===null&&e(x,N),b=s(j,b,R),O===null?I=j:O.sibling=j,O=j,N=L}if(G.done)return r(x,N),qe&&As(x,R),I;if(N===null){for(;!G.done;R++,G=E.next())G=c(x,G.value,A),G!==null&&(b=s(G,b,R),O===null?I=G:O.sibling=G,O=G);return qe&&As(x,R),I}for(N=n(x,N);!G.done;R++,G=E.next())G=g(N,x,R,G.value,A),G!==null&&(t&&G.alternate!==null&&N.delete(G.key===null?R:G.key),b=s(G,b,R),O===null?I=G:O.sibling=G,O=G);return t&&N.forEach(function(Y){return e(x,Y)}),qe&&As(x,R),I}function T(x,b,E,A){if(typeof E=="object"&&E!==null&&E.type===Mo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case nc:e:{for(var I=E.key,O=b;O!==null;){if(O.key===I){if(I=E.type,I===Mo){if(O.tag===7){r(x,O.sibling),b=i(O,E.props.children),b.return=x,x=b;break e}}else if(O.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Fi&&U_(I)===O.type){r(x,O.sibling),b=i(O,E.props),b.ref=Qa(x,O,E),b.return=x,x=b;break e}r(x,O);break}else e(x,O);O=O.sibling}E.type===Mo?(b=Us(E.props.children,x.mode,A,E.key),b.return=x,x=b):(A=sh(E.type,E.key,E.props,null,x.mode,A),A.ref=Qa(x,b,E),A.return=x,x=A)}return o(x);case ko:e:{for(O=E.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){r(x,b.sibling),b=i(b,E.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else e(x,b);b=b.sibling}b=bp(E,x.mode,A),b.return=x,x=b}return o(x);case Fi:return O=E._init,T(x,b,O(E._payload),A)}if(ol(E))return v(x,b,E,A);if(ja(E))return S(x,b,E,A);pc(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(r(x,b.sibling),b=i(b,E),b.return=x,x=b):(r(x,b),b=Sp(E,x.mode,A),b.return=x,x=b),o(x)):r(x,b)}return T}var la=mS(!0),gS=mS(!1),ou={},Hn=us(ou),Gl=us(ou),Hl=us(ou);function Fs(t){if(t===ou)throw Error(q(174));return t}function by(t,e){switch(Ge(Hl,e),Ge(Gl,t),Ge(Hn,ou),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wm(e,t)}We(Hn),Ge(Hn,e)}function ua(){We(Hn),We(Gl),We(Hl)}function yS(t){Fs(Hl.current);var e=Fs(Hn.current),r=wm(e,t.type);e!==r&&(Ge(Gl,t),Ge(Hn,r))}function Ey(t){Gl.current===t&&(We(Hn),We(Gl))}var tt=us(0);function Ih(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gp=[];function Ty(){for(var t=0;t<gp.length;t++)gp[t]._workInProgressVersionPrimary=null;gp.length=0}var eh=xi.ReactCurrentDispatcher,yp=xi.ReactCurrentBatchConfig,Ws=0,nt=null,_t=null,Pt=null,Rh=!1,wl=!1,$l=0,gP=0;function jt(){throw Error(q(321))}function Ay(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!_n(t[r],e[r]))return!1;return!0}function Cy(t,e,r,n,i,s){if(Ws=s,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eh.current=t===null||t.memoizedState===null?xP:wP,t=r(n,i),wl){s=0;do{if(wl=!1,$l=0,25<=s)throw Error(q(301));s+=1,Pt=_t=null,e.updateQueue=null,eh.current=SP,t=r(n,i)}while(wl)}if(eh.current=kh,e=_t!==null&&_t.next!==null,Ws=0,Pt=_t=nt=null,Rh=!1,e)throw Error(q(300));return t}function Py(){var t=$l!==0;return $l=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?nt.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Wr(){if(_t===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=Pt===null?nt.memoizedState:Pt.next;if(e!==null)Pt=e,_t=t;else{if(t===null)throw Error(q(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Pt===null?nt.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function jl(t,e){return typeof e=="function"?e(t):e}function vp(t){var e=Wr(),r=e.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=t;var n=_t,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var u=o=null,h=null,f=s;do{var m=f.lane;if((Ws&m)===m)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),n=f.hasEagerState?f.eagerState:t(n,f.action);else{var c={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(u=h=c,o=n):h=h.next=c,nt.lanes|=m,Xs|=m}f=f.next}while(f!==null&&f!==s);h===null?o=n:h.next=u,_n(n,e.memoizedState)||(cr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=h,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,nt.lanes|=s,Xs|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function _p(t){var e=Wr(),r=e.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);_n(s,e.memoizedState)||(cr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function vS(){}function _S(t,e){var r=nt,n=Wr(),i=e(),s=!_n(n.memoizedState,i);if(s&&(n.memoizedState=i,cr=!0),n=n.queue,Iy(SS.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Pt!==null&&Pt.memoizedState.tag&1){if(r.flags|=2048,Vl(9,wS.bind(null,r,n,i,e),void 0,null),Rt===null)throw Error(q(349));Ws&30||xS(r,e,i)}return i}function xS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function wS(t,e,r,n){e.value=r,e.getSnapshot=n,bS(e)&&ES(t)}function SS(t,e,r){return r(function(){bS(e)&&ES(t)})}function bS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!_n(t,r)}catch{return!0}}function ES(t){var e=yi(t,1);e!==null&&mn(e,t,1,-1)}function z_(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:t},e.queue=t,t=t.dispatch=_P.bind(null,nt,t),[e.memoizedState,t]}function Vl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function TS(){return Wr().memoizedState}function th(t,e,r,n){var i=Fn();nt.flags|=t,i.memoizedState=Vl(1|e,r,void 0,n===void 0?null:n)}function hd(t,e,r,n){var i=Wr();n=n===void 0?null:n;var s=void 0;if(_t!==null){var o=_t.memoizedState;if(s=o.destroy,n!==null&&Ay(n,o.deps)){i.memoizedState=Vl(e,r,s,n);return}}nt.flags|=t,i.memoizedState=Vl(1|e,r,s,n)}function G_(t,e){return th(8390656,8,t,e)}function Iy(t,e){return hd(2048,8,t,e)}function AS(t,e){return hd(4,2,t,e)}function CS(t,e){return hd(4,4,t,e)}function PS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IS(t,e,r){return r=r!=null?r.concat([t]):null,hd(4,4,PS.bind(null,e,t),r)}function Ry(){}function RS(t,e){var r=Wr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ay(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function kS(t,e){var r=Wr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ay(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function MS(t,e,r){return Ws&21?(_n(r,e)||(r=Ow(),nt.lanes|=r,Xs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cr=!0),t.memoizedState=r)}function yP(t,e){var r=Le;Le=r!==0&&4>r?r:4,t(!0);var n=yp.transition;yp.transition={};try{t(!1),e()}finally{Le=r,yp.transition=n}}function DS(){return Wr().memoizedState}function vP(t,e,r){var n=Ji(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NS(t))OS(e,r);else if(r=hS(t,e,r,n),r!==null){var i=tr();mn(r,t,n,i),FS(r,e,n)}}function _P(t,e,r){var n=Ji(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NS(t))OS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,r);if(i.hasEagerState=!0,i.eagerState=u,_n(u,o)){var h=e.interleaved;h===null?(i.next=i,wy(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}r=hS(t,e,i,n),r!==null&&(i=tr(),mn(r,t,n,i),FS(r,e,n))}}function NS(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function OS(t,e){wl=Rh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function FS(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ay(t,r)}}var kh={readContext:Vr,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},xP={readContext:Vr,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:Vr,useEffect:G_,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,th(4194308,4,PS.bind(null,e,t),r)},useLayoutEffect:function(t,e){return th(4194308,4,t,e)},useInsertionEffect:function(t,e){return th(4,2,t,e)},useMemo:function(t,e){var r=Fn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Fn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=vP.bind(null,nt,t),[n.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:z_,useDebugValue:Ry,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=z_(!1),e=t[0];return t=yP.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=nt,i=Fn();if(qe){if(r===void 0)throw Error(q(407));r=r()}else{if(r=e(),Rt===null)throw Error(q(349));Ws&30||xS(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,G_(SS.bind(null,n,s,t),[t]),n.flags|=2048,Vl(9,wS.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Fn(),e=Rt.identifierPrefix;if(qe){var r=li,n=ai;r=(n&~(1<<32-pn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=$l++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=gP++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wP={readContext:Vr,useCallback:RS,useContext:Vr,useEffect:Iy,useImperativeHandle:IS,useInsertionEffect:AS,useLayoutEffect:CS,useMemo:kS,useReducer:vp,useRef:TS,useState:function(){return vp(jl)},useDebugValue:Ry,useDeferredValue:function(t){var e=Wr();return MS(e,_t.memoizedState,t)},useTransition:function(){var t=vp(jl)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:vS,useSyncExternalStore:_S,useId:DS,unstable_isNewReconciler:!1},SP={readContext:Vr,useCallback:RS,useContext:Vr,useEffect:Iy,useImperativeHandle:IS,useInsertionEffect:AS,useLayoutEffect:CS,useMemo:kS,useReducer:_p,useRef:TS,useState:function(){return _p(jl)},useDebugValue:Ry,useDeferredValue:function(t){var e=Wr();return _t===null?e.memoizedState=t:MS(e,_t.memoizedState,t)},useTransition:function(){var t=_p(jl)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:vS,useSyncExternalStore:_S,useId:DS,unstable_isNewReconciler:!1};function ca(t,e){try{var r="",n=e;do r+=qA(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function jm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var bP=typeof WeakMap=="function"?WeakMap:Map;function BS(t,e,r){r=di(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Dh||(Dh=!0,eg=n),jm(t,e)},r}function LS(t,e,r){r=di(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){jm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){jm(t,e),typeof n!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function H_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new bP;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=BP.bind(null,t,e,r),e.then(t,t))}function $_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function j_(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=di(-1,1),e.tag=2,Ki(r,e,1))),r.lanes|=1),t)}var EP=xi.ReactCurrentOwner,cr=!1;function er(t,e,r,n){e.child=t===null?gS(e,null,r,n):la(e,t.child,r,n)}function V_(t,e,r,n,i){r=r.render;var s=e.ref;return qo(e,i),n=Cy(t,e,r,n,s,i),r=Py(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(qe&&r&&my(e),e.flags|=1,er(t,e,n,i),e.child)}function W_(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Ly(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,US(t,e,s,n,i)):(t=sh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Bl,r(o,n)&&t.ref===e.ref)return vi(t,e,i)}return e.flags|=1,t=es(s,n),t.ref=e.ref,t.return=e,e.child=t}function US(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Bl(s,n)&&t.ref===e.ref)if(cr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(cr=!0);else return e.lanes=t.lanes,vi(t,e,i)}return Vm(t,e,r,n,i)}function zS(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Ho,wr),wr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(Ho,wr),wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ge(Ho,wr),wr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ge(Ho,wr),wr|=n;return er(t,e,i,r),e.child}function GS(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Vm(t,e,r,n,i){var s=dr(r)?js:Qt.current;return s=oa(e,s),qo(e,i),r=Cy(t,e,r,n,s,i),n=Py(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(qe&&n&&my(e),e.flags|=1,er(t,e,r,i),e.child)}function X_(t,e,r,n,i){if(dr(r)){var s=!0;bh(e)}else s=!1;if(qo(e,i),e.stateNode===null)rh(t,e),pS(e,r,n),$m(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var h=o.context,f=r.contextType;typeof f=="object"&&f!==null?f=Vr(f):(f=dr(r)?js:Qt.current,f=oa(e,f));var m=r.getDerivedStateFromProps,c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||h!==f)&&L_(e,o,n,f),Bi=!1;var d=e.memoizedState;o.state=d,Ph(e,n,o,i),h=e.memoizedState,u!==n||d!==h||hr.current||Bi?(typeof m=="function"&&(Hm(e,r,m,n),h=e.memoizedState),(u=Bi||B_(e,r,u,n,d,h,f))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=h),o.props=n,o.state=h,o.context=f,n=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,dS(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:sn(e.type,u),o.props=f,c=e.pendingProps,d=o.context,h=r.contextType,typeof h=="object"&&h!==null?h=Vr(h):(h=dr(r)?js:Qt.current,h=oa(e,h));var g=r.getDerivedStateFromProps;(m=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==c||d!==h)&&L_(e,o,n,h),Bi=!1,d=e.memoizedState,o.state=d,Ph(e,n,o,i);var v=e.memoizedState;u!==c||d!==v||hr.current||Bi?(typeof g=="function"&&(Hm(e,r,g,n),v=e.memoizedState),(f=Bi||B_(e,r,f,n,d,v,h)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,h),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,h)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=h,n=f):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Wm(t,e,r,n,s,i)}function Wm(t,e,r,n,i,s){GS(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&M_(e,r,!1),vi(t,e,s);n=e.stateNode,EP.current=e;var u=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=la(e,t.child,null,s),e.child=la(e,null,u,s)):er(t,e,u,s),e.memoizedState=n.state,i&&M_(e,r,!0),e.child}function HS(t){var e=t.stateNode;e.pendingContext?k_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&k_(t,e.context,!1),by(t,e.containerInfo)}function Y_(t,e,r,n,i){return aa(),yy(i),e.flags|=256,er(t,e,r,n),e.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function Ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function $S(t,e,r){var n=e.pendingProps,i=tt.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(tt,i&1),t===null)return zm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pd(o,n,0,null),t=Us(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ym(r),e.memoizedState=Xm,t):ky(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return TP(t,e,o,n,u,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,u=i.sibling;var h={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=h,e.deletions=null):(n=es(i,h),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=es(u,s):(s=Us(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Ym(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Xm,n}return s=t.child,t=s.sibling,n=es(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ky(t,e){return e=pd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mc(t,e,r,n){return n!==null&&yy(n),la(e,t.child,null,r),t=ky(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TP(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=xp(Error(q(422))),mc(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=pd({mode:"visible",children:n.children},i,0,null),s=Us(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&la(e,t.child,null,o),e.child.memoizedState=Ym(o),e.memoizedState=Xm,s);if(!(e.mode&1))return mc(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(q(419)),n=xp(s,n,void 0),mc(t,e,o,n)}if(u=(o&t.childLanes)!==0,cr||u){if(n=Rt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yi(t,i),mn(n,t,i,-1))}return By(),n=xp(Error(q(421))),mc(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Sr=qi(i.nextSibling),br=e,qe=!0,ln=null,t!==null&&(Lr[Ur++]=ai,Lr[Ur++]=li,Lr[Ur++]=Vs,ai=t.id,li=t.overflow,Vs=e),e=ky(e,n.children),e.flags|=4096,e)}function Q_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Gm(t.return,e,r)}function wp(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function jS(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(er(t,e,n.children,r),n=tt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q_(t,r,e);else if(t.tag===19)Q_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ge(tt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ih(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),wp(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ih(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}wp(e,!0,r,null,s);break;case"together":wp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Xs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,r=es(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=es(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function AP(t,e,r){switch(e.tag){case 3:HS(e),aa();break;case 5:yS(e);break;case 1:dr(e.type)&&bh(e);break;case 4:by(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ge(Ah,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ge(tt,tt.current&1),e.flags|=128,null):r&e.child.childLanes?$S(t,e,r):(Ge(tt,tt.current&1),t=vi(t,e,r),t!==null?t.sibling:null);Ge(tt,tt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return jS(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(tt,tt.current),n)break;return null;case 22:case 23:return e.lanes=0,zS(t,e,r)}return vi(t,e,r)}var VS,Qm,WS,XS;VS=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qm=function(){};WS=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Fs(Hn.current);var s=null;switch(r){case"input":i=ym(t,i),n=ym(t,n),s=[];break;case"select":i=it({},i,{value:void 0}),n=it({},n,{value:void 0}),s=[];break;case"textarea":i=xm(t,i),n=xm(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=wh)}Sm(r,n);var o;r=null;for(f in i)if(!n.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Rl.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in n){var h=n[f];if(u=i!=null?i[f]:void 0,n.hasOwnProperty(f)&&h!==u&&(h!=null||u!=null))if(f==="style")if(u){for(o in u)!u.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in h)h.hasOwnProperty(o)&&u[o]!==h[o]&&(r||(r={}),r[o]=h[o])}else r||(s||(s=[]),s.push(f,r)),r=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(s=s||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Rl.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&$e("scroll",t),s||u===h||(s=[])):(s=s||[]).push(f,h))}r&&(s=s||[]).push("style",r);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};XS=function(t,e,r,n){r!==n&&(e.flags|=4)};function qa(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function CP(t,e,r){var n=e.pendingProps;switch(gy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return dr(e.type)&&Sh(),Vt(e),null;case 3:return n=e.stateNode,ua(),We(hr),We(Qt),Ty(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ln!==null&&(ng(ln),ln=null))),Qm(t,e),Vt(e),null;case 5:Ey(e);var i=Fs(Hl.current);if(r=e.type,t!==null&&e.stateNode!=null)WS(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(q(166));return Vt(e),null}if(t=Fs(Hn.current),fc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Un]=e,n[zl]=s,t=(e.mode&1)!==0,r){case"dialog":$e("cancel",n),$e("close",n);break;case"iframe":case"object":case"embed":$e("load",n);break;case"video":case"audio":for(i=0;i<ll.length;i++)$e(ll[i],n);break;case"source":$e("error",n);break;case"img":case"image":case"link":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"input":i_(n,s),$e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},$e("invalid",n);break;case"textarea":o_(n,s),$e("invalid",n)}Sm(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&dc(n.textContent,u,t),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&dc(n.textContent,u,t),i=["children",""+u]):Rl.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&$e("scroll",n)}switch(r){case"input":ic(n),s_(n,s,!0);break;case"textarea":ic(n),a_(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=wh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xw(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Un]=e,t[zl]=n,VS(t,e,!1,!1),e.stateNode=t;e:{switch(o=bm(r,n),r){case"dialog":$e("cancel",t),$e("close",t),i=n;break;case"iframe":case"object":case"embed":$e("load",t),i=n;break;case"video":case"audio":for(i=0;i<ll.length;i++)$e(ll[i],t);i=n;break;case"source":$e("error",t),i=n;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=n;break;case"details":$e("toggle",t),i=n;break;case"input":i_(t,n),i=ym(t,n),$e("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=it({},n,{value:void 0}),$e("invalid",t);break;case"textarea":o_(t,n),i=xm(t,n),$e("invalid",t);break;default:i=n}Sm(r,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];s==="style"?bw(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&ww(t,h)):s==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&kl(t,h):typeof h=="number"&&kl(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Rl.hasOwnProperty(s)?h!=null&&s==="onScroll"&&$e("scroll",t):h!=null&&ty(t,s,h,o))}switch(r){case"input":ic(t),s_(t,n,!1);break;case"textarea":ic(t),a_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+rs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Wo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Wo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)XS(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(q(166));if(r=Fs(Hl.current),Fs(Hn.current),fc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Un]=e,(s=n.nodeValue!==r)&&(t=br,t!==null))switch(t.tag){case 3:dc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Un]=e,e.stateNode=n}return Vt(e),null;case 13:if(We(tt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&Sr!==null&&e.mode&1&&!(e.flags&128))cS(),aa(),e.flags|=98560,s=!1;else if(s=fc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Un]=e}else aa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),s=!1}else ln!==null&&(ng(ln),ln=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?xt===0&&(xt=3):By())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return ua(),Qm(t,e),t===null&&Ll(e.stateNode.containerInfo),Vt(e),null;case 10:return xy(e.type._context),Vt(e),null;case 17:return dr(e.type)&&Sh(),Vt(e),null;case 19:if(We(tt),s=e.memoizedState,s===null)return Vt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)qa(s,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ih(t),o!==null){for(e.flags|=128,qa(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ge(tt,tt.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>ha&&(e.flags|=128,n=!0,qa(s,!1),e.lanes=4194304)}else{if(!n)if(t=Ih(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),qa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return Vt(e),null}else 2*dt()-s.renderingStartTime>ha&&r!==1073741824&&(e.flags|=128,n=!0,qa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,r=tt.current,Ge(tt,n?r&1|2:r&1),e):(Vt(e),null);case 22:case 23:return Fy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?wr&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function PP(t,e){switch(gy(e),e.tag){case 1:return dr(e.type)&&Sh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ua(),We(hr),We(Qt),Ty(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ey(e),null;case 13:if(We(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(tt),null;case 4:return ua(),null;case 10:return xy(e.type._context),null;case 22:case 23:return Fy(),null;case 24:return null;default:return null}}var gc=!1,Xt=!1,IP=typeof WeakSet=="function"?WeakSet:Set,le=null;function Go(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(t,e,n)}else r.current=null}function qm(t,e,r){try{r()}catch(n){at(t,e,n)}}var q_=!1;function RP(t,e){if(Dm=vh,t=Kw(),py(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,u=-1,h=-1,f=0,m=0,c=t,d=null;t:for(;;){for(var g;c!==r||i!==0&&c.nodeType!==3||(u=o+i),c!==s||n!==0&&c.nodeType!==3||(h=o+n),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)d=c,c=g;for(;;){if(c===t)break t;if(d===r&&++f===i&&(u=o),d===s&&++m===n&&(h=o),(g=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=g}r=u===-1||h===-1?null:{start:u,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nm={focusedElem:t,selectionRange:r},vh=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,T=v.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?S:sn(e.type,S),T);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(A){at(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return v=q_,q_=!1,v}function Sl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&qm(e,r,s)}i=i.next}while(i!==n)}}function dd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Km(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function YS(t){var e=t.alternate;e!==null&&(t.alternate=null,YS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[zl],delete e[Bm],delete e[dP],delete e[fP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QS(t){return t.tag===5||t.tag===3||t.tag===4}function K_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=wh));else if(n!==4&&(t=t.child,t!==null))for(Zm(t,e,r),t=t.sibling;t!==null;)Zm(t,e,r),t=t.sibling}function Jm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Jm(t,e,r),t=t.sibling;t!==null;)Jm(t,e,r),t=t.sibling}var Nt=null,an=!1;function Di(t,e,r){for(r=r.child;r!==null;)qS(t,e,r),r=r.sibling}function qS(t,e,r){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(id,r)}catch{}switch(r.tag){case 5:Xt||Go(r,e);case 6:var n=Nt,i=an;Nt=null,Di(t,e,r),Nt=n,an=i,Nt!==null&&(an?(t=Nt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Nt.removeChild(r.stateNode));break;case 18:Nt!==null&&(an?(t=Nt,r=r.stateNode,t.nodeType===8?pp(t.parentNode,r):t.nodeType===1&&pp(t,r),Ol(t)):pp(Nt,r.stateNode));break;case 4:n=Nt,i=an,Nt=r.stateNode.containerInfo,an=!0,Di(t,e,r),Nt=n,an=i;break;case 0:case 11:case 14:case 15:if(!Xt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qm(r,e,o),i=i.next}while(i!==n)}Di(t,e,r);break;case 1:if(!Xt&&(Go(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){at(r,e,u)}Di(t,e,r);break;case 21:Di(t,e,r);break;case 22:r.mode&1?(Xt=(n=Xt)||r.memoizedState!==null,Di(t,e,r),Xt=n):Di(t,e,r);break;default:Di(t,e,r)}}function Z_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new IP),e.forEach(function(n){var i=UP.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Zr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:Nt=u.stateNode,an=!1;break e;case 3:Nt=u.stateNode.containerInfo,an=!0;break e;case 4:Nt=u.stateNode.containerInfo,an=!0;break e}u=u.return}if(Nt===null)throw Error(q(160));qS(s,o,i),Nt=null,an=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(f){at(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KS(e,t),e=e.sibling}function KS(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zr(e,t),Mn(t),n&4){try{Sl(3,t,t.return),dd(3,t)}catch(S){at(t,t.return,S)}try{Sl(5,t,t.return)}catch(S){at(t,t.return,S)}}break;case 1:Zr(e,t),Mn(t),n&512&&r!==null&&Go(r,r.return);break;case 5:if(Zr(e,t),Mn(t),n&512&&r!==null&&Go(r,r.return),t.flags&32){var i=t.stateNode;try{kl(i,"")}catch(S){at(t,t.return,S)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&vw(i,s),bm(u,o);var f=bm(u,s);for(o=0;o<h.length;o+=2){var m=h[o],c=h[o+1];m==="style"?bw(i,c):m==="dangerouslySetInnerHTML"?ww(i,c):m==="children"?kl(i,c):ty(i,m,c,f)}switch(u){case"input":vm(i,s);break;case"textarea":_w(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Wo(i,!!s.multiple,g,!1):d!==!!s.multiple&&(s.defaultValue!=null?Wo(i,!!s.multiple,s.defaultValue,!0):Wo(i,!!s.multiple,s.multiple?[]:"",!1))}i[zl]=s}catch(S){at(t,t.return,S)}}break;case 6:if(Zr(e,t),Mn(t),n&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){at(t,t.return,S)}}break;case 3:if(Zr(e,t),Mn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ol(e.containerInfo)}catch(S){at(t,t.return,S)}break;case 4:Zr(e,t),Mn(t);break;case 13:Zr(e,t),Mn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ny=dt())),n&4&&Z_(t);break;case 22:if(m=r!==null&&r.memoizedState!==null,t.mode&1?(Xt=(f=Xt)||m,Zr(e,t),Xt=f):Zr(e,t),Mn(t),n&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(le=t,m=t.child;m!==null;){for(c=le=m;le!==null;){switch(d=le,g=d.child,d.tag){case 0:case 11:case 14:case 15:Sl(4,d,d.return);break;case 1:Go(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(S){at(n,r,S)}}break;case 5:Go(d,d.return);break;case 22:if(d.memoizedState!==null){e1(c);continue}}g!==null?(g.return=d,le=g):e1(c)}m=m.sibling}e:for(m=null,c=t;;){if(c.tag===5){if(m===null){m=c;try{i=c.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=c.stateNode,h=c.memoizedProps.style,o=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=Sw("display",o))}catch(S){at(t,t.return,S)}}}else if(c.tag===6){if(m===null)try{c.stateNode.nodeValue=f?"":c.memoizedProps}catch(S){at(t,t.return,S)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Zr(e,t),Mn(t),n&4&&Z_(t);break;case 21:break;default:Zr(e,t),Mn(t)}}function Mn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(QS(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(kl(i,""),n.flags&=-33);var s=K_(t);Jm(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,u=K_(t);Zm(t,u,o);break;default:throw Error(q(161))}}catch(h){at(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kP(t,e,r){le=t,ZS(t)}function ZS(t,e,r){for(var n=(t.mode&1)!==0;le!==null;){var i=le,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||gc;if(!o){var u=i.alternate,h=u!==null&&u.memoizedState!==null||Xt;u=gc;var f=Xt;if(gc=o,(Xt=h)&&!f)for(le=i;le!==null;)o=le,h=o.child,o.tag===22&&o.memoizedState!==null?t1(i):h!==null?(h.return=o,le=h):t1(i);for(;s!==null;)le=s,ZS(s),s=s.sibling;le=i,gc=u,Xt=f}J_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,le=s):J_(t)}}function J_(t){for(;le!==null;){var e=le;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||dd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Xt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:sn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&F_(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}F_(e,o,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var c=m.dehydrated;c!==null&&Ol(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Xt||e.flags&512&&Km(e)}catch(d){at(e,e.return,d)}}if(e===t){le=null;break}if(r=e.sibling,r!==null){r.return=e.return,le=r;break}le=e.return}}function e1(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var r=e.sibling;if(r!==null){r.return=e.return,le=r;break}le=e.return}}function t1(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{dd(4,e)}catch(h){at(e,r,h)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(h){at(e,i,h)}}var s=e.return;try{Km(e)}catch(h){at(e,s,h)}break;case 5:var o=e.return;try{Km(e)}catch(h){at(e,o,h)}}}catch(h){at(e,e.return,h)}if(e===t){le=null;break}var u=e.sibling;if(u!==null){u.return=e.return,le=u;break}le=e.return}}var MP=Math.ceil,Mh=xi.ReactCurrentDispatcher,My=xi.ReactCurrentOwner,jr=xi.ReactCurrentBatchConfig,Ie=0,Rt=null,gt=null,Lt=0,wr=0,Ho=us(0),xt=0,Wl=null,Xs=0,fd=0,Dy=0,bl=null,ur=null,Ny=0,ha=1/0,ii=null,Dh=!1,eg=null,Zi=null,yc=!1,ji=null,Nh=0,El=0,tg=null,nh=-1,ih=0;function tr(){return Ie&6?dt():nh!==-1?nh:nh=dt()}function Ji(t){return t.mode&1?Ie&2&&Lt!==0?Lt&-Lt:mP.transition!==null?(ih===0&&(ih=Ow()),ih):(t=Le,t!==0||(t=window.event,t=t===void 0?16:Hw(t.type)),t):1}function mn(t,e,r,n){if(50<El)throw El=0,tg=null,Error(q(185));nu(t,r,n),(!(Ie&2)||t!==Rt)&&(t===Rt&&(!(Ie&2)&&(fd|=r),xt===4&&Gi(t,Lt)),fr(t,n),r===1&&Ie===0&&!(e.mode&1)&&(ha=dt()+500,ud&&cs()))}function fr(t,e){var r=t.callbackNode;mC(t,e);var n=yh(t,t===Rt?Lt:0);if(n===0)r!==null&&c_(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&c_(r),e===1)t.tag===0?pP(r1.bind(null,t)):aS(r1.bind(null,t)),cP(function(){!(Ie&6)&&cs()}),r=null;else{switch(Fw(n)){case 1:r=oy;break;case 4:r=Dw;break;case 16:r=gh;break;case 536870912:r=Nw;break;default:r=gh}r=ob(r,JS.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function JS(t,e){if(nh=-1,ih=0,Ie&6)throw Error(q(327));var r=t.callbackNode;if(Ko()&&t.callbackNode!==r)return null;var n=yh(t,t===Rt?Lt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Oh(t,n);else{e=n;var i=Ie;Ie|=2;var s=tb();(Rt!==t||Lt!==e)&&(ii=null,ha=dt()+500,Ls(t,e));do try{OP();break}catch(u){eb(t,u)}while(1);_y(),Mh.current=s,Ie=i,gt!==null?e=0:(Rt=null,Lt=0,e=xt)}if(e!==0){if(e===2&&(i=Pm(t),i!==0&&(n=i,e=rg(t,i))),e===1)throw r=Wl,Ls(t,0),Gi(t,n),fr(t,dt()),r;if(e===6)Gi(t,n);else{if(i=t.current.alternate,!(n&30)&&!DP(i)&&(e=Oh(t,n),e===2&&(s=Pm(t),s!==0&&(n=s,e=rg(t,s))),e===1))throw r=Wl,Ls(t,0),Gi(t,n),fr(t,dt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(q(345));case 2:Cs(t,ur,ii);break;case 3:if(Gi(t,n),(n&130023424)===n&&(e=Ny+500-dt(),10<e)){if(yh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){tr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fm(Cs.bind(null,t,ur,ii),e);break}Cs(t,ur,ii);break;case 4:if(Gi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-pn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=dt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*MP(n/1960))-n,10<n){t.timeoutHandle=Fm(Cs.bind(null,t,ur,ii),n);break}Cs(t,ur,ii);break;case 5:Cs(t,ur,ii);break;default:throw Error(q(329))}}}return fr(t,dt()),t.callbackNode===r?JS.bind(null,t):null}function rg(t,e){var r=bl;return t.current.memoizedState.isDehydrated&&(Ls(t,e).flags|=256),t=Oh(t,e),t!==2&&(e=ur,ur=r,e!==null&&ng(e)),t}function ng(t){ur===null?ur=t:ur.push.apply(ur,t)}function DP(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!_n(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gi(t,e){for(e&=~Dy,e&=~fd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-pn(e),n=1<<r;t[r]=-1,e&=~n}}function r1(t){if(Ie&6)throw Error(q(327));Ko();var e=yh(t,0);if(!(e&1))return fr(t,dt()),null;var r=Oh(t,e);if(t.tag!==0&&r===2){var n=Pm(t);n!==0&&(e=n,r=rg(t,n))}if(r===1)throw r=Wl,Ls(t,0),Gi(t,e),fr(t,dt()),r;if(r===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cs(t,ur,ii),fr(t,dt()),null}function Oy(t,e){var r=Ie;Ie|=1;try{return t(e)}finally{Ie=r,Ie===0&&(ha=dt()+500,ud&&cs())}}function Ys(t){ji!==null&&ji.tag===0&&!(Ie&6)&&Ko();var e=Ie;Ie|=1;var r=jr.transition,n=Le;try{if(jr.transition=null,Le=1,t)return t()}finally{Le=n,jr.transition=r,Ie=e,!(Ie&6)&&cs()}}function Fy(){wr=Ho.current,We(Ho)}function Ls(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,uP(r)),gt!==null)for(r=gt.return;r!==null;){var n=r;switch(gy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sh();break;case 3:ua(),We(hr),We(Qt),Ty();break;case 5:Ey(n);break;case 4:ua();break;case 13:We(tt);break;case 19:We(tt);break;case 10:xy(n.type._context);break;case 22:case 23:Fy()}r=r.return}if(Rt=t,gt=t=es(t.current,null),Lt=wr=e,xt=0,Wl=null,Dy=fd=Xs=0,ur=bl=null,Os!==null){for(e=0;e<Os.length;e++)if(r=Os[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Os=null}return t}function eb(t,e){do{var r=gt;try{if(_y(),eh.current=kh,Rh){for(var n=nt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Rh=!1}if(Ws=0,Pt=_t=nt=null,wl=!1,$l=0,My.current=null,r===null||r.return===null){xt=1,Wl=e,gt=null;break}e:{var s=t,o=r.return,u=r,h=e;if(e=Lt,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,m=u,c=m.tag;if(!(m.mode&1)&&(c===0||c===11||c===15)){var d=m.alternate;d?(m.updateQueue=d.updateQueue,m.memoizedState=d.memoizedState,m.lanes=d.lanes):(m.updateQueue=null,m.memoizedState=null)}var g=$_(o);if(g!==null){g.flags&=-257,j_(g,o,u,s,e),g.mode&1&&H_(s,f,e),e=g,h=f;var v=e.updateQueue;if(v===null){var S=new Set;S.add(h),e.updateQueue=S}else v.add(h);break e}else{if(!(e&1)){H_(s,f,e),By();break e}h=Error(q(426))}}else if(qe&&u.mode&1){var T=$_(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),j_(T,o,u,s,e),yy(ca(h,u));break e}}s=h=ca(h,u),xt!==4&&(xt=2),bl===null?bl=[s]:bl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=BS(s,h,e);O_(s,x);break e;case 1:u=h;var b=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Zi===null||!Zi.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=LS(s,u,e);O_(s,A);break e}}s=s.return}while(s!==null)}nb(r)}catch(I){e=I,gt===r&&r!==null&&(gt=r=r.return);continue}break}while(1)}function tb(){var t=Mh.current;return Mh.current=kh,t===null?kh:t}function By(){(xt===0||xt===3||xt===2)&&(xt=4),Rt===null||!(Xs&268435455)&&!(fd&268435455)||Gi(Rt,Lt)}function Oh(t,e){var r=Ie;Ie|=2;var n=tb();(Rt!==t||Lt!==e)&&(ii=null,Ls(t,e));do try{NP();break}catch(i){eb(t,i)}while(1);if(_y(),Ie=r,Mh.current=n,gt!==null)throw Error(q(261));return Rt=null,Lt=0,xt}function NP(){for(;gt!==null;)rb(gt)}function OP(){for(;gt!==null&&!oC();)rb(gt)}function rb(t){var e=sb(t.alternate,t,wr);t.memoizedProps=t.pendingProps,e===null?nb(t):gt=e,My.current=null}function nb(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=PP(r,e),r!==null){r.flags&=32767,gt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,gt=null;return}}else if(r=CP(r,e,wr),r!==null){gt=r;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);xt===0&&(xt=5)}function Cs(t,e,r){var n=Le,i=jr.transition;try{jr.transition=null,Le=1,FP(t,e,r,n)}finally{jr.transition=i,Le=n}return null}function FP(t,e,r,n){do Ko();while(ji!==null);if(Ie&6)throw Error(q(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(gC(t,s),t===Rt&&(gt=Rt=null,Lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yc||(yc=!0,ob(gh,function(){return Ko(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=jr.transition,jr.transition=null;var o=Le;Le=1;var u=Ie;Ie|=4,My.current=null,RP(t,r),KS(r,t),rP(Nm),vh=!!Dm,Nm=Dm=null,t.current=r,kP(r),aC(),Ie=u,Le=o,jr.transition=s}else t.current=r;if(yc&&(yc=!1,ji=t,Nh=i),s=t.pendingLanes,s===0&&(Zi=null),cC(r.stateNode),fr(t,dt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Dh)throw Dh=!1,t=eg,eg=null,t;return Nh&1&&t.tag!==0&&Ko(),s=t.pendingLanes,s&1?t===tg?El++:(El=0,tg=t):El=0,cs(),null}function Ko(){if(ji!==null){var t=Fw(Nh),e=jr.transition,r=Le;try{if(jr.transition=null,Le=16>t?16:t,ji===null)var n=!1;else{if(t=ji,ji=null,Nh=0,Ie&6)throw Error(q(331));var i=Ie;for(Ie|=4,le=t.current;le!==null;){var s=le,o=s.child;if(le.flags&16){var u=s.deletions;if(u!==null){for(var h=0;h<u.length;h++){var f=u[h];for(le=f;le!==null;){var m=le;switch(m.tag){case 0:case 11:case 15:Sl(8,m,s)}var c=m.child;if(c!==null)c.return=m,le=c;else for(;le!==null;){m=le;var d=m.sibling,g=m.return;if(YS(m),m===f){le=null;break}if(d!==null){d.return=g,le=d;break}le=g}}}var v=s.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var T=S.sibling;S.sibling=null,S=T}while(S!==null)}}le=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,le=o;else e:for(;le!==null;){if(s=le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sl(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,le=x;break e}le=s.return}}var b=t.current;for(le=b;le!==null;){o=le;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,le=E;else e:for(o=b;le!==null;){if(u=le,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:dd(9,u)}}catch(I){at(u,u.return,I)}if(u===o){le=null;break e}var A=u.sibling;if(A!==null){A.return=u.return,le=A;break e}le=u.return}}if(Ie=i,cs(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(id,t)}catch{}n=!0}return n}finally{Le=r,jr.transition=e}}return!1}function n1(t,e,r){e=ca(r,e),e=BS(t,e,1),t=Ki(t,e,1),e=tr(),t!==null&&(nu(t,1,e),fr(t,e))}function at(t,e,r){if(t.tag===3)n1(t,t,r);else for(;e!==null;){if(e.tag===3){n1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zi===null||!Zi.has(n))){t=ca(r,t),t=LS(e,t,1),e=Ki(e,t,1),t=tr(),e!==null&&(nu(e,1,t),fr(e,t));break}}e=e.return}}function BP(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=tr(),t.pingedLanes|=t.suspendedLanes&r,Rt===t&&(Lt&r)===r&&(xt===4||xt===3&&(Lt&130023424)===Lt&&500>dt()-Ny?Ls(t,0):Dy|=r),fr(t,e)}function ib(t,e){e===0&&(t.mode&1?(e=ac,ac<<=1,!(ac&130023424)&&(ac=4194304)):e=1);var r=tr();t=yi(t,e),t!==null&&(nu(t,e,r),fr(t,r))}function LP(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ib(t,r)}function UP(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(e),ib(t,r)}var sb;sb=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||hr.current)cr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return cr=!1,AP(t,e,r);cr=!!(t.flags&131072)}else cr=!1,qe&&e.flags&1048576&&lS(e,Th,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;rh(t,e),t=e.pendingProps;var i=oa(e,Qt.current);qo(e,r),i=Cy(null,e,n,t,i,r);var s=Py();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dr(n)?(s=!0,bh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sy(e),i.updater=cd,e.stateNode=i,i._reactInternals=e,$m(e,n,t,r),e=Wm(null,e,n,!0,s,r)):(e.tag=0,qe&&s&&my(e),er(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(rh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=GP(n),t=sn(n,t),i){case 0:e=Vm(null,e,n,t,r);break e;case 1:e=X_(null,e,n,t,r);break e;case 11:e=V_(null,e,n,t,r);break e;case 14:e=W_(null,e,n,sn(n.type,t),r);break e}throw Error(q(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sn(n,i),Vm(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sn(n,i),X_(t,e,n,i,r);case 3:e:{if(HS(e),t===null)throw Error(q(387));n=e.pendingProps,s=e.memoizedState,i=s.element,dS(t,e),Ph(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ca(Error(q(423)),e),e=Y_(t,e,n,r,i);break e}else if(n!==i){i=ca(Error(q(424)),e),e=Y_(t,e,n,r,i);break e}else for(Sr=qi(e.stateNode.containerInfo.firstChild),br=e,qe=!0,ln=null,r=gS(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(aa(),n===i){e=vi(t,e,r);break e}er(t,e,n,r)}e=e.child}return e;case 5:return yS(e),t===null&&zm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Om(n,i)?o=null:s!==null&&Om(n,s)&&(e.flags|=32),GS(t,e),er(t,e,o,r),e.child;case 6:return t===null&&zm(e),null;case 13:return $S(t,e,r);case 4:return by(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=la(e,null,n,r):er(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sn(n,i),V_(t,e,n,i,r);case 7:return er(t,e,e.pendingProps,r),e.child;case 8:return er(t,e,e.pendingProps.children,r),e.child;case 12:return er(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ge(Ah,n._currentValue),n._currentValue=o,s!==null)if(_n(s.value,o)){if(s.children===i.children&&!hr.current){e=vi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var h=u.firstContext;h!==null;){if(h.context===n){if(s.tag===1){h=di(-1,r&-r),h.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?h.next=h:(h.next=m.next,m.next=h),f.pending=h}}s.lanes|=r,h=s.alternate,h!==null&&(h.lanes|=r),Gm(s.return,r,e),u.lanes|=r;break}h=h.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),Gm(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}er(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,qo(e,r),i=Vr(i),n=n(i),e.flags|=1,er(t,e,n,r),e.child;case 14:return n=e.type,i=sn(n,e.pendingProps),i=sn(n.type,i),W_(t,e,n,i,r);case 15:return US(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sn(n,i),rh(t,e),e.tag=1,dr(n)?(t=!0,bh(e)):t=!1,qo(e,r),pS(e,n,i),$m(e,n,i,r),Wm(null,e,n,!0,t,r);case 19:return jS(t,e,r);case 22:return zS(t,e,r)}throw Error(q(156,e.tag))};function ob(t,e){return Mw(t,e)}function zP(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(t,e,r,n){return new zP(t,e,r,n)}function Ly(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GP(t){if(typeof t=="function")return Ly(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ny)return 11;if(t===iy)return 14}return 2}function es(t,e){var r=t.alternate;return r===null?(r=zr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function sh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Ly(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mo:return Us(r.children,i,s,e);case ry:o=8,i|=8;break;case fm:return t=zr(12,r,e,i|2),t.elementType=fm,t.lanes=s,t;case pm:return t=zr(13,r,e,i),t.elementType=pm,t.lanes=s,t;case mm:return t=zr(19,r,e,i),t.elementType=mm,t.lanes=s,t;case mw:return pd(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fw:o=10;break e;case pw:o=9;break e;case ny:o=11;break e;case iy:o=14;break e;case Fi:o=16,n=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=zr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Us(t,e,r,n){return t=zr(7,t,n,e),t.lanes=r,t}function pd(t,e,r,n){return t=zr(22,t,n,e),t.elementType=mw,t.lanes=r,t.stateNode={isHidden:!1},t}function Sp(t,e,r){return t=zr(6,t,null,e),t.lanes=r,t}function bp(t,e,r){return e=zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HP(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=np(0),this.expirationTimes=np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uy(t,e,r,n,i,s,o,u,h){return t=new HP(t,e,r,u,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sy(s),t}function $P(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ab(t){if(!t)return ns;t=t._reactInternals;e:{if(Zs(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var r=t.type;if(dr(r))return oS(t,r,e)}return e}function lb(t,e,r,n,i,s,o,u,h){return t=Uy(r,n,!0,t,i,s,o,u,h),t.context=ab(null),r=t.current,n=tr(),i=Ji(r),s=di(n,i),s.callback=e??null,Ki(r,s,i),t.current.lanes=i,nu(t,i,n),fr(t,n),t}function md(t,e,r,n){var i=e.current,s=tr(),o=Ji(i);return r=ab(r),e.context===null?e.context=r:e.pendingContext=r,e=di(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ki(i,e,o),t!==null&&(mn(t,i,o,s),Jc(t,i,o)),o}function Fh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function i1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function zy(t,e){i1(t,e),(t=t.alternate)&&i1(t,e)}function jP(){return null}var ub=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gy(t){this._internalRoot=t}gd.prototype.render=Gy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));md(t,e,null,null)};gd.prototype.unmount=Gy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ys(function(){md(null,t,null,null)}),e[gi]=null}};function gd(t){this._internalRoot=t}gd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Uw();t={blockedOn:null,target:t,priority:e};for(var r=0;r<zi.length&&e!==0&&e<zi[r].priority;r++);zi.splice(r,0,t),r===0&&Gw(t)}};function Hy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s1(){}function VP(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var f=Fh(o);s.call(f)}}var o=lb(e,n,t,0,null,!1,!1,"",s1);return t._reactRootContainer=o,t[gi]=o.current,Ll(t.nodeType===8?t.parentNode:t),Ys(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var f=Fh(h);u.call(f)}}var h=Uy(t,0,!1,null,null,!1,!1,"",s1);return t._reactRootContainer=h,t[gi]=h.current,Ll(t.nodeType===8?t.parentNode:t),Ys(function(){md(e,h,r,n)}),h}function vd(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var h=Fh(o);u.call(h)}}md(e,o,t,i)}else o=VP(r,e,t,i,n);return Fh(o)}Bw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=al(e.pendingLanes);r!==0&&(ay(e,r|1),fr(e,dt()),!(Ie&6)&&(ha=dt()+500,cs()))}break;case 13:Ys(function(){var n=yi(t,1);if(n!==null){var i=tr();mn(n,t,1,i)}}),zy(t,1)}};ly=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var r=tr();mn(e,t,134217728,r)}zy(t,134217728)}};Lw=function(t){if(t.tag===13){var e=Ji(t),r=yi(t,e);if(r!==null){var n=tr();mn(r,t,e,n)}zy(t,e)}};Uw=function(){return Le};zw=function(t,e){var r=Le;try{return Le=t,e()}finally{Le=r}};Tm=function(t,e,r){switch(e){case"input":if(vm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ld(n);if(!i)throw Error(q(90));yw(n),vm(n,i)}}}break;case"textarea":_w(t,r);break;case"select":e=r.value,e!=null&&Wo(t,!!r.multiple,e,!1)}};Aw=Oy;Cw=Ys;var WP={usingClientEntryPoint:!1,Events:[su,Fo,ld,Ew,Tw,Oy]},Ka={findFiberByHostInstance:Ns,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XP={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||jP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{id=vc.inject(XP),Gn=vc}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WP;Ar.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hy(e))throw Error(q(200));return $P(t,e,null,r)};Ar.createRoot=function(t,e){if(!Hy(t))throw Error(q(299));var r=!1,n="",i=ub;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Uy(t,1,!1,null,null,r,!1,n,i),t[gi]=e.current,Ll(t.nodeType===8?t.parentNode:t),new Gy(e)};Ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Rw(e),t=t===null?null:t.stateNode,t};Ar.flushSync=function(t){return Ys(t)};Ar.hydrate=function(t,e,r){if(!yd(e))throw Error(q(200));return vd(null,t,e,!0,r)};Ar.hydrateRoot=function(t,e,r){if(!Hy(t))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=ub;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=lb(e,null,t,1,r??null,i,!1,s,o),t[gi]=e.current,Ll(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new gd(e)};Ar.render=function(t,e,r){if(!yd(e))throw Error(q(200));return vd(null,t,e,!1,r)};Ar.unmountComponentAtNode=function(t){if(!yd(t))throw Error(q(40));return t._reactRootContainer?(Ys(function(){vd(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};Ar.unstable_batchedUpdates=Oy;Ar.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!yd(r))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return vd(t,e,r,!1,n)};Ar.version="18.2.0-next-9e3b772b8-20220608";function cb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cb)}catch(t){console.error(t)}}cb(),lw.exports=Ar;var YP=lw.exports,o1=YP;hm.createRoot=o1.createRoot,hm.hydrateRoot=o1.hydrateRoot;var hb={exports:{}},Js=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Js||{}),db=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(db||{}),ig=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(ig||{}),ge=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ge||{}),hn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(hn||{}),J=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(J||{}),Zo=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Zo||{}),me=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(me||{}),sg=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(sg||{}),ui=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(ui||{}),fi=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(fi||{}),Vn=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Vn||{}),wn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(wn||{}),Bn=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Bn||{}),$y=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))($y||{}),Gr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Gr||{}),vt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(vt||{}),mt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(mt||{}),$n=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))($n||{});const QP={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ie={ADAPTER:QP,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Ep=/iPhone/i,a1=/iPod/i,l1=/iPad/i,u1=/\biOS-universal(?:.+)Mac\b/i,Tp=/\bAndroid(?:.+)Mobile\b/i,c1=/Android/i,xo=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,_c=/Silk/i,ei=/Windows Phone/i,h1=/\bWindows(?:.+)ARM\b/i,d1=/BlackBerry/i,f1=/BB10/i,p1=/Opera Mini/i,m1=/\b(CriOS|Chrome)(?:.+)Mobile/i,g1=/Mobile(?:.+)Firefox\b/i,y1=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function qP(t){return function(e){return e.test(t)}}function v1(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=qP(r),s={apple:{phone:i(Ep)&&!i(ei),ipod:i(a1),tablet:!i(Ep)&&(i(l1)||y1(e))&&!i(ei),universal:i(u1),device:(i(Ep)||i(a1)||i(l1)||i(u1)||y1(e))&&!i(ei)},amazon:{phone:i(xo),tablet:!i(xo)&&i(_c),device:i(xo)||i(_c)},android:{phone:!i(ei)&&i(xo)||!i(ei)&&i(Tp),tablet:!i(ei)&&!i(xo)&&!i(Tp)&&(i(_c)||i(c1)),device:!i(ei)&&(i(xo)||i(_c)||i(Tp)||i(c1))||i(/\bokhttp\b/i)},windows:{phone:i(ei),tablet:i(h1),device:i(ei)||i(h1)},other:{blackberry:i(d1),blackberry10:i(f1),opera:i(p1),firefox:i(g1),chrome:i(m1),device:i(d1)||i(f1)||i(p1)||i(g1)||i(m1)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const KP=v1.default??v1,ci=KP(globalThis.navigator);ie.RETINA_PREFIX=/@([0-9\.]+)x/;ie.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var fb={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(h,f,m){this.fn=h,this.context=f,this.once=m||!1}function s(h,f,m,c,d){if(typeof m!="function")throw new TypeError("The listener must be a function");var g=new i(m,c||h,d),v=r?r+f:f;return h._events[v]?h._events[v].fn?h._events[v]=[h._events[v],g]:h._events[v].push(g):(h._events[v]=g,h._eventsCount++),h}function o(h,f){--h._eventsCount===0?h._events=new n:delete h._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,c;if(this._eventsCount===0)return f;for(c in m=this._events)e.call(m,c)&&f.push(r?c.slice(1):c);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=r?r+f:f,c=this._events[m];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,g=c.length,v=new Array(g);d<g;d++)v[d]=c[d].fn;return v},u.prototype.listenerCount=function(f){var m=r?r+f:f,c=this._events[m];return c?c.fn?1:c.length:0},u.prototype.emit=function(f,m,c,d,g,v){var S=r?r+f:f;if(!this._events[S])return!1;var T=this._events[S],x=arguments.length,b,E;if(T.fn){switch(T.once&&this.removeListener(f,T.fn,void 0,!0),x){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,c),!0;case 4:return T.fn.call(T.context,m,c,d),!0;case 5:return T.fn.call(T.context,m,c,d,g),!0;case 6:return T.fn.call(T.context,m,c,d,g,v),!0}for(E=1,b=new Array(x-1);E<x;E++)b[E-1]=arguments[E];T.fn.apply(T.context,b)}else{var A=T.length,I;for(E=0;E<A;E++)switch(T[E].once&&this.removeListener(f,T[E].fn,void 0,!0),x){case 1:T[E].fn.call(T[E].context);break;case 2:T[E].fn.call(T[E].context,m);break;case 3:T[E].fn.call(T[E].context,m,c);break;case 4:T[E].fn.call(T[E].context,m,c,d);break;default:if(!b)for(I=1,b=new Array(x-1);I<x;I++)b[I-1]=arguments[I];T[E].fn.apply(T[E].context,b)}}return!0},u.prototype.on=function(f,m,c){return s(this,f,m,c,!1)},u.prototype.once=function(f,m,c){return s(this,f,m,c,!0)},u.prototype.removeListener=function(f,m,c,d){var g=r?r+f:f;if(!this._events[g])return this;if(!m)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===m&&(!d||v.once)&&(!c||v.context===c)&&o(this,g);else{for(var S=0,T=[],x=v.length;S<x;S++)(v[S].fn!==m||d&&!v[S].once||c&&v[S].context!==c)&&T.push(v[S]);T.length?this._events[g]=T.length===1?T[0]:T:o(this,g)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&o(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(fb);var ZP=fb.exports,au=rd(ZP),jy={exports:{}};jy.exports=_d;jy.exports.default=_d;function _d(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=pb(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var u,h,f,m,c,d,g;if(n&&(s=nI(t,e,s,r)),t.length>80*r){u=f=t[0],h=m=t[1];for(var v=r;v<i;v+=r)c=t[v],d=t[v+1],c<u&&(u=c),d<h&&(h=d),c>f&&(f=c),d>m&&(m=d);g=Math.max(f-u,m-h),g=g!==0?32767/g:0}return Xl(s,o,r,u,h,g,0),o}function pb(t,e,r,n,i){var s,o;if(i===lg(t,e,r,n)>0)for(s=e;s<r;s+=n)o=_1(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=_1(s,t[s],t[s+1],o);return o&&xd(o,o.next)&&(Ql(o),o=o.next),o}function Qs(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(xd(r,r.next)||rt(r.prev,r,r.next)===0)){if(Ql(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Xl(t,e,r,n,i,s,o){if(t){!o&&s&&lI(t,n,i,s);for(var u=t,h,f;t.prev!==t.next;){if(h=t.prev,f=t.next,s?eI(t,n,i,s):JP(t)){e.push(h.i/r|0),e.push(t.i/r|0),e.push(f.i/r|0),Ql(t),t=f.next,u=f.next;continue}if(t=f,t===u){o?o===1?(t=tI(Qs(t),e,r),Xl(t,e,r,n,i,s,2)):o===2&&rI(t,e,r,n,i,s):Xl(Qs(t),e,r,n,i,s,1);break}}}}function JP(t){var e=t.prev,r=t,n=t.next;if(rt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,u=e.y,h=r.y,f=n.y,m=i<s?i<o?i:o:s<o?s:o,c=u<h?u<f?u:f:h<f?h:f,d=i>s?i>o?i:o:s>o?s:o,g=u>h?u>f?u:f:h>f?h:f,v=n.next;v!==e;){if(v.x>=m&&v.x<=d&&v.y>=c&&v.y<=g&&$o(i,u,s,h,o,f,v.x,v.y)&&rt(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function eI(t,e,r,n){var i=t.prev,s=t,o=t.next;if(rt(i,s,o)>=0)return!1;for(var u=i.x,h=s.x,f=o.x,m=i.y,c=s.y,d=o.y,g=u<h?u<f?u:f:h<f?h:f,v=m<c?m<d?m:d:c<d?c:d,S=u>h?u>f?u:f:h>f?h:f,T=m>c?m>d?m:d:c>d?c:d,x=og(g,v,e,r,n),b=og(S,T,e,r,n),E=t.prevZ,A=t.nextZ;E&&E.z>=x&&A&&A.z<=b;){if(E.x>=g&&E.x<=S&&E.y>=v&&E.y<=T&&E!==i&&E!==o&&$o(u,m,h,c,f,d,E.x,E.y)&&rt(E.prev,E,E.next)>=0||(E=E.prevZ,A.x>=g&&A.x<=S&&A.y>=v&&A.y<=T&&A!==i&&A!==o&&$o(u,m,h,c,f,d,A.x,A.y)&&rt(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;E&&E.z>=x;){if(E.x>=g&&E.x<=S&&E.y>=v&&E.y<=T&&E!==i&&E!==o&&$o(u,m,h,c,f,d,E.x,E.y)&&rt(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;A&&A.z<=b;){if(A.x>=g&&A.x<=S&&A.y>=v&&A.y<=T&&A!==i&&A!==o&&$o(u,m,h,c,f,d,A.x,A.y)&&rt(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function tI(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!xd(i,s)&&mb(i,n,n.next,s)&&Yl(i,s)&&Yl(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Ql(n),Ql(n.next),n=t=s),n=n.next}while(n!==t);return Qs(n)}function rI(t,e,r,n,i,s){var o=t;do{for(var u=o.next.next;u!==o.prev;){if(o.i!==u.i&&hI(o,u)){var h=gb(o,u);o=Qs(o,o.next),h=Qs(h,h.next),Xl(o,e,r,n,i,s,0),Xl(h,e,r,n,i,s,0);return}u=u.next}o=o.next}while(o!==t)}function nI(t,e,r,n){var i=[],s,o,u,h,f;for(s=0,o=e.length;s<o;s++)u=e[s]*n,h=s<o-1?e[s+1]*n:t.length,f=pb(t,u,h,n,!1),f===f.next&&(f.steiner=!0),i.push(cI(f));for(i.sort(iI),s=0;s<i.length;s++)r=sI(i[s],r);return r}function iI(t,e){return t.x-e.x}function sI(t,e){var r=oI(t,e);if(!r)return e;var n=gb(r,t);return Qs(n,n.next),Qs(r,r.next)}function oI(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=n&&u>s&&(s=u,o=r.x<r.next.x?r:r.next,u===n))return o}r=r.next}while(r!==e);if(!o)return null;var h=o,f=o.x,m=o.y,c=1/0,d;r=o;do n>=r.x&&r.x>=f&&n!==r.x&&$o(i<m?n:s,i,f,m,i<m?s:n,i,r.x,r.y)&&(d=Math.abs(i-r.y)/(n-r.x),Yl(r,t)&&(d<c||d===c&&(r.x>o.x||r.x===o.x&&aI(o,r)))&&(o=r,c=d)),r=r.next;while(r!==h);return o}function aI(t,e){return rt(t.prev,t,e.prev)<0&&rt(e.next,t,t.next)<0}function lI(t,e,r,n){var i=t;do i.z===0&&(i.z=og(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,uI(i)}function uI(t){var e,r,n,i,s,o,u,h,f=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,u=0,e=0;e<f&&(u++,n=n.nextZ,!!n);e++);for(h=f;u>0||h>0&&n;)u!==0&&(h===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,h--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,f*=2}while(o>1);return t}function og(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function cI(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function $o(t,e,r,n,i,s,o,u){return(i-o)*(e-u)>=(t-o)*(s-u)&&(t-o)*(n-u)>=(r-o)*(e-u)&&(r-o)*(s-u)>=(i-o)*(n-u)}function hI(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!dI(t,e)&&(Yl(t,e)&&Yl(e,t)&&fI(t,e)&&(rt(t.prev,t,e.prev)||rt(t,e.prev,e))||xd(t,e)&&rt(t.prev,t,t.next)>0&&rt(e.prev,e,e.next)>0)}function rt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function xd(t,e){return t.x===e.x&&t.y===e.y}function mb(t,e,r,n){var i=wc(rt(t,e,r)),s=wc(rt(t,e,n)),o=wc(rt(r,n,t)),u=wc(rt(r,n,e));return!!(i!==s&&o!==u||i===0&&xc(t,r,e)||s===0&&xc(t,n,e)||o===0&&xc(r,t,n)||u===0&&xc(r,e,n))}function xc(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function wc(t){return t>0?1:t<0?-1:0}function dI(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&mb(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Yl(t,e){return rt(t.prev,t,t.next)<0?rt(t,e,t.next)>=0&&rt(t,t.prev,e)>=0:rt(t,e,t.prev)<0||rt(t,t.next,e)<0}function fI(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function gb(t,e){var r=new ag(t.i,t.x,t.y),n=new ag(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function _1(t,e,r,n){var i=new ag(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ql(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ag(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}_d.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(lg(t,0,s,r));if(i)for(var u=0,h=e.length;u<h;u++){var f=e[u]*r,m=u<h-1?e[u+1]*r:t.length;o-=Math.abs(lg(t,f,m,r))}var c=0;for(u=0;u<n.length;u+=3){var d=n[u]*r,g=n[u+1]*r,v=n[u+2]*r;c+=Math.abs((t[d]-t[v])*(t[g+1]-t[d+1])-(t[d]-t[g])*(t[v+1]-t[d+1]))}return o===0&&c===0?0:Math.abs((c-o)/o)};function lg(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}_d.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var pI=jy.exports,mI=rd(pI),Bh={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Bh.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Ui=="object"&&Ui;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,u=2147483647,h=36,f=1,m=26,c=38,d=700,g=72,v=128,S="-",T=/^xn--/,x=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=h-f,I=Math.floor,O=String.fromCharCode,N;function R(D){throw new RangeError(E[D])}function L(D,K){for(var re=D.length,_e=[];re--;)_e[re]=K(D[re]);return _e}function G(D,K){var re=D.split("@"),_e="";re.length>1&&(_e=re[0]+"@",D=re[1]),D=D.replace(b,".");var ye=D.split("."),Ne=L(ye,K).join(".");return _e+Ne}function j(D){for(var K=[],re=0,_e=D.length,ye,Ne;re<_e;)ye=D.charCodeAt(re++),ye>=55296&&ye<=56319&&re<_e?(Ne=D.charCodeAt(re++),(Ne&64512)==56320?K.push(((ye&1023)<<10)+(Ne&1023)+65536):(K.push(ye),re--)):K.push(ye);return K}function Y(D){return L(D,function(K){var re="";return K>65535&&(K-=65536,re+=O(K>>>10&1023|55296),K=56320|K&1023),re+=O(K),re}).join("")}function H(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:h}function B(D,K){return D+22+75*(D<26)-((K!=0)<<5)}function de(D,K,re){var _e=0;for(D=re?I(D/d):D>>1,D+=I(D/K);D>A*m>>1;_e+=h)D=I(D/A);return I(_e+(A+1)*D/(D+c))}function oe(D){var K=[],re=D.length,_e,ye=0,Ne=v,we=g,De,wt,kt,st,be,He,Re,Pr,Ir;for(De=D.lastIndexOf(S),De<0&&(De=0),wt=0;wt<De;++wt)D.charCodeAt(wt)>=128&&R("not-basic"),K.push(D.charCodeAt(wt));for(kt=De>0?De+1:0;kt<re;){for(st=ye,be=1,He=h;kt>=re&&R("invalid-input"),Re=H(D.charCodeAt(kt++)),(Re>=h||Re>I((u-ye)/be))&&R("overflow"),ye+=Re*be,Pr=He<=we?f:He>=we+m?m:He-we,!(Re<Pr);He+=h)Ir=h-Pr,be>I(u/Ir)&&R("overflow"),be*=Ir;_e=K.length+1,we=de(ye-st,_e,st==0),I(ye/_e)>u-Ne&&R("overflow"),Ne+=I(ye/_e),ye%=_e,K.splice(ye++,0,Ne)}return Y(K)}function ee(D){var K,re,_e,ye,Ne,we,De,wt,kt,st,be,He=[],Re,Pr,Ir,fs;for(D=j(D),Re=D.length,K=v,re=0,Ne=g,we=0;we<Re;++we)be=D[we],be<128&&He.push(O(be));for(_e=ye=He.length,ye&&He.push(S);_e<Re;){for(De=u,we=0;we<Re;++we)be=D[we],be>=K&&be<De&&(De=be);for(Pr=_e+1,De-K>I((u-re)/Pr)&&R("overflow"),re+=(De-K)*Pr,K=De,we=0;we<Re;++we)if(be=D[we],be<K&&++re>u&&R("overflow"),be==K){for(wt=re,kt=h;st=kt<=Ne?f:kt>=Ne+m?m:kt-Ne,!(wt<st);kt+=h)fs=wt-st,Ir=h-st,He.push(O(B(st+fs%Ir,0))),wt=I(fs/Ir);He.push(O(B(wt,0))),Ne=de(re,Pr,_e==ye),re=0,++_e}++re,++K}return He.join("")}function M(D){return G(D,function(K){return T.test(K)?oe(K.slice(4).toLowerCase()):K})}function X(D){return G(D,function(K){return x.test(K)?"xn--"+ee(K):K})}if(o={version:"1.4.1",ucs2:{decode:j,encode:Y},decode:oe,encode:ee,toASCII:X,toUnicode:M},n&&i)if(t.exports==n)i.exports=o;else for(N in o)o.hasOwnProperty(N)&&(n[N]=o[N]);else r.punycode=o})(Ui)})(Bh,Bh.exports);var gI=Bh.exports,yI=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},x1=typeof Symbol<"u"&&Symbol,vI=yI,_I=function(){return typeof x1!="function"||typeof Symbol!="function"||typeof x1("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:vI()},w1={foo:{}},xI=Object,wI=function(){return{__proto__:w1}.foo===w1.foo&&!({__proto__:null}instanceof xI)},SI="Function.prototype.bind called on incompatible ",Ap=Array.prototype.slice,bI=Object.prototype.toString,EI="[object Function]",TI=function(e){var r=this;if(typeof r!="function"||bI.call(r)!==EI)throw new TypeError(SI+r);for(var n=Ap.call(arguments,1),i,s=function(){if(this instanceof i){var m=r.apply(this,n.concat(Ap.call(arguments)));return Object(m)===m?m:this}else return r.apply(e,n.concat(Ap.call(arguments)))},o=Math.max(0,r.length-n.length),u=[],h=0;h<o;h++)u.push("$"+h);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var f=function(){};f.prototype=r.prototype,i.prototype=new f,f.prototype=null}return i},AI=TI,Vy=Function.prototype.bind||AI,CI=Vy,PI=CI.call(Function.call,Object.prototype.hasOwnProperty),Ee,da=SyntaxError,yb=Function,Jo=TypeError,Cp=function(t){try{return yb('"use strict"; return ('+t+").constructor;")()}catch{}},zs=Object.getOwnPropertyDescriptor;if(zs)try{zs({},"")}catch{zs=null}var Pp=function(){throw new Jo},II=zs?function(){try{return arguments.callee,Pp}catch{try{return zs(arguments,"callee").get}catch{return Pp}}}():Pp,wo=_I(),RI=wI(),Ct=Object.getPrototypeOf||(RI?function(t){return t.__proto__}:null),To={},kI=typeof Uint8Array>"u"||!Ct?Ee:Ct(Uint8Array),Gs={"%AggregateError%":typeof AggregateError>"u"?Ee:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ee:ArrayBuffer,"%ArrayIteratorPrototype%":wo&&Ct?Ct([][Symbol.iterator]()):Ee,"%AsyncFromSyncIteratorPrototype%":Ee,"%AsyncFunction%":To,"%AsyncGenerator%":To,"%AsyncGeneratorFunction%":To,"%AsyncIteratorPrototype%":To,"%Atomics%":typeof Atomics>"u"?Ee:Atomics,"%BigInt%":typeof BigInt>"u"?Ee:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ee:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ee:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ee:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ee:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ee:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ee:FinalizationRegistry,"%Function%":yb,"%GeneratorFunction%":To,"%Int8Array%":typeof Int8Array>"u"?Ee:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ee:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ee:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":wo&&Ct?Ct(Ct([][Symbol.iterator]())):Ee,"%JSON%":typeof JSON=="object"?JSON:Ee,"%Map%":typeof Map>"u"?Ee:Map,"%MapIteratorPrototype%":typeof Map>"u"||!wo||!Ct?Ee:Ct(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ee:Promise,"%Proxy%":typeof Proxy>"u"?Ee:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ee:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ee:Set,"%SetIteratorPrototype%":typeof Set>"u"||!wo||!Ct?Ee:Ct(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ee:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":wo&&Ct?Ct(""[Symbol.iterator]()):Ee,"%Symbol%":wo?Symbol:Ee,"%SyntaxError%":da,"%ThrowTypeError%":II,"%TypedArray%":kI,"%TypeError%":Jo,"%Uint8Array%":typeof Uint8Array>"u"?Ee:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ee:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ee:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ee:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ee:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ee:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ee:WeakSet};if(Ct)try{null.error}catch(t){var MI=Ct(Ct(t));Gs["%Error.prototype%"]=MI}var DI=function t(e){var r;if(e==="%AsyncFunction%")r=Cp("async function () {}");else if(e==="%GeneratorFunction%")r=Cp("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Cp("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ct&&(r=Ct(i.prototype))}return Gs[e]=r,r},S1={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},lu=Vy,Lh=PI,NI=lu.call(Function.call,Array.prototype.concat),OI=lu.call(Function.apply,Array.prototype.splice),b1=lu.call(Function.call,String.prototype.replace),Uh=lu.call(Function.call,String.prototype.slice),FI=lu.call(Function.call,RegExp.prototype.exec),BI=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,LI=/\\(\\)?/g,UI=function(e){var r=Uh(e,0,1),n=Uh(e,-1);if(r==="%"&&n!=="%")throw new da("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new da("invalid intrinsic syntax, expected opening `%`");var i=[];return b1(e,BI,function(s,o,u,h){i[i.length]=u?b1(h,LI,"$1"):o||s}),i},zI=function(e,r){var n=e,i;if(Lh(S1,n)&&(i=S1[n],n="%"+i[0]+"%"),Lh(Gs,n)){var s=Gs[n];if(s===To&&(s=DI(n)),typeof s>"u"&&!r)throw new Jo("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new da("intrinsic "+e+" does not exist!")},Wy=function(e,r){if(typeof e!="string"||e.length===0)throw new Jo("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Jo('"allowMissing" argument must be a boolean');if(FI(/^%?[^%]*%?$/,e)===null)throw new da("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=UI(e),i=n.length>0?n[0]:"",s=zI("%"+i+"%",r),o=s.name,u=s.value,h=!1,f=s.alias;f&&(i=f[0],OI(n,NI([0,1],f)));for(var m=1,c=!0;m<n.length;m+=1){var d=n[m],g=Uh(d,0,1),v=Uh(d,-1);if((g==='"'||g==="'"||g==="`"||v==='"'||v==="'"||v==="`")&&g!==v)throw new da("property names with quotes must have matching quotes");if((d==="constructor"||!c)&&(h=!0),i+="."+d,o="%"+i+"%",Lh(Gs,o))u=Gs[o];else if(u!=null){if(!(d in u)){if(!r)throw new Jo("base intrinsic for "+e+" exists, but the property is not available.");return}if(zs&&m+1>=n.length){var S=zs(u,d);c=!!S,c&&"get"in S&&!("originalValue"in S.get)?u=S.get:u=u[d]}else c=Lh(u,d),u=u[d];c&&!h&&(Gs[o]=u)}}return u},vb={exports:{}};(function(t){var e=Vy,r=Wy,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),u=r("%Object.defineProperty%",!0),h=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}t.exports=function(c){var d=s(e,i,arguments);if(o&&u){var g=o(d,"length");g.configurable&&u(d,"length",{value:1+h(0,c.length-(arguments.length-1))})}return d};var f=function(){return s(e,n,arguments)};u?u(t.exports,"apply",{value:f}):t.exports.apply=f})(vb);var GI=vb.exports,_b=Wy,xb=GI,HI=xb(_b("String.prototype.indexOf")),$I=function(e,r){var n=_b(e,!!r);return typeof n=="function"&&HI(e,".prototype.")>-1?xb(n):n},jI={},VI=Object.freeze({__proto__:null,default:jI}),WI=Kx(VI),Xy=typeof Map=="function"&&Map.prototype,Ip=Object.getOwnPropertyDescriptor&&Xy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,zh=Xy&&Ip&&typeof Ip.get=="function"?Ip.get:null,E1=Xy&&Map.prototype.forEach,Yy=typeof Set=="function"&&Set.prototype,Rp=Object.getOwnPropertyDescriptor&&Yy?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Gh=Yy&&Rp&&typeof Rp.get=="function"?Rp.get:null,T1=Yy&&Set.prototype.forEach,XI=typeof WeakMap=="function"&&WeakMap.prototype,Tl=XI?WeakMap.prototype.has:null,YI=typeof WeakSet=="function"&&WeakSet.prototype,Al=YI?WeakSet.prototype.has:null,QI=typeof WeakRef=="function"&&WeakRef.prototype,A1=QI?WeakRef.prototype.deref:null,qI=Boolean.prototype.valueOf,KI=Object.prototype.toString,ZI=Function.prototype.toString,JI=String.prototype.match,Qy=String.prototype.slice,Vi=String.prototype.replace,e2=String.prototype.toUpperCase,C1=String.prototype.toLowerCase,wb=RegExp.prototype.test,P1=Array.prototype.concat,Ln=Array.prototype.join,t2=Array.prototype.slice,I1=Math.floor,ug=typeof BigInt=="function"?BigInt.prototype.valueOf:null,kp=Object.getOwnPropertySymbols,cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,fa=typeof Symbol=="function"&&typeof Symbol.iterator=="object",qt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===fa||"symbol")?Symbol.toStringTag:null,Sb=Object.prototype.propertyIsEnumerable,R1=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function k1(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||wb.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-I1(-t):I1(t);if(n!==t){var i=String(n),s=Qy.call(e,i.length+1);return Vi.call(i,r,"$&_")+"."+Vi.call(Vi.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Vi.call(e,r,"$&_")}var hg=WI,M1=hg.custom,D1=Eb(M1)?M1:null,r2=function t(e,r,n,i){var s=r||{};if(Li(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Li(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Li(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Li(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Li(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Ab(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var h=String(e);return u?k1(e,h):h}if(typeof e=="bigint"){var f=String(e)+"n";return u?k1(e,f):f}var m=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=m&&m>0&&typeof e=="object")return dg(e)?"[Array]":"[Object]";var c=x2(s,n);if(typeof i>"u")i=[];else if(Tb(i,e)>=0)return"[Circular]";function d(H,B,de){if(B&&(i=t2.call(i),i.push(B)),de){var oe={depth:s.depth};return Li(s,"quoteStyle")&&(oe.quoteStyle=s.quoteStyle),t(H,oe,n+1,i)}return t(H,s,n+1,i)}if(typeof e=="function"&&!N1(e)){var g=h2(e),v=Sc(e,d);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(v.length>0?" { "+Ln.call(v,", ")+" }":"")}if(Eb(e)){var S=fa?Vi.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):cg.call(e);return typeof e=="object"&&!fa?Za(S):S}if(y2(e)){for(var T="<"+C1.call(String(e.nodeName)),x=e.attributes||[],b=0;b<x.length;b++)T+=" "+x[b].name+"="+bb(n2(x[b].value),"double",s);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+C1.call(String(e.nodeName))+">",T}if(dg(e)){if(e.length===0)return"[]";var E=Sc(e,d);return c&&!_2(E)?"["+fg(E,c)+"]":"[ "+Ln.call(E,", ")+" ]"}if(s2(e)){var A=Sc(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!Sb.call(e,"cause")?"{ ["+String(e)+"] "+Ln.call(P1.call("[cause]: "+d(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ln.call(A,", ")+" }"}if(typeof e=="object"&&o){if(D1&&typeof e[D1]=="function"&&hg)return hg(e,{depth:m-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(d2(e)){var I=[];return E1&&E1.call(e,function(H,B){I.push(d(B,e,!0)+" => "+d(H,e))}),O1("Map",zh.call(e),I,c)}if(m2(e)){var O=[];return T1&&T1.call(e,function(H){O.push(d(H,e))}),O1("Set",Gh.call(e),O,c)}if(f2(e))return Mp("WeakMap");if(g2(e))return Mp("WeakSet");if(p2(e))return Mp("WeakRef");if(a2(e))return Za(d(Number(e)));if(u2(e))return Za(d(ug.call(e)));if(l2(e))return Za(qI.call(e));if(o2(e))return Za(d(String(e)));if(!i2(e)&&!N1(e)){var N=Sc(e,d),R=R1?R1(e)===Object.prototype:e instanceof Object||e.constructor===Object,L=e instanceof Object?"":"null prototype",G=!R&&qt&&Object(e)===e&&qt in e?Qy.call(hs(e),8,-1):L?"Object":"",j=R||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Y=j+(G||L?"["+Ln.call(P1.call([],G||[],L||[]),": ")+"] ":"");return N.length===0?Y+"{}":c?Y+"{"+fg(N,c)+"}":Y+"{ "+Ln.call(N,", ")+" }"}return String(e)};function bb(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function n2(t){return Vi.call(String(t),/"/g,"&quot;")}function dg(t){return hs(t)==="[object Array]"&&(!qt||!(typeof t=="object"&&qt in t))}function i2(t){return hs(t)==="[object Date]"&&(!qt||!(typeof t=="object"&&qt in t))}function N1(t){return hs(t)==="[object RegExp]"&&(!qt||!(typeof t=="object"&&qt in t))}function s2(t){return hs(t)==="[object Error]"&&(!qt||!(typeof t=="object"&&qt in t))}function o2(t){return hs(t)==="[object String]"&&(!qt||!(typeof t=="object"&&qt in t))}function a2(t){return hs(t)==="[object Number]"&&(!qt||!(typeof t=="object"&&qt in t))}function l2(t){return hs(t)==="[object Boolean]"&&(!qt||!(typeof t=="object"&&qt in t))}function Eb(t){if(fa)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!cg)return!1;try{return cg.call(t),!0}catch{}return!1}function u2(t){if(!t||typeof t!="object"||!ug)return!1;try{return ug.call(t),!0}catch{}return!1}var c2=Object.prototype.hasOwnProperty||function(t){return t in this};function Li(t,e){return c2.call(t,e)}function hs(t){return KI.call(t)}function h2(t){if(t.name)return t.name;var e=JI.call(ZI.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Tb(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function d2(t){if(!zh||!t||typeof t!="object")return!1;try{zh.call(t);try{Gh.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function f2(t){if(!Tl||!t||typeof t!="object")return!1;try{Tl.call(t,Tl);try{Al.call(t,Al)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function p2(t){if(!A1||!t||typeof t!="object")return!1;try{return A1.call(t),!0}catch{}return!1}function m2(t){if(!Gh||!t||typeof t!="object")return!1;try{Gh.call(t);try{zh.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function g2(t){if(!Al||!t||typeof t!="object")return!1;try{Al.call(t,Al);try{Tl.call(t,Tl)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function y2(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Ab(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Ab(Qy.call(t,0,e.maxStringLength),e)+n}var i=Vi.call(Vi.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,v2);return bb(i,"single",e)}function v2(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e2.call(e.toString(16))}function Za(t){return"Object("+t+")"}function Mp(t){return t+" { ? }"}function O1(t,e,r,n){var i=n?fg(r,n):Ln.call(r,", ");return t+" ("+e+") {"+i+"}"}function _2(t){for(var e=0;e<t.length;e++)if(Tb(t[e],`
`)>=0)return!1;return!0}function x2(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Ln.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Ln.call(Array(e+1),r)}}function fg(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Ln.call(t,","+r)+`
`+e.prev}function Sc(t,e){var r=dg(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Li(t,i)?e(t[i],t):""}var s=typeof kp=="function"?kp(t):[],o;if(fa){o={};for(var u=0;u<s.length;u++)o["$"+s[u]]=s[u]}for(var h in t)Li(t,h)&&(r&&String(Number(h))===h&&h<t.length||fa&&o["$"+h]instanceof Symbol||(wb.call(/[^\w$]/,h)?n.push(e(h,t)+": "+e(t[h],t)):n.push(h+": "+e(t[h],t))));if(typeof kp=="function")for(var f=0;f<s.length;f++)Sb.call(t,s[f])&&n.push("["+e(s[f])+"]: "+e(t[s[f]],t));return n}var qy=Wy,wa=$I,w2=r2,S2=qy("%TypeError%"),bc=qy("%WeakMap%",!0),Ec=qy("%Map%",!0),b2=wa("WeakMap.prototype.get",!0),E2=wa("WeakMap.prototype.set",!0),T2=wa("WeakMap.prototype.has",!0),A2=wa("Map.prototype.get",!0),C2=wa("Map.prototype.set",!0),P2=wa("Map.prototype.has",!0),Ky=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},I2=function(t,e){var r=Ky(t,e);return r&&r.value},R2=function(t,e,r){var n=Ky(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},k2=function(t,e){return!!Ky(t,e)},M2=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new S2("Side channel does not contain "+w2(s))},get:function(s){if(bc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return b2(e,s)}else if(Ec){if(r)return A2(r,s)}else if(n)return I2(n,s)},has:function(s){if(bc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return T2(e,s)}else if(Ec){if(r)return P2(r,s)}else if(n)return k2(n,s);return!1},set:function(s,o){bc&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new bc),E2(e,s,o)):Ec?(r||(r=new Ec),C2(r,s,o)):(n||(n={key:{},next:null}),R2(n,s,o))}};return i},D2=String.prototype.replace,N2=/%20/g,Dp={RFC1738:"RFC1738",RFC3986:"RFC3986"},Zy={default:Dp.RFC3986,formatters:{RFC1738:function(t){return D2.call(t,N2,"+")},RFC3986:function(t){return String(t)}},RFC1738:Dp.RFC1738,RFC3986:Dp.RFC3986},O2=Zy,Np=Object.prototype.hasOwnProperty,Ds=Array.isArray,Dn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),F2=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ds(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Cb=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},B2=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Ds(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Np.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Ds(e)&&!Ds(r)&&(i=Cb(e,n)),Ds(e)&&Ds(r)?(r.forEach(function(s,o){if(Np.call(e,o)){var u=e[o];u&&typeof u=="object"&&s&&typeof s=="object"?e[o]=t(u,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var u=r[o];return Np.call(s,o)?s[o]=t(s[o],u,n):s[o]=u,s},i)},L2=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},U2=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},z2=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var u="",h=0;h<o.length;++h){var f=o.charCodeAt(h);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===O2.RFC1738&&(f===40||f===41)){u+=o.charAt(h);continue}if(f<128){u=u+Dn[f];continue}if(f<2048){u=u+(Dn[192|f>>6]+Dn[128|f&63]);continue}if(f<55296||f>=57344){u=u+(Dn[224|f>>12]+Dn[128|f>>6&63]+Dn[128|f&63]);continue}h+=1,f=65536+((f&1023)<<10|o.charCodeAt(h)&1023),u+=Dn[240|f>>18]+Dn[128|f>>12&63]+Dn[128|f>>6&63]+Dn[128|f&63]}return u},G2=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],u=Object.keys(o),h=0;h<u.length;++h){var f=u[h],m=o[f];typeof m=="object"&&m!==null&&n.indexOf(m)===-1&&(r.push({obj:o,prop:f}),n.push(m))}return F2(r),e},H2=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},$2=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},j2=function(e,r){return[].concat(e,r)},V2=function(e,r){if(Ds(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Pb={arrayToObject:Cb,assign:L2,combine:j2,compact:G2,decode:U2,encode:z2,isBuffer:$2,isRegExp:H2,maybeMap:V2,merge:B2},Ib=M2,oh=Pb,Cl=Zy,W2=Object.prototype.hasOwnProperty,F1={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},oi=Array.isArray,X2=Array.prototype.push,Rb=function(t,e){X2.apply(t,oi(e)?e:[e])},Y2=Date.prototype.toISOString,B1=Cl.default,Wt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:oh.encode,encodeValuesOnly:!1,format:B1,formatter:Cl.formatters[B1],indices:!1,serializeDate:function(e){return Y2.call(e)},skipNulls:!1,strictNullHandling:!1},Q2=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Op={},q2=function t(e,r,n,i,s,o,u,h,f,m,c,d,g,v,S,T){for(var x=e,b=T,E=0,A=!1;(b=b.get(Op))!==void 0&&!A;){var I=b.get(e);if(E+=1,typeof I<"u"){if(I===E)throw new RangeError("Cyclic object value");A=!0}typeof b.get(Op)>"u"&&(E=0)}if(typeof h=="function"?x=h(r,x):x instanceof Date?x=c(x):n==="comma"&&oi(x)&&(x=oh.maybeMap(x,function(oe){return oe instanceof Date?c(oe):oe})),x===null){if(s)return u&&!v?u(r,Wt.encoder,S,"key",d):r;x=""}if(Q2(x)||oh.isBuffer(x)){if(u){var O=v?r:u(r,Wt.encoder,S,"key",d);return[g(O)+"="+g(u(x,Wt.encoder,S,"value",d))]}return[g(r)+"="+g(String(x))]}var N=[];if(typeof x>"u")return N;var R;if(n==="comma"&&oi(x))v&&u&&(x=oh.maybeMap(x,u)),R=[{value:x.length>0?x.join(",")||null:void 0}];else if(oi(h))R=h;else{var L=Object.keys(x);R=f?L.sort(f):L}for(var G=i&&oi(x)&&x.length===1?r+"[]":r,j=0;j<R.length;++j){var Y=R[j],H=typeof Y=="object"&&typeof Y.value<"u"?Y.value:x[Y];if(!(o&&H===null)){var B=oi(x)?typeof n=="function"?n(G,Y):G:G+(m?"."+Y:"["+Y+"]");T.set(e,E);var de=Ib();de.set(Op,T),Rb(N,t(H,B,n,i,s,o,n==="comma"&&v&&oi(x)?null:u,h,f,m,c,d,g,v,S,de))}}return N},K2=function(e){if(!e)return Wt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Wt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Cl.default;if(typeof e.format<"u"){if(!W2.call(Cl.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Cl.formatters[n],s=Wt.filter;return(typeof e.filter=="function"||oi(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Wt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Wt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Wt.charsetSentinel,delimiter:typeof e.delimiter>"u"?Wt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Wt.encode,encoder:typeof e.encoder=="function"?e.encoder:Wt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Wt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Wt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Wt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Wt.strictNullHandling}},Z2=function(t,e){var r=t,n=K2(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):oi(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var u;e&&e.arrayFormat in F1?u=e.arrayFormat:e&&"indices"in e?u=e.indices?"indices":"repeat":u="indices";var h=F1[u];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var f=h==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var m=Ib(),c=0;c<i.length;++c){var d=i[c];n.skipNulls&&r[d]===null||Rb(o,q2(r[d],d,h,f,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,m))}var g=o.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""},pa=Pb,pg=Object.prototype.hasOwnProperty,J2=Array.isArray,At={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:pa.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},eR=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},kb=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},tR="utf8=%26%2310003%3B",rR="utf8=%E2%9C%93",nR=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),u=-1,h,f=r.charset;if(r.charsetSentinel)for(h=0;h<o.length;++h)o[h].indexOf("utf8=")===0&&(o[h]===rR?f="utf-8":o[h]===tR&&(f="iso-8859-1"),u=h,h=o.length);for(h=0;h<o.length;++h)if(h!==u){var m=o[h],c=m.indexOf("]="),d=c===-1?m.indexOf("="):c+1,g,v;d===-1?(g=r.decoder(m,At.decoder,f,"key"),v=r.strictNullHandling?null:""):(g=r.decoder(m.slice(0,d),At.decoder,f,"key"),v=pa.maybeMap(kb(m.slice(d+1),r),function(S){return r.decoder(S,At.decoder,f,"value")})),v&&r.interpretNumericEntities&&f==="iso-8859-1"&&(v=eR(v)),m.indexOf("[]=")>-1&&(v=J2(v)?[v]:v),pg.call(n,g)?n[g]=pa.combine(n[g],v):n[g]=v}return n},iR=function(t,e,r,n){for(var i=n?e:kb(e,r),s=t.length-1;s>=0;--s){var o,u=t[s];if(u==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var h=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,f=parseInt(h,10);!r.parseArrays&&h===""?o={0:i}:!isNaN(f)&&u!==h&&String(f)===h&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(o=[],o[f]=i):h!=="__proto__"&&(o[h]=i)}i=o}return i},sR=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,h=n.depth>0&&o.exec(s),f=h?s.slice(0,h.index):s,m=[];if(f){if(!n.plainObjects&&pg.call(Object.prototype,f)&&!n.allowPrototypes)return;m.push(f)}for(var c=0;n.depth>0&&(h=u.exec(s))!==null&&c<n.depth;){if(c+=1,!n.plainObjects&&pg.call(Object.prototype,h[1].slice(1,-1))&&!n.allowPrototypes)return;m.push(h[1])}return h&&m.push("["+s.slice(h.index)+"]"),iR(m,r,n,i)}},oR=function(e){if(!e)return At;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?At.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?At.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:At.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:At.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:At.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:At.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:At.comma,decoder:typeof e.decoder=="function"?e.decoder:At.decoder,delimiter:typeof e.delimiter=="string"||pa.isRegExp(e.delimiter)?e.delimiter:At.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:At.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:At.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:At.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:At.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:At.strictNullHandling}},aR=function(t,e){var r=oR(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?nR(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var u=s[o],h=sR(u,n[u],r,typeof t=="string");i=pa.merge(i,h,r)}return r.allowSparse===!0?i:pa.compact(i)},lR=Z2,uR=aR,cR=Zy,hR={formats:cR,parse:uR,stringify:lR},dR=gI;function gn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var fR=/^([a-z0-9.+-]+:)/i,pR=/:[0-9]*$/,mR=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,gR=["<",">",'"',"`"," ","\r",`
`,"	"],yR=["{","}","|","\\","^","`"].concat(gR),mg=["'"].concat(yR),L1=["%","/","?",";","#"].concat(mg),U1=["/","?","#"],vR=255,z1=/^[+a-z0-9A-Z_-]{0,63}$/,_R=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,xR={javascript:!0,"javascript:":!0},gg={javascript:!0,"javascript:":!0},ea={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},yg=hR;function wd(t,e,r){if(t&&typeof t=="object"&&t instanceof gn)return t;var n=new gn;return n.parse(t,e,r),n}gn.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var u=t;if(u=u.trim(),!r&&t.split("#").length===1){var h=mR.exec(u);if(h)return this.path=u,this.href=u,this.pathname=h[1],h[2]?(this.search=h[2],e?this.query=yg.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var f=fR.exec(u);if(f){f=f[0];var m=f.toLowerCase();this.protocol=m,u=u.substr(f.length)}if(r||f||u.match(/^\/\/[^@/]+@[^@/]+/)){var c=u.substr(0,2)==="//";c&&!(f&&gg[f])&&(u=u.substr(2),this.slashes=!0)}if(!gg[f]&&(c||f&&!ea[f])){for(var d=-1,g=0;g<U1.length;g++){var v=u.indexOf(U1[g]);v!==-1&&(d===-1||v<d)&&(d=v)}var S,T;d===-1?T=u.lastIndexOf("@"):T=u.lastIndexOf("@",d),T!==-1&&(S=u.slice(0,T),u=u.slice(T+1),this.auth=decodeURIComponent(S)),d=-1;for(var g=0;g<L1.length;g++){var v=u.indexOf(L1[g]);v!==-1&&(d===-1||v<d)&&(d=v)}d===-1&&(d=u.length),this.host=u.slice(0,d),u=u.slice(d),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var b=this.hostname.split(/\./),g=0,E=b.length;g<E;g++){var A=b[g];if(A&&!A.match(z1)){for(var I="",O=0,N=A.length;O<N;O++)A.charCodeAt(O)>127?I+="x":I+=A[O];if(!I.match(z1)){var R=b.slice(0,g),L=b.slice(g+1),G=A.match(_R);G&&(R.push(G[1]),L.unshift(G[2])),L.length&&(u="/"+L.join(".")+u),this.hostname=R.join(".");break}}}this.hostname.length>vR?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=dR.toASCII(this.hostname));var j=this.port?":"+this.port:"",Y=this.hostname||"";this.host=Y+j,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!xR[m])for(var g=0,E=mg.length;g<E;g++){var H=mg[g];if(u.indexOf(H)!==-1){var B=encodeURIComponent(H);B===H&&(B=escape(H)),u=u.split(H).join(B)}}var de=u.indexOf("#");de!==-1&&(this.hash=u.substr(de),u=u.slice(0,de));var oe=u.indexOf("?");if(oe!==-1?(this.search=u.substr(oe),this.query=u.substr(oe+1),e&&(this.query=yg.parse(this.query)),u=u.slice(0,oe)):e&&(this.search="",this.query={}),u&&(this.pathname=u),ea[m]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var j=this.pathname||"",ee=this.search||"";this.path=j+ee}return this.href=this.format(),this};function wR(t){return typeof t=="string"&&(t=wd(t)),t instanceof gn?t.format():gn.prototype.format.call(t)}gn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=yg.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ea[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),o=o.replace("#","%23"),e+i+r+o+n};function SR(t,e){return wd(t,!1,!0).resolve(e)}gn.prototype.resolve=function(t){return this.resolveObject(wd(t,!1,!0)).format()};gn.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new gn;e.parse(t,!1,!0),t=e}for(var r=new gn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),u=0;u<o.length;u++){var h=o[u];h!=="protocol"&&(r[h]=t[h])}return ea[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!ea[t.protocol]){for(var f=Object.keys(t),m=0;m<f.length;m++){var c=f[m];r[c]=t[c]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!gg[t.protocol]){for(var E=(t.pathname||"").split("/");E.length&&!(t.host=E.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),E[0]!==""&&E.unshift(""),E.length<2&&E.unshift(""),r.pathname=E.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",g=r.search||"";r.path=d+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",S=t.host||t.pathname&&t.pathname.charAt(0)==="/",T=S||v||r.host&&t.pathname,x=T,b=r.pathname&&r.pathname.split("/")||[],E=t.pathname&&t.pathname.split("/")||[],A=r.protocol&&!ea[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(b[0]===""?b[0]=r.host:b.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(E[0]===""?E[0]=t.host:E.unshift(t.host)),t.host=null),T=T&&(E[0]===""||b[0]==="")),S)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,b=E;else if(E.length)b||(b=[]),b.pop(),b=b.concat(E),r.search=t.search,r.query=t.query;else if(t.search!=null){if(A){r.host=b.shift(),r.hostname=r.host;var I=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;I&&(r.auth=I.shift(),r.hostname=I.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=b.slice(-1)[0],N=(r.host||t.host||b.length>1)&&(O==="."||O==="..")||O==="",R=0,L=b.length;L>=0;L--)O=b[L],O==="."?b.splice(L,1):O===".."?(b.splice(L,1),R++):R&&(b.splice(L,1),R--);if(!T&&!x)for(;R--;R)b.unshift("..");T&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),N&&b.join("/").substr(-1)!=="/"&&b.push("");var G=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(A){r.hostname=G?"":b.length?b.shift():"",r.host=r.hostname;var I=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;I&&(r.auth=I.shift(),r.hostname=I.shift(),r.host=r.hostname)}return T=T||r.host&&b.length,T&&!G&&b.unshift(""),b.length>0?r.pathname=b.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};gn.prototype.parseHost=function(){var t=this.host,e=pR.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var bR=wd,ER=SR,TR=wR;const AR={parse:bR,format:TR,resolve:ER};function Jr(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Ja(t){return t.split("?")[0].split("#")[0]}function CR(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function PR(t,e,r){return t.replace(new RegExp(CR(e),"g"),r)}function IR(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let u=0;u<=t.length;++u){if(u<t.length)o=t.charCodeAt(u);else{if(o===47)break;o=47}if(o===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const h=r.lastIndexOf("/");if(h!==r.length-1){h===-1?(r="",n=0):(r=r.slice(0,h),n=r.length-1-r.lastIndexOf("/")),i=u,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=u,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,u)}`:r=t.slice(i+1,u),n=u-i-1;i=u,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Yt={toPosix(t){return PR(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Jr(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=Ja(this.toPosix(e??ie.ADAPTER.getBaseUrl())),i=Ja(this.toPosix(r??this.rootname(n)));return Jr(t),t=this.toPosix(t),t.startsWith("/")?Yt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),Jr(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=IR(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Jr(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Jr(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Jr(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let u=t.length-1;u>=1;--u)if(e=t.charCodeAt(u),e===47){if(!i){n=u;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Jr(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Jr(t),e&&Jr(e),t=Ja(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,u=-1;for(s=t.length-1;s>=0;--s){const h=t.charCodeAt(s);if(h===47){if(!i){r=s+1;break}}else u===-1&&(i=!1,u=s+1),o>=0&&(h===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=u))}return r===n?n=u:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Jr(t),t=Ja(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const u=t.charCodeAt(o);if(u===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),u===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Jr(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Ja(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,u=-1,h=!0,f=t.length-1,m=0;for(;f>=i;--f){if(r=t.charCodeAt(f),r===47){if(!h){o=f+1;break}continue}u===-1&&(h=!1,u=f+1),r===46?s===-1?s=f:m!==1&&(m=1):s!==-1&&(m=-1)}return s===-1||u===-1||m===0||m===1&&s===u-1&&s===o+1?u!==-1&&(o===0&&n?e.base=e.name=t.slice(1,u):e.base=e.name=t.slice(o,u)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,u)):(e.name=t.slice(o,s),e.base=t.slice(o,u)),e.ext=t.slice(s,u)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},G1={};function Te(t,e,r=3){if(G1[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),G1[e]=!0}let Fp;function RR(){return typeof Fp>"u"&&(Fp=function(){var r;const e={stencil:!0,failIfMajorPerformanceCaveat:ie.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ie.ADAPTER.getWebGLRenderingContext())return!1;const n=ie.ADAPTER.createCanvas();let i=n.getContext("webgl",e)||n.getContext("experimental-webgl",e);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),Fp}var kR={grad:.9,turn:360,rad:360/(2*Math.PI)},ti=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},It=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Hr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},Mb=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},H1=function(t){return{r:Hr(t.r,0,255),g:Hr(t.g,0,255),b:Hr(t.b,0,255),a:Hr(t.a)}},Bp=function(t){return{r:It(t.r),g:It(t.g),b:It(t.b),a:It(t.a,3)}},MR=/^#([0-9a-f]{3,8})$/i,Tc=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Db=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),u=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(u<0?u+6:u),s:s?o/s*100:0,v:s/255*100,a:i}},Nb=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),u=n*(1-(e-s)*r),h=n*(1-(1-e+s)*r),f=s%6;return{r:255*[n,u,o,o,h,n][f],g:255*[h,n,n,u,o,o][f],b:255*[o,o,h,n,n,u][f],a:i}},$1=function(t){return{h:Mb(t.h),s:Hr(t.s,0,100),l:Hr(t.l,0,100),a:Hr(t.a)}},j1=function(t){return{h:It(t.h),s:It(t.s),l:It(t.l),a:It(t.a,3)}},V1=function(t){return Nb((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Pl=function(t){return{h:(e=Db(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},DR=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,NR=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,OR=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,FR=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vg={string:[[function(t){var e=MR.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?It(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?It(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=OR.exec(t)||FR.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:H1({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=DR.exec(t)||NR.exec(t);if(!e)return null;var r,n,i=$1({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(kR[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return V1(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return ti(e)&&ti(r)&&ti(n)?H1({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!ti(e)||!ti(r)||!ti(n))return null;var o=$1({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return V1(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!ti(e)||!ti(r)||!ti(n))return null;var o=function(u){return{h:Mb(u.h),s:Hr(u.s,0,100),v:Hr(u.v,0,100),a:Hr(u.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return Nb(o)},"hsv"]]},W1=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},BR=function(t){return typeof t=="string"?W1(t.trim(),vg.string):typeof t=="object"&&t!==null?W1(t,vg.object):[null,void 0]},Lp=function(t,e){var r=Pl(t);return{h:r.h,s:Hr(r.s+100*e,0,100),l:r.l,a:r.a}},Up=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},X1=function(t,e){var r=Pl(t);return{h:r.h,s:r.s,l:Hr(r.l+100*e,0,100),a:r.a}},_g=function(){function t(e){this.parsed=BR(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return It(Up(this.rgba),2)},t.prototype.isDark=function(){return Up(this.rgba)<.5},t.prototype.isLight=function(){return Up(this.rgba)>=.5},t.prototype.toHex=function(){return e=Bp(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Tc(It(255*s)):"","#"+Tc(r)+Tc(n)+Tc(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Bp(this.rgba)},t.prototype.toRgbString=function(){return e=Bp(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return j1(Pl(this.rgba))},t.prototype.toHslString=function(){return e=j1(Pl(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=Db(this.rgba),{h:It(e.h),s:It(e.s),v:It(e.v),a:It(e.a,3)};var e},t.prototype.invert=function(){return Nn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Nn(Lp(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Nn(Lp(this.rgba,-e))},t.prototype.grayscale=function(){return Nn(Lp(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Nn(X1(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Nn(X1(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Nn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):It(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Pl(this.rgba);return typeof e=="number"?Nn({h:e,s:r.s,l:r.l,a:r.a}):It(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Nn(e).toHex()},t}(),Nn=function(t){return t instanceof _g?t:new _g(t)},Y1=[],LR=function(t){t.forEach(function(e){Y1.indexOf(e)<0&&(e(_g,vg),Y1.push(e))})};function UR(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,h,f=n[this.toHex()];if(f)return f;if(o!=null&&o.closest){var m=this.toRgb(),c=1/0,d="black";if(!s.length)for(var g in r)s[g]=new t(r[g]).toRgb();for(var v in r){var S=(u=m,h=s[v],Math.pow(u.r-h.r,2)+Math.pow(u.g-h.g,2)+Math.pow(u.b-h.b,2));S<c&&(c=S,d=v)}return d}},e.string.push([function(o){var u=o.toLowerCase(),h=u==="transparent"?"#0000":r[u];return h?new t(h).toRgb():null},"name"])}LR([UR]);const ta=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof ta)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((i,s)=>i===e[s]);if(t!==null&&e!==null){const i=Object.keys(t),s=Object.keys(e);return i.length!==s.length?!1:i.every(o=>t[o]===e[o])}return t===e}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,r,n]=this._components;return t[0]=e,t[1]=r,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,n,i]=ta.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(t*255<<24)+(r<<16)+(n<<8)+i}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,n,i]=this._components;return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}normalize(t){let e,r,n,i;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const s=t;e=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,n,i=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,n,i=255]=t,e/=255,r/=255,n/=255,i/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=ta.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const s=Nn(t);s.isValid()&&({r:e,g:r,b:n,a:i}=s.rgba,e/=255,r/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((n,i)=>{t[i]=Math.min(Math.max(n,e),r)}),t)}};let Be=ta;Be.shared=new ta;Be.temp=new ta;Be.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function zR(t){return Te("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Be.shared.setValue(t).toHex()}function GR(t){return Te("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Be.shared.setValue(t).toNumber()}function HR(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[ge.NORMAL_NPM]=ge.NORMAL,t[ge.ADD_NPM]=ge.ADD,t[ge.SCREEN_NPM]=ge.SCREEN,e[ge.NORMAL]=ge.NORMAL_NPM,e[ge.ADD]=ge.ADD_NPM,e[ge.SCREEN]=ge.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const Ob=HR();function Fb(t,e){return Ob[e?1:0][t]}function $R(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function Bb(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Hh(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Q1(t){return!(t&t-1)&&!!t}function q1(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ra(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Wi(t){return t===0?0:t<0?-1:1}let jR=0;function qs(){return++jR}const Lb=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let xg=Lb;xg.EMPTY=new Lb(0,0,0,0);const K1={},On=Object.create(null),Ni=Object.create(null);class VR{constructor(e,r,n){this._canvas=ie.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||ie.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Z1(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function J1(t,e,r,n,i){const s=4*e;for(let o=n,u=n*s+4*r;o<=i;++o,u+=s)if(t[u+3]!==0)return!1;return!0}function WR(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let o=0,u=0,h=e-1,f=r-1;for(;u<r&&Z1(s,e,u);)++u;if(u===r)return xg.EMPTY;for(;Z1(s,e,f);)--f;for(;J1(s,e,o,u,f);)++o;for(;J1(s,e,h,u,f);)--h;return++h,++f,new xg(o,u,h,f)}function XR(t){const e=WR(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let Ac;function YR(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Ac||(Ac=document.createElement("a")),Ac.href=t;const r=AR.parse(Ac.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function is(t,e=1){var n;const r=(n=ie.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var se=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(se||{});const wg=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},ex=(t,e)=>wg(t).priority??e,fe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(wg).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(wg).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>ex(s,r)-ex(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class Sg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const QR=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function qR(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function KR(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=QR.replace(/%forloop%/gi,qR(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const zp=0,Gp=1,Hp=2,$p=3,jp=4,Vp=5;class wi{constructor(){this.data=0,this.blendMode=ge.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<zp)}set blend(e){!!(this.data&1<<zp)!==e&&(this.data^=1<<zp)}get offsets(){return!!(this.data&1<<Gp)}set offsets(e){!!(this.data&1<<Gp)!==e&&(this.data^=1<<Gp)}get culling(){return!!(this.data&1<<Hp)}set culling(e){!!(this.data&1<<Hp)!==e&&(this.data^=1<<Hp)}get depthTest(){return!!(this.data&1<<$p)}set depthTest(e){!!(this.data&1<<$p)!==e&&(this.data^=1<<$p)}get depthMask(){return!!(this.data&1<<Vp)}set depthMask(e){!!(this.data&1<<Vp)!==e&&(this.data^=1<<Vp)}get clockwiseFrontFace(){return!!(this.data&1<<jp)}set clockwiseFrontFace(e){!!(this.data&1<<jp)!==e&&(this.data^=1<<jp)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ge.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new wi;return e.depthTest=!1,e.blend=!0,e}}const bg=[];function Ub(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=bg.length-1;n>=0;--n){const i=bg[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class yn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,u,h){if(arguments.length>8)throw new Error("max arguments reached");const{name:f,items:m}=this;this._aliasCount++;for(let c=0,d=m.length;c<d;c++)m[c][f](e,r,n,i,s,o,u,h);return m===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(yn.prototype,{dispatch:{value:yn.prototype.emit},run:{value:yn.prototype.emit}});class ql{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new yn("setRealSize"),this.onUpdate=new yn("update"),this.onError=new yn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class uu extends ql{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===wn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const ZR={scaleMode:ui.NEAREST,format:J.RGBA,alphaMode:wn.NPM},Ao=class extends au{constructor(t=null,e=null){super(),e=Object.assign({},Ao.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:u,wrapMode:h,format:f,type:m,target:c,resolution:d,resourceOptions:g}=e;t&&!(t instanceof ql)&&(t=Ub(t,g),t.internal=!0),this.resolution=d||ie.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=h,this._scaleMode=s,this.format=f,this.type=m,this.target=c,this.alphaMode=r,this.uid=qs(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Q1(this.realWidth)&&Q1(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ni[this.cacheId],delete On[this.cacheId],this.cacheId=null),this.dispose(),Ao.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=ie.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${qs()}`}i=t._pixiId}let s=Ni[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new Ao(t,e),s.cacheId=i,Ao.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new uu(t,{width:e,height:r}),s=t instanceof Float32Array?me.FLOAT:me.UNSIGNED_BYTE;return new Ao(i,Object.assign({},ZR,{type:s},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Ni[e]&&Ni[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Ni[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Ni[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Ni[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Ni[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let ve=Ao;ve.defaultOptions={mipmap:Vn.POW2,anisotropicLevel:0,scaleMode:ui.LINEAR,wrapMode:fi.CLAMP,alphaMode:wn.UNPACK,target:Zo.TEXTURE_2D,format:J.RGBA,type:me.UNSIGNED_BYTE};ve._globalBatch=0;class Eg{constructor(){this.texArray=null,this.blend=0,this.type=hn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let JR=0;class ht{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=JR++,this.disposeRunner=new yn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?$n.ELEMENT_ARRAY_BUFFER:$n.ARRAY_BUFFER}get index(){return this.type===$n.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new ht(e)}}class $h{constructor(e,r=0,n=!1,i=me.FLOAT,s,o,u,h=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=u,this.divisor=h}destroy(){this.buffer=null}static from(e,r,n,i,s){return new $h(e,r,n,i,s)}}const ek={Float32Array,Uint32Array,Int32Array,Uint8Array};function tk(t,e){let r=0,n=0;const i={};for(let h=0;h<t.length;h++)n+=e[h],r+=t[h].length;const s=new ArrayBuffer(r*4);let o=null,u=0;for(let h=0;h<t.length;h++){const f=e[h],m=t[h],c=Bb(m);i[c]||(i[c]=new ek[c](s)),o=i[c];for(let d=0;d<m.length;d++){const g=(d/f|0)*n+u,v=d%f;o[g+v]=m[d]}u+=f}return new Float32Array(s)}const tx={5126:4,5123:2,5121:1};let rk=0;const nk={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ss{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=rk++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new yn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,u,h=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof ht||(r instanceof Array&&(r=new Float32Array(r)),r=new ht(r));const f=e.split("|");if(f.length>1){for(let c=0;c<f.length;c++)this.addAttribute(f[c],r,n,i,s);return this}let m=this.buffers.indexOf(r);return m===-1&&(this.buffers.push(r),m=this.buffers.length-1),this.attributes[e]=new $h(m,n,i,s,o,u,h),this.instanced=this.instanced||h,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof ht||(e instanceof Array&&(e=new Uint16Array(e)),e=new ht(e)),e.type=$n.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new ht;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*tx[s.type]/4),s.buffer=0}for(n.data=tk(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ss;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new ht(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new $h(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=$n.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ss,n=[],i=[],s=[];let o;for(let u=0;u<e.length;u++){o=e[u];for(let h=0;h<o.buffers.length;h++)i[h]=i[h]||0,i[h]+=o.buffers[h].data.length,s[h]=0}for(let u=0;u<o.buffers.length;u++)n[u]=new nk[Bb(o.buffers[u].data)](i[u]),r.buffers[u]=new ht(n[u]);for(let u=0;u<e.length;u++){o=e[u];for(let h=0;h<o.buffers.length;h++)n[h].set(o.buffers[h].data,s[h]),s[h]+=o.buffers[h].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=$n.ELEMENT_ARRAY_BUFFER;let u=0,h=0,f=0,m=0;for(let c=0;c<o.buffers.length;c++)if(o.buffers[c]!==o.indexBuffer){m=c;break}for(const c in o.attributes){const d=o.attributes[c];(d.buffer|0)===m&&(h+=d.size*tx[d.type]/4)}for(let c=0;c<e.length;c++){const d=e[c].indexBuffer.data;for(let g=0;g<d.length;g++)r.indexBuffer.data[g+f]+=u;u+=e[c].buffers[m].data.length/h,f+=d.length}}return r}}class zb extends ss{constructor(e=!1){super(),this._buffer=new ht(null,e,!1),this._indexBuffer=new ht(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,me.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,me.FLOAT).addAttribute("aColor",this._buffer,4,!0,me.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,me.FLOAT).addIndex(this._indexBuffer)}}const jh=Math.PI*2,ik=180/Math.PI,sk=Math.PI/180;var Ft=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Ft||{});class Pe{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Pe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Cc=[new Pe,new Pe,new Pe,new Pe];class Se{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Ft.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Se(0,0,0,0)}clone(){return new Se(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const R=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=R)return!1;const G=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>G}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const u=Cc[0].set(e.left,e.top),h=Cc[1].set(e.left,e.bottom),f=Cc[2].set(e.right,e.top),m=Cc[3].set(e.right,e.bottom);if(f.x<=u.x||h.y<=u.y)return!1;const c=Math.sign(r.a*r.d-r.b*r.c);if(c===0||(r.apply(u,u),r.apply(h,h),r.apply(f,f),r.apply(m,m),Math.max(u.x,h.x,f.x,m.x)<=n||Math.min(u.x,h.x,f.x,m.x)>=i||Math.max(u.y,h.y,f.y,m.y)<=s||Math.min(u.y,h.y,f.y,m.y)>=o))return!1;const d=c*(h.y-u.y),g=c*(u.x-h.x),v=d*n+g*s,S=d*i+g*s,T=d*n+g*o,x=d*i+g*o;if(Math.max(v,S,T,x)<=d*u.x+g*u.y||Math.min(v,S,T,x)>=d*m.x+g*m.y)return!1;const b=c*(u.y-f.y),E=c*(f.x-u.x),A=b*n+E*s,I=b*i+E*s,O=b*n+E*o,N=b*i+E*o;return!(Math.max(A,I,O,N)<=b*u.x+E*u.y||Math.min(A,I,O,N)>=b*m.x+E*m.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Jy{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Ft.CIRC}clone(){return new Jy(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Se(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class ev{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Ft.ELIP}clone(){return new ev(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Se(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class na{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Ft.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new na(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const u=this.points[s*2],h=this.points[s*2+1],f=this.points[o*2],m=this.points[o*2+1];h>r!=m>r&&e<(f-u)*((r-h)/(m-h))+u&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class tv{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Ft.RREC}clone(){return new tv(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Ke{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Pe;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Pe;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,u,h,f){return this.a=Math.cos(u+f)*s,this.b=Math.sin(u+f)*s,this.c=-Math.sin(u-h)*o,this.d=Math.cos(u-h)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,u=-Math.atan2(-i,s),h=Math.atan2(n,r),f=Math.abs(u+h);return f<1e-5||Math.abs(jh-f)<1e-5?(e.rotation=h,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=u,e.skew.y=h),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ke;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Ke}static get TEMP_MATRIX(){return new Ke}}const Ps=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Is=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Rs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ks=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Tg=[],Gb=[],Pc=Math.sign;function ok(){for(let t=0;t<16;t++){const e=[];Tg.push(e);for(let r=0;r<16;r++){const n=Pc(Ps[t]*Ps[r]+Rs[t]*Is[r]),i=Pc(Is[t]*Ps[r]+ks[t]*Is[r]),s=Pc(Ps[t]*Rs[r]+Rs[t]*ks[r]),o=Pc(Is[t]*Rs[r]+ks[t]*ks[r]);for(let u=0;u<16;u++)if(Ps[u]===n&&Is[u]===i&&Rs[u]===s&&ks[u]===o){e.push(u);break}}}for(let t=0;t<16;t++){const e=new Ke;e.set(Ps[t],Is[t],Rs[t],ks[t],0,0),Gb.push(e)}}ok();const et={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Ps[t],uY:t=>Is[t],vX:t=>Rs[t],vY:t=>ks[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Tg[t][e],sub:(t,e)=>Tg[t][et.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?et.S:et.N:Math.abs(e)*2<=Math.abs(t)?t>0?et.E:et.W:e>0?t>0?et.SE:et.SW:t>0?et.NE:et.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=Gb[et.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class hi{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new hi(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const Hb=class{constructor(){this.worldTransform=new Ke,this.localTransform=new Ke,this.position=new hi(this.onChange,this,0,0),this.scale=new hi(this.onChange,this,1,1),this.pivot=new hi(this.onChange,this,0,0),this.skew=new hi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let Sd=Hb;Sd.IDENTITY=new Hb;var ak=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,lk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function rx(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Wp(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function $b(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Wp(2*e);case"bvec3":return Wp(3*e);case"bvec4":return Wp(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ia=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],uk={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},ck={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function hk(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let u=!1;for(let h=0;h<ia.length;h++)if(ia[h].test(s,o)){r.push(ia[h].code(i,o)),u=!0;break}if(!u){const f=(s.size===1&&!s.isArray?uk:ck)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${f};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const jb={};let So=jb;function dk(){if(So===jb||So!=null&&So.isContextLost()){const t=ie.ADAPTER.createCanvas();let e;ie.PREFER_ENV>=Js.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),So=e}return So}let Ic;function fk(){if(!Ic){Ic=Gr.MEDIUM;const t=dk();t&&t.getShaderPrecisionFormat&&(Ic=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Gr.HIGH:Gr.MEDIUM)}return Ic}function nx(t,e){const r=t.getShaderSource(e).split(`
`).map((f,m)=>`${m}: ${f}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(f=>parseFloat(f.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(f=>f&&!s[f]?(s[f]=!0,!0):!1),u=[""];o.forEach(f=>{r[f-1]=`%c${r[f-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const h=r.join(`
`);u[0]=h,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function pk(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||nx(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||nx(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const mk={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Vb(t){return mk[t]}let Rc=null;const ix={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Wb(t,e){if(!Rc){const r=Object.keys(ix);Rc={};for(let n=0;n<r.length;++n){const i=r[n];Rc[t[i]]=ix[i]}}return Rc[e]}function sx(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Gr.HIGH&&r!==Gr.HIGH&&(n=Gr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Gr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let el;function gk(){if(typeof el=="boolean")return el;try{el=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{el=!1}return el}let yk=0;const kc={},Co=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=yk++,this.vertexSrc=t||Co.defaultVertexSrc,this.fragmentSrc=e||Co.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),kc[r]?(kc[r]++,r+=`-${kc[r]}`):kc[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=sx(this.vertexSrc,Co.defaultVertexPrecision,Gr.HIGH),this.fragmentSrc=sx(this.fragmentSrc,Co.defaultFragmentPrecision,fk())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return lk}static get defaultFragmentSrc(){return ak}static from(t,e,r){const n=t+e;let i=K1[n];return i||(K1[n]=i=new Co(t,e,r)),i}};let dn=Co;dn.defaultVertexPrecision=Gr.HIGH;dn.defaultFragmentPrecision=ci.apple.device?Gr.HIGH:Gr.MEDIUM;let vk=0;class vn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=vk++,this.static=!!r,this.ubo=!!n,e instanceof ht?(this.buffer=e,this.buffer.type=$n.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new ht(new Float32Array(1)),this.buffer.type=$n.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new vn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new vn(e,r,n)}static uboFrom(e,r){return new vn(e,r??!0,!0)}}class jn{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof vn?this.uniformGroup=r:this.uniformGroup=new vn(r):this.uniformGroup=new vn({}),this.disposeRunner=new yn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=dn.from(e,r);return new jn(i,n)}}class _k{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=vn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new dn(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ke,default:this.defaultGroupCache[e]};return new jn(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class Ag{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function xk(){return!ci.apple.device}function wk(t){let e=!0;const r=ie.ADAPTER.getNavigator();if(ci.tablet||ci.phone){if(ci.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(ci.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class bd{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var Sk=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,bk=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const tn=class extends bd{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=zb,this.vertexSize=6,this.state=wi.for2d(),this.size=tn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??wk(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??xk(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Te("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return bk}static get defaultFragmentTemplate(){return Sk}setShaderGenerator({vertex:t=tn.defaultVertexSrc,fragment:e=tn.defaultFragmentTemplate}={}){this.shaderGenerator=new _k(t,e)}contextChange(){const t=this.renderer.gl;ie.PREFER_ENV===Js.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),tn.defaultMaxTextures),this.maxTextures=KR(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=tn,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new Eg);for(;e.length<n;)e.push(new Ag);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=tn._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++ve._globalBatch,u=0,h=r[0],f=0;n.copyBoundTextures(i,e);for(let m=0;m<this._bufferSize;++m){const c=t[m];t[m]=null,c._batchEnabled!==o&&(h.count>=e&&(n.boundArray(h,i,o,e),this.buildDrawCalls(h,f,m),f=m,h=r[++u],++o),c._batchEnabled=o,c.touched=s,h.elements[h.count++]=c)}h.count>0&&(n.boundArray(h,i,o,e),this.buildDrawCalls(h,f,this._bufferSize),++u,++o);for(let m=0;m<i.length;m++)i[m]=null;ve._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,u=tn._drawCallPool;let h=this._dcIndex,f=this._aIndex,m=this._iIndex,c=u[h];c.start=this._iIndex,c.texArray=t;for(let d=e;d<r;++d){const g=n[d],v=g._texture.baseTexture,S=Ob[v.alphaMode?1:0][g.blendMode];n[d]=null,e<d&&c.blend!==S&&(c.size=m-c.start,e=d,c=u[++h],c.texArray=t,c.start=m),this.packInterleavedGeometry(g,i,s,f,m),f+=g.vertexData.length/2*o,m+=g.indices.length,c.blend=S}e<r&&(c.size=m-c.start,++h),this._dcIndex=h,this._aIndex=f,this._iIndex=m}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;tn.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=tn._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:u,size:h,start:f,blend:m}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=m,r.set(this.state),e.drawElements(u,h,e.UNSIGNED_SHORT,f*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),tn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Hh(Math.ceil(t/8)),r=q1(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new Sg(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=Hh(Math.ceil(t/12)),r=q1(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,u=n/this.vertexSize,h=t.uvs,f=t.indices,m=t.vertexData,c=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),g=Be.shared.setValue(t._tintRGB).toPremultiplied(d,t._texture.baseTexture.alphaMode>0);for(let v=0;v<m.length;v+=2)o[n++]=m[v],o[n++]=m[v+1],o[n++]=h[v],o[n++]=h[v+1],s[n++]=g,o[n++]=c;for(let v=0;v<f.length;v++)r[i++]=u+f[v]}};let un=tn;un.defaultBatchSize=4096;un.extension={name:"batch",type:se.RendererPlugin};un._drawCallPool=[];un._textureArrayPool=[];fe.add(un);var Ek=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Tk=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const ul=class extends jn{constructor(t,e,r){const n=dn.from(t||ul.defaultVertexSrc,e||ul.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=ul.defaultResolution,this.multisample=ul.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new wi}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return Tk}static get defaultFragmentSrc(){return Ek}};let Bt=ul;Bt.defaultResolution=1;Bt.defaultMultisample=mt.NONE;class Ed{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Be(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Ed.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};Ed.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"background"};fe.add(Ed);class Xb{constructor(e){this.renderer=e,this.emptyRenderer=new bd(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:u}=e;let h=0;for(let f=0;f<u;f++){const m=s[f],c=m._batchLocation;if(c>=0&&c<i&&r[c]===m){o[f]=c;continue}for(;h<i;){const d=r[h];if(d&&d._batchEnabled===n&&d._batchLocation===h){h++;continue}o[f]=h,m._batchLocation=h,r[h]=m;break}}}destroy(){this.renderer=null}}Xb.extension={type:se.RendererSystem,name:"batch"};fe.add(Xb);let ox=0;class Td{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=ox++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=ox++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ie.PREFER_ENV>=Js.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Td.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};Td.extension={type:se.RendererSystem,name:"context"};fe.add(Td);class Ak extends uu{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===wn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class Cg{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new yn("disposeFramebuffer"),this.multisample=mt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new ve(null,{scaleMode:ui.NEAREST,resolution:1,mipmap:Vn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ve(new Ak(null,{width:this.width,height:this.height}),{scaleMode:ui.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Vn.OFF,format:J.DEPTH_COMPONENT,type:me.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Yb extends ve{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=mt.NONE),super(null,e),this.mipmap=Vn.OFF,this.valid=!0,this._clear=new Be([0,0,0,0]),this.framebuffer=new Cg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class os extends ql{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=YR(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,u=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===wn.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=u,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class Qb extends os{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;os.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ie.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===wn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const u=s[o];if(u!==n&&u.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class qb{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,u=e.height/2/s,h=e.x/i+o,f=e.y/s+u;n=et.add(n,et.NW),this.x0=h+o*et.uX(n),this.y0=f+u*et.uY(n),n=et.add(n,2),this.x1=h+o*et.uX(n),this.y1=f+u*et.uY(n),n=et.add(n,2),this.x2=h+o*et.uX(n),this.y2=f+u*et.uY(n),n=et.add(n,2),this.x3=h+o*et.uX(n),this.y3=f+u*et.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const ax=new qb;function Mc(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ne extends au{constructor(e,r,n,i,s,o,u){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Se(0,0,1,1)),e instanceof ne&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=ax,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Pe(o.x,o.y):new Pe(0,0),this.defaultBorders=u,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&On[r.url]&&ne.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ne.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ne(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===ax&&(this._uvs=new qb),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ie.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof ve){if(!e.cacheId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${u}-${qs()}`,ve.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${qs()}`}s=e._pixiId}let o=On[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof ve)?(r.resolution||(r.resolution=is(e)),o=new ne(new ve(e,r)),o.baseTexture.cacheId=s,ve.addToCache(o.baseTexture,s),ne.addToCache(o,s)):!o&&e instanceof ve&&(o=new ne(e),ne.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=ne.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new ne(ve.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new ve(e,Object.assign({scaleMode:ve.defaultOptions.scaleMode,resolution:is(r)},i)),{resource:o}=s;o instanceof Qb&&(o.url=r);const u=new ne(s);return n||(n=r),ve.addToCache(u.baseTexture,n),ne.addToCache(u,n),n!==r&&(ve.addToCache(u.baseTexture,r),ne.addToCache(u,r)),u.baseTexture.valid?Promise.resolve(u):new Promise(h=>{u.baseTexture.once("loaded",()=>h(u))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),On[r]&&On[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),On[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=On[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete On[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)On[e.textureCacheIds[r]]===e&&delete On[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,u=n+s>this.baseTexture.height;if(o||u){const h=o&&u?"and":"or",f=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,m=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${f} ${h} ${m}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ne._EMPTY||(ne._EMPTY=new ne(new ve),Mc(ne._EMPTY),Mc(ne._EMPTY.baseTexture)),ne._EMPTY}static get WHITE(){if(!ne._WHITE){const e=ie.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ne._WHITE=new ne(ve.from(e)),Mc(ne._WHITE),Mc(ne._WHITE.baseTexture)}return ne._WHITE}}class eo extends ne{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new eo(new Yb(e))}}class Kb{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=mt.NONE){const i=new Yb(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new eo(i)}getOptimalTexture(e,r,n=1,i=mt.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Hh(e),r=Hh(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||mt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}Kb.SCREEN_KEY=-1;class Ck extends ss{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Zb extends ss{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ht(this.vertices),this.uvBuffer=new ht(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class Pk{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=mt.NONE,this.sourceFrame=new Se,this.destinationFrame=new Se,this.bindingSourceFrame=new Se,this.bindingDestinationFrame=new Se,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Dc=[new Pe,new Pe,new Pe,new Pe],Xp=new Ke;class Jb{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Kb,this.statePool=[],this.quad=new Ck,this.quadUv=new Zb,this.tempRect=new Se,this.activeState={},this.globalUniforms=new vn({outputFrame:new Se,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new Pk,o=this.renderer.renderTexture;let u=r[0].resolution,h=r[0].multisample,f=r[0].padding,m=r[0].autoFit,c=r[0].legacy??!0;for(let v=1;v<r.length;v++){const S=r[v];u=Math.min(u,S.resolution),h=Math.min(h,S.multisample),f=this.useMaxPadding?Math.max(f,S.padding):f+S.padding,m=m&&S.autoFit,c=c||(S.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=u,s.multisample=h,s.legacy=c,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);const d=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Xp.copyFrom(n.projection.transform).invert(),d),m?(s.sourceFrame.fit(d),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(d)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,h),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const g=this.tempRect;g.x=0,g.y=0,g.width=s.sourceFrame.width,g.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,g),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,u=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],u[0]=.5*o[2],u[1]=.5*o[3],u[2]=r.sourceFrame.width*s[2]-.5*o[2],u[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const f=i.filterArea;f[0]=r.destinationFrame.width,f[1]=r.destinationFrame.height,f[2]=r.sourceFrame.x,f[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const h=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,h.renderTexture,Bn.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let f=r.renderTexture,m=this.getOptimalFilterTexture(f.width,f.height,r.resolution);m.filterFrame=f.filterFrame;let c=0;for(c=0;c<n.length-1;++c){c===1&&r.multisample>1&&(m=this.getOptimalFilterTexture(f.width,f.height,r.resolution),m.filterFrame=f.filterFrame),n[c].apply(this,f,m,Bn.CLEAR,r);const d=f;f=m,m=d}n[c].apply(this,f,h.renderTexture,Bn.BLEND,r),c>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(f),this.returnFilterTexture(m)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Bn.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Bn.CLEAR||r===Bn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(hn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(hn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),u=r.worldTransform.copyTo(Ke.TEMP_MATRIX);return u.invert(),o.prepend(u),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=mt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||mt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Dc[0],i=Dc[1],s=Dc[2],o=Dc[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const u=Math.min(n.x,i.x,s.x,o.x),h=Math.min(n.y,i.y,s.y,o.y),f=Math.max(n.x,i.x,s.x,o.x),m=Math.max(n.y,i.y,s.y,o.y);r.x=u,r.y=h,r.width=f-u,r.height=m-h}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:u,c:h,d:f}=s;if((Math.abs(u)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(f)>1e-4))return}s=s?Xp.copyFrom(s):Xp.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}Jb.extension={type:se.RendererSystem,name:"filter"};fe.add(Jb);class Ik{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=mt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const Rk=new Se;class eE{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Cg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Se,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ie.PREFER_ENV===Js.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const u=e.colorTextures[o];this.renderer.texture.unbind(u.parentTextureArray||u)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,u=r.height>>n,h=o/r.width;this.setViewport(r.x*h,r.y*h,o,u)}else{const o=e.width>>n,u=e.height>>n;this.setViewport(0,0,o,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=ig.COLOR|ig.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new Ik(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const u=i[o],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const u=[];for(let h=0;h<o;h++){const f=s[h],m=f.parentTextureArray||f;this.renderer.texture.bind(m,0),h===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,m._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+h,f.target,m._glTextures[this.CONTEXT_UID].texture,r),u.push(n.COLOR_ATTACHMENT0+h))}if(u.length>1&&n.drawBuffers(u),e.depthTexture&&this.writeDepthTexture){const f=e.depthTexture;this.renderer.texture.bind(f,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=mt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=mt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:u}=this;if(s.context.webGLVersion!==2||!i)return;const h=i.glFramebuffers[u];if(!h)return;if(!e){if(!h.msaaBuffer)return;const m=i.colorTextures[0];if(!m)return;h.blitFramebuffer||(h.blitFramebuffer=new Cg(i.width,i.height),h.blitFramebuffer.addColorTexture(0,m)),e=h.blitFramebuffer,e.colorTextures[0]!==m&&(e.colorTextures[0]=m,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=Rk,r.width=i.width,r.height=i.height),n||(n=r);const f=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,h.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,f?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Se}destroy(){this.renderer=null}}eE.extension={type:se.RendererSystem,name:"framebuffer"};fe.add(eE);const Yp={5126:4,5123:2,5121:1};class tE{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ie.PREFER_ENV===Js.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,u,h)=>n.drawElementsInstancedANGLE(i,s,o,u,h),e.drawArraysInstanced=(i,s,o,u)=>n.drawArraysInstancedANGLE(i,s,o,u)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,u=r.program;u.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,u);const h=this.getSignature(e,u),f=e.glVertexArrayObjects[this.CONTEXT_UID];let m=f[h];if(m)return f[u.id]=m,m;const c=e.buffers,d=e.attributes,g={},v={};for(const S in c)g[S]=0,v[S]=0;for(const S in d)!d[S].size&&u.attributeData[S]?d[S].size=u.attributeData[S].size:d[S].size||console.warn(`PIXI Geometry attribute '${S}' size cannot be determined (likely the bound shader does not have the attribute)`),g[d[S].buffer]+=d[S].size*Yp[d[S].type];for(const S in d){const T=d[S],x=T.size;T.stride===void 0&&(g[T.buffer]===x*Yp[T.type]?T.stride=0:T.stride=g[T.buffer]),T.start===void 0&&(T.start=v[T.buffer],v[T.buffer]+=x*Yp[T.type])}m=i.createVertexArray(),i.bindVertexArray(m);for(let S=0;S<c.length;S++){const T=c[S];o.bind(T),n&&T._glBuffers[s].refCount++}return this.activateVao(e,u),f[u.id]=m,f[h]=m,i.bindVertexArray(null),o.unbind($n.ARRAY_BUFFER),m}disposeGeometry(e,r){var u;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(u=this.renderer)==null?void 0:u.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let h=0;h<s.length;h++){const f=s[h]._glBuffers[this.CONTEXT_UID];f&&(f.refCount--,f.refCount===0&&!r&&o.dispose(s[h],r))}if(!r){for(const h in n)if(h[0]==="g"){const f=n[h];this._activeVao===f&&this.unbind(),i.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,u=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let h=null;for(const f in u){const m=u[f],c=o[m.buffer],d=c._glBuffers[i];if(r.attributeData[f]){h!==d&&(s.bind(c),h=d);const g=r.attributeData[f].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,m.size,m.type||n.FLOAT,m.normalized,m.stride,m.start),m.instance)if(this.hasInstance)n.vertexAttribDivisor(g,m.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const u=o.indexBuffer.data.BYTES_PER_ELEMENT,h=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,h,(n||0)*u,i||1):s.drawElements(e,r||o.indexBuffer.data.length,h,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}tE.extension={type:se.RendererSystem,name:"geometry"};fe.add(tE);const lx=new Ke;class rv{constructor(e,r){this._texture=e,this.mapCoord=new Ke,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(lx.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(lx));const o=r.baseTexture,u=this.uClampFrame,h=this.clampMargin/o.resolution,f=this.clampOffset;return u[0]=(r._frame.x+h+f)/o.width,u[1]=(r._frame.y+h+f)/o.height,u[2]=(r._frame.x+r._frame.width-h+f)/o.width,u[3]=(r._frame.y+r._frame.height-h+f)/o.height,this.uClampOffset[0]=f/o.realWidth,this.uClampOffset[1]=f/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var kk=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Mk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class Dk extends Bt{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||Mk,r||kk,n),this.maskSprite=i,this.maskMatrix=new Ke}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new rv(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class Nk{constructor(e=null){this.type=vt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Bt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=vt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class rE{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new Nk;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==vt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case vt.SCISSOR:this.renderer.scissor.push(n);break;case vt.STENCIL:this.renderer.stencil.push(n);break;case vt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case vt.COLOR:this.pushColorMask(n);break}n.type===vt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case vt.SCISSOR:this.renderer.scissor.pop(r);break;case vt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case vt.SPRITE:this.popSpriteMask(r);break;case vt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===vt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=vt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=vt.SCISSOR:e.type=vt.STENCIL:e.type=vt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Dk]));const s=this.renderer,o=s.renderTexture;let u,h;if(o.current){const m=o.current;u=e.resolution||m.resolution,h=e.multisample??m.multisample}else u=e.resolution||s.resolution,h=e.multisample??s.multisample;i[0].resolution=u,i[0].multisample=h,i[0].maskSprite=r;const f=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=f,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}rE.extension={type:se.RendererSystem,name:"mask"};fe.add(rE);class nE{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const ux=new Ke,cx=[],ah=class extends nE{constructor(t){super(t),this.glConst=ie.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,cx.pop()??new Se);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||ah.isMatrixRotated(e.worldTransform)||ah.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){ah.isMatrixRotated(i)||(i=i?ux.copyFrom(i):ux.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&cx.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let iE=ah;iE.extension={type:se.RendererSystem,name:"scissor"};fe.add(iE);class sE extends nE{constructor(e){super(e),this.glConst=ie.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}sE.extension={type:se.RendererSystem,name:"stencil"};fe.add(sE);class oE{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Te("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Te("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Te("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}oE.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"_plugin"};fe.add(oE);class aE{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ke,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}aE.extension={type:se.RendererSystem,name:"projection"};fe.add(aE);const Ok=new Sd;class lE{constructor(e){this.renderer=e,this._tempMatrix=new Ke}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=eo.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const u=e.transform;return e.transform=Ok,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=u,o}destroy(){}}lE.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"textureGenerator"};fe.add(lE);const bs=new Se,tl=new Se;class uE{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Se,this.destinationFrame=new Se,this.viewportFrame=new Se}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,u;e?(s=e.baseTexture,u=s.resolution,r||(bs.width=e.frame.width,bs.height=e.frame.height,r=bs),n||(tl.x=e.frame.x,tl.y=e.frame.y,tl.width=r.width,tl.height=r.height,n=tl),o=s.framebuffer):(u=i.resolution,r||(bs.width=i._view.screen.width,bs.height=i._view.screen.height,r=bs),n||(n=bs,n.width=r.width,n.height=r.height));const h=this.viewportFrame;h.x=n.x*u,h.y=n.y*u,h.width=n.width*u,h.height=n.height*u,e||(h.y=i.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(o,h),this.renderer.projection.update(n,r,u,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Be.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,u=s.width!==o.width||s.height!==o.height;if(u){let{x:h,y:f,width:m,height:c}=this.viewportFrame;h=Math.round(h),f=Math.round(f),m=Math.round(m),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,f,m,c)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}uE.extension={type:se.RendererSystem,name:"renderTexture"};fe.add(uE);class Fk{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Bk(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=Wb(e,s.type),u={type:o,name:s.name,size:Vb(o),location:e.getAttribLocation(t,s.name)};r[s.name]=u}return r}function Lk(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),h=Wb(e,s.type);r[o]={name:o,index:i,type:h,size:s.size,isArray:u,value:$b(h,s.size)}}return r}function Uk(t,e){var h;const r=rx(t,t.VERTEX_SHADER,e.vertexSrc),n=rx(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(h=e.extra)==null?void 0:h.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||pk(t,i,r,n),e.attributeData=Bk(i,t),e.uniformData=Lk(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const f=Object.keys(e.attributeData);f.sort((m,c)=>m>c?1:-1);for(let m=0;m<f.length;m++)e.attributeData[f[m]].location=m,t.bindAttribLocation(i,m,f[m]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const f in e.uniformData){const m=e.uniformData[f];o[f]={location:t.getUniformLocation(i,f),value:$b(m.type,m.size)}}return new Fk(i,o)}function zk(t,e,r,n,i){r.buffer.update(i)}const Gk={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},cE={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Hk(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=cE[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const u=n%r%16;n+=u,i+=u}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function $k(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function jk(t,e){if(!t.autoManage)return{size:0,syncFunc:zk};const r=$k(t.uniforms,e),{uboElements:n,size:i}=Hk(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const u=n[o],h=t.uniforms[u.data.name],f=u.data.name;let m=!1;for(let c=0;c<ia.length;c++){const d=ia[c];if(d.codeUbo&&d.test(u.data,h)){s.push(`offset = ${u.offset/4};`,ia[c].codeUbo(u.data.name,h)),m=!0;break}}if(!m)if(u.data.size>1){const c=Vb(u.data.type),d=Math.max(cE[u.data.type]/16,1),g=c/d,v=(4-g%4)%4;s.push(`
                cv = ud.${f}.value;
                v = uv.${f};
                offset = ${u.offset/4};

                t = 0;

                for(var i=0; i < ${u.data.size*d}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const c=Gk[u.data.type];s.push(`
                cv = ud.${f}.value;
                v = uv.${f};
                offset = ${u.offset/4};
                ${c};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let Vk=0;const Nc={textureCount:0,uboCount:0};class hE{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Vk++}systemCheck(){if(!gk())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Nc.textureCount=0,Nc.uboCount=0,this.syncUniformGroup(e.uniformGroup,Nc)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=hk(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Nc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let u=this._uboCache[o];if(u||(u=this._uboCache[o]=jk(e,this.shader.program.uniformData)),e.autoManage){const h=new Float32Array(u.size/4);e.buffer.update(h)}return r.uniformGroups[e.id]=u.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=Uk(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}hE.extension={type:se.RendererSystem,name:"shader"};fe.add(hE);class Ad{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Ad.defaultOptions={hello:!1};Ad.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"startup"};fe.add(Ad);function Wk(t,e=[]){return e[ge.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.ADD]=[t.ONE,t.ONE],e[ge.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.NONE]=[0,0],e[ge.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ge.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ge.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ge.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ge.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ge.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ge.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ge.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ge.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ge.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const Xk=0,Yk=1,Qk=2,qk=3,Kk=4,Zk=5,Pg=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ge.NONE,this._blendEq=!1,this.map=[],this.map[Xk]=this.setBlend,this.map[Yk]=this.setOffset,this.map[Qk]=this.setCullFace,this.map[qk]=this.setDepthTest,this.map[Kk]=this.setFrontFace,this.map[Zk]=this.setDepthMask,this.checks=[],this.defaultState=new wi,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=Wk(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Pg.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Pg.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let dE=Pg;dE.extension={type:se.RendererSystem,name:"state"};fe.add(dE);class Jk extends au{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new yn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const lh=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=lh.defaultMaxIdle,this.checkCountMax=lh.defaultCheckCountMax,this.mode=lh.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==$y.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let cn=lh;cn.defaultMode=$y.AUTO;cn.defaultMaxIdle=60*60;cn.defaultCheckCountMax=60*10;cn.extension={type:se.RendererSystem,name:"textureGC"};fe.add(cn);class Qp{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=me.UNSIGNED_BYTE,this.internalFormat=J.RGBA,this.samplerType=0}}function eM(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[me.UNSIGNED_BYTE]:{[J.RGBA]:t.RGBA8,[J.RGB]:t.RGB8,[J.RG]:t.RG8,[J.RED]:t.R8,[J.RGBA_INTEGER]:t.RGBA8UI,[J.RGB_INTEGER]:t.RGB8UI,[J.RG_INTEGER]:t.RG8UI,[J.RED_INTEGER]:t.R8UI,[J.ALPHA]:t.ALPHA,[J.LUMINANCE]:t.LUMINANCE,[J.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[me.BYTE]:{[J.RGBA]:t.RGBA8_SNORM,[J.RGB]:t.RGB8_SNORM,[J.RG]:t.RG8_SNORM,[J.RED]:t.R8_SNORM,[J.RGBA_INTEGER]:t.RGBA8I,[J.RGB_INTEGER]:t.RGB8I,[J.RG_INTEGER]:t.RG8I,[J.RED_INTEGER]:t.R8I},[me.UNSIGNED_SHORT]:{[J.RGBA_INTEGER]:t.RGBA16UI,[J.RGB_INTEGER]:t.RGB16UI,[J.RG_INTEGER]:t.RG16UI,[J.RED_INTEGER]:t.R16UI,[J.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[me.SHORT]:{[J.RGBA_INTEGER]:t.RGBA16I,[J.RGB_INTEGER]:t.RGB16I,[J.RG_INTEGER]:t.RG16I,[J.RED_INTEGER]:t.R16I},[me.UNSIGNED_INT]:{[J.RGBA_INTEGER]:t.RGBA32UI,[J.RGB_INTEGER]:t.RGB32UI,[J.RG_INTEGER]:t.RG32UI,[J.RED_INTEGER]:t.R32UI,[J.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[me.INT]:{[J.RGBA_INTEGER]:t.RGBA32I,[J.RGB_INTEGER]:t.RGB32I,[J.RG_INTEGER]:t.RG32I,[J.RED_INTEGER]:t.R32I},[me.FLOAT]:{[J.RGBA]:t.RGBA32F,[J.RGB]:t.RGB32F,[J.RG]:t.RG32F,[J.RED]:t.R32F,[J.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[me.HALF_FLOAT]:{[J.RGBA]:t.RGBA16F,[J.RGB]:t.RGB16F,[J.RG]:t.RG16F,[J.RED]:t.R16F},[me.UNSIGNED_SHORT_5_6_5]:{[J.RGB]:t.RGB565},[me.UNSIGNED_SHORT_4_4_4_4]:{[J.RGBA]:t.RGBA4},[me.UNSIGNED_SHORT_5_5_5_1]:{[J.RGBA]:t.RGB5_A1},[me.UNSIGNED_INT_2_10_10_10_REV]:{[J.RGBA]:t.RGB10_A2,[J.RGBA_INTEGER]:t.RGB10_A2UI},[me.UNSIGNED_INT_10F_11F_11F_REV]:{[J.RGB]:t.R11F_G11F_B10F},[me.UNSIGNED_INT_5_9_9_9_REV]:{[J.RGB]:t.RGB9_E5},[me.UNSIGNED_INT_24_8]:{[J.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[me.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[J.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[me.UNSIGNED_BYTE]:{[J.RGBA]:t.RGBA,[J.RGB]:t.RGB,[J.ALPHA]:t.ALPHA,[J.LUMINANCE]:t.LUMINANCE,[J.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[me.UNSIGNED_SHORT_5_6_5]:{[J.RGB]:t.RGB},[me.UNSIGNED_SHORT_4_4_4_4]:{[J.RGBA]:t.RGBA},[me.UNSIGNED_SHORT_5_5_5_1]:{[J.RGBA]:t.RGBA}},e}class fE{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ve,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=eM(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Qp(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Qp(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==sg.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Qp(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,this.webGLVersion===2&&e.type===me.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)!=null&&i.upload(n,e,r))r.samplerType!==sg.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,u=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,u.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&ra(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Vn.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=fi.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Vn.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ui.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===ui.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ui.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ui.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}fE.extension={type:se.RendererSystem,name:"texture"};fe.add(fE);class pE{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];u&&(n.buffer.update(u),u._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,u._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];if(!u)continue;const h=u._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&s.dispose(u,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}pE.extension={type:se.RendererSystem,name:"transformFeedback"};fe.add(pE);class Cd{constructor(e){this.renderer=e}init(e){this.screen=new Se(0,0,e.width,e.height),this.element=e.view||ie.ADAPTER.createCanvas(),this.resolution=e.resolution||ie.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Cd.defaultOptions={width:800,height:600,resolution:ie.RESOLUTION,autoDensity:!1};Cd.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"_view"};fe.add(Cd);ie.PREFER_ENV=Js.WEBGL2;ie.STRICT_TEXTURE_CACHE=!1;ie.RENDER_OPTIONS={...Td.defaultOptions,...Ed.defaultOptions,...Cd.defaultOptions,...Ad.defaultOptions};Object.defineProperties(ie,{WRAP_MODE:{get(){return ve.defaultOptions.wrapMode},set(t){Te("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ve.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return ve.defaultOptions.scaleMode},set(t){Te("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ve.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return ve.defaultOptions.mipmap},set(t){Te("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ve.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return ve.defaultOptions.anisotropicLevel},set(t){Te("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ve.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Te("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Bt.defaultResolution},set(t){Bt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Te("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Bt.defaultMultisample},set(t){Bt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return un.defaultMaxTextures},set(t){Te("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),un.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return un.defaultBatchSize},set(t){Te("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),un.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return un.canUploadSameBuffer},set(t){Te("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),un.canUploadSameBuffer=t}},GC_MODE:{get(){return cn.defaultMode},set(t){Te("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),cn.defaultMode=t}},GC_MAX_IDLE:{get(){return cn.defaultMaxIdle},set(t){Te("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),cn.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return cn.defaultCheckCountMax},set(t){Te("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),cn.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return dn.defaultVertexPrecision},set(t){Te("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),dn.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return dn.defaultFragmentPrecision},set(t){Te("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),dn.defaultFragmentPrecision=t}}});var as=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(as||{});class qp{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const _r=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new qp(null,null,1/0),this.deltaMS=1/_r.targetFPMS,this.elapsedMS=1/_r.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=as.NORMAL){return this._addListener(new qp(t,e,r))}addOnce(t,e,r=as.NORMAL){return this._addListener(new qp(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*_r.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,_r.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!_r._shared){const t=_r._shared=new _r;t.autoStart=!0,t._protected=!0}return _r._shared}static get system(){if(!_r._system){const t=_r._system=new _r;t.autoStart=!0,t._protected=!0}return _r._system}};let ft=_r;ft.targetFPMS=.06;Object.defineProperties(ie,{TARGET_FPMS:{get(){return ft.targetFPMS},set(t){Te("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),ft.targetFPMS=t}}});class mE{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,as.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?ft.shared:new ft,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}mE.extension=se.Application;fe.add(mE);const gE=[];fe.handleByList(se.Renderer,gE);function tM(t){for(const e of gE)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var rM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,nM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const iM=rM,yE=nM;class vE{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=mt.HIGH?this.multisample=mt.HIGH:r>=mt.MEDIUM?this.multisample=mt.MEDIUM:r>=mt.LOW?this.multisample=mt.LOW:this.multisample=mt.NONE}destroy(){}}vE.extension={type:se.RendererSystem,name:"_multisample"};fe.add(vE);class sM{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class _E{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new sM(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}_E.extension={type:se.RendererSystem,name:"buffer"};fe.add(_E);class xE{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,u;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,u=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!u){const h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}xE.extension={type:se.RendererSystem,name:"objectRenderer"};fe.add(xE);const Ig=class extends Jk{constructor(t){super(),this.type=db.WEBGL,t=Object.assign({},ie.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new vn({projectionMatrix:new Ke},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Ig.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Te("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=Ig.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:RR()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Te("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Te("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Te("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Te("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Te("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Te("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Te("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Te("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let Sa=Ig;Sa.extension={type:se.Renderer,priority:1};Sa.__plugins={};Sa.__systems={};fe.handleByMap(se.RendererPlugin,Sa.__plugins);fe.handleByMap(se.RendererSystem,Sa.__systems);fe.add(Sa);class wE extends ql{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new ve;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof ql?this.addResourceAt(e[n],n):this.addResourceAt(Ub(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class oM extends wE{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Zo.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:u}=e;n.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let h=0;h<i;h++){const f=o[h];s[h]<f.dirtyId&&(s[h]=f.dirtyId,f.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,h,f.resource.width,f.resource.height,1,r.format,n.type,f.resource.source))}return!0}}class aM extends os{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const cl=class extends wE{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==cl.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<cl.SIDES;o++)this.items[o].target=Zo.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Zo.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Zo.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<cl.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===cl.SIDES}};let SE=cl;SE.SIDES=6;class jo extends os{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=jo.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ie.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===wn.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return jo._EMPTY=jo._EMPTY??ie.ADAPTER.createCanvas(0,0),jo._EMPTY}}const uh=class extends os{constructor(t,e){e=e||{},super(ie.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},uh.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;os.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${qs()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=uh.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&uh.SVG_XML.test(t)}};let Kl=uh;Kl.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;Kl.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Rg=class extends os{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];os.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:u}=t[i];o=o||t[i];const h=o.split("?").shift().toLowerCase(),f=h.slice(h.lastIndexOf(".")+1);u=u||Rg.MIME_TYPES[f]||`video/${f}`,s.src=o,s.type=u,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=ft.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(ft.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(ft.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(ft.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(ft.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(ft.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Rg.TYPES.includes(e)}};let nv=Rg;nv.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];nv.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};bg.push(jo,Qb,aM,nv,Kl,uu,SE,oM);class Vh{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Se.EMPTY:(e=e||new Se(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:u,ty:h}=e,f=n*r.x+s*r.y+u,m=i*r.x+o*r.y+h;this.minX=Math.min(this.minX,f),this.maxX=Math.max(this.maxX,f),this.minY=Math.min(this.minY,m),this.maxY=Math.max(this.maxY,m)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],u=e[1];r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[2],u=e[3],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[4],u=e[5],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[6],u=e[7],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,u=e.b,h=e.c,f=e.d,m=e.tx,c=e.ty;let d=this.minX,g=this.minY,v=this.maxX,S=this.maxY,T=o*r+h*n+m,x=u*r+f*n+c;d=T<d?T:d,g=x<g?x:g,v=T>v?T:v,S=x>S?x:S,T=o*i+h*n+m,x=u*i+f*n+c,d=T<d?T:d,g=x<g?x:g,v=T>v?T:v,S=x>S?x:S,T=o*r+h*s+m,x=u*r+f*s+c,d=T<d?T:d,g=x<g?x:g,v=T>v?T:v,S=x>S?x:S,T=o*i+h*s+m,x=u*i+f*s+c,d=T<d?T:d,g=x<g?x:g,v=T>v?T:v,S=x>S?x:S,this.minX=d,this.minY=g,this.maxX=v,this.maxY=S}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,u=this.maxY;for(let h=r;h<n;h+=2){const f=e[h],m=e[h+1];i=f<i?f:i,s=m<s?m:s,o=f>o?f:o,u=m>u?m:u}this.minX=i,this.minY=s,this.maxX=o,this.maxY=u}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const u=e.a,h=e.b,f=e.c,m=e.d,c=e.tx,d=e.ty;let g=this.minX,v=this.minY,S=this.maxX,T=this.maxY;for(let x=n;x<i;x+=2){const b=r[x],E=r[x+1],A=u*b+f*E+c,I=m*E+h*b+d;g=Math.min(g,A-s),S=Math.max(S,A+s),v=Math.min(v,I-o),T=Math.max(T,I+o)}this.minX=g,this.minY=v,this.maxX=S,this.maxY=T}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const u=this.minX,h=this.minY,f=this.maxX,m=this.maxY;this.minX=n<u?n:u,this.minY=i<h?i:h,this.maxX=s>f?s:f,this.maxY=o>m?o:m}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const u=this.minX,h=this.minY,f=this.maxX,m=this.maxY;this.minX=n<u?n:u,this.minY=i<h?i:h,this.maxX=s>f?s:f,this.maxY=o>m?o:m}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Ze extends au{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Sd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Vh,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Ze.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Se),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Se),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Vh);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,u=0,h=0,f=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=u,this.pivot.x=h,this.pivot.y=f,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new lM),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*ik}set angle(e){this.transform.rotation=e*sk}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class lM extends Ze{constructor(){super(...arguments),this.sortDirty=null}}Ze.prototype.displayObjectUpdateTransform=Ze.prototype.updateTransform;const uM=new Ke;function cM(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const kg=class extends Ze{constructor(){super(),this.children=[],this.sortableChildren=kg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);ra(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,ra(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,ra(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(cM),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==kg.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=uM.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const u=this.children[s],h=u.cullable;u.cullable=h||!this.cullArea,u.render(t),u.cullable=h}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let u=0;u<e.length;u++)e[u].enabled&&this._enabledFilters.push(e[u])}const n=e&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==vt.NONE));if(n&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let u=0,h=this.children.length;u<h;++u)this.children[u].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let Kt=kg;Kt.defaultSortableChildren=!1;Kt.prototype.containerUpdateTransform=Kt.prototype.updateTransform;Object.defineProperties(ie,{SORTABLE_CHILDREN:{get(){return Kt.defaultSortableChildren},set(t){Te("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Kt.defaultSortableChildren=t}}});var Pd=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Pd||{});const rl=new Pe,hM=new Uint16Array([0,1,2,0,2,3]);class Yn extends Kt{constructor(e){super(),this._anchor=new hi(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Be(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ge.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ne.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=hM,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ie.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Wi(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Wi(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,u=r.tx,h=r.ty,f=this.vertexData,m=e.trim,c=e.orig,d=this._anchor;let g=0,v=0,S=0,T=0;if(m?(v=m.x-d._x*c.width,g=v+m.width,T=m.y-d._y*c.height,S=T+m.height):(v=-d._x*c.width,g=v+c.width,T=-d._y*c.height,S=T+c.height),f[0]=n*v+s*T+u,f[1]=o*T+i*v+h,f[2]=n*g+s*T+u,f[3]=o*T+i*g+h,f[4]=n*g+s*S+u,f[5]=o*S+i*g+h,f[6]=n*v+s*S+u,f[7]=o*S+i*v+h,this._roundPixels){const x=ie.RESOLUTION;for(let b=0;b<f.length;++b)f[b]=Math.round(f[b]*x)/x}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,u=s.b,h=s.c,f=s.d,m=s.tx,c=s.ty,d=-i._x*n.width,g=d+n.width,v=-i._y*n.height,S=v+n.height;r[0]=o*d+h*v+m,r[1]=f*v+u*d+c,r[2]=o*g+h*v+m,r[3]=f*v+u*g+c,r[4]=o*g+h*S+m,r[5]=f*S+u*g+c,r[6]=o*d+h*S+m,r[7]=f*S+u*d+c}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Vh),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Se),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,rl);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return rl.x>=i&&rl.x<i+r&&(s=-n*this.anchor.y,rl.y>=s&&rl.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(e,r){const n=e instanceof ne?e:ne.from(e,r);return new Yn(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Wi(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Wi(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ne.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Oc={willReadFrequently:!0},he=class{static get experimentalLetterSpacingSupported(){let t=he._experimentalLetterSpacingSupported;if(t!==void 0){const e=ie.ADAPTER.getCanvasRenderingContext2D().prototype;t=he._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,o,u,h){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=u,this.fontProperties=h}static measureText(t,e,r,n=he._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=he.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=n.getContext("2d",Oc);o.font=i;const h=(r?he.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),f=new Array(h.length);let m=0;for(let v=0;v<h.length;v++){const S=he._measureText(h[v],e.letterSpacing,o);f[v]=S,m=Math.max(m,S)}let c=m+e.strokeThickness;e.dropShadow&&(c+=e.dropShadowDistance);const d=e.lineHeight||s.fontSize+e.strokeThickness;let g=Math.max(d,s.fontSize+e.strokeThickness*2)+(h.length-1)*(d+e.leading);return e.dropShadow&&(g+=e.dropShadowDistance),new he(t,e,c,g,h,f,d+e.leading,m,s)}static _measureText(t,e,r){let n=!1;he.experimentalLetterSpacingSupported&&(he.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(he.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=he._canvas){const n=r.getContext("2d",Oc);let i=0,s="",o="";const u=Object.create(null),{letterSpacing:h,whiteSpace:f}=e,m=he.collapseSpaces(f),c=he.collapseNewlines(f);let d=!m;const g=e.wordWrapWidth+h,v=he.tokenize(t);for(let S=0;S<v.length;S++){let T=v[S];if(he.isNewline(T)){if(!c){o+=he.addLine(s),d=!m,s="",i=0;continue}T=" "}if(m){const b=he.isBreakingSpace(T),E=he.isBreakingSpace(s[s.length-1]);if(b&&E)continue}const x=he.getFromCache(T,h,u,n);if(x>g)if(s!==""&&(o+=he.addLine(s),s="",i=0),he.canBreakWords(T,e.breakWords)){const b=he.wordWrapSplit(T);for(let E=0;E<b.length;E++){let A=b[E],I=A,O=1;for(;b[E+O];){const R=b[E+O];if(!he.canBreakChars(I,R,T,E,e.breakWords))A+=R;else break;I=R,O++}E+=O-1;const N=he.getFromCache(A,h,u,n);N+i>g&&(o+=he.addLine(s),d=!1,s="",i=0),s+=A,i+=N}}else{s.length>0&&(o+=he.addLine(s),s="",i=0);const b=S===v.length-1;o+=he.addLine(T,!b),d=!1,s="",i=0}else x+i>g&&(d=!1,o+=he.addLine(s),s="",i=0),(s.length>0||!he.isBreakingSpace(T)||d)&&(s+=T,i+=x)}return o+=he.addLine(s,!1),o}static addLine(t,e=!0){return t=he.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=he._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!he.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:he._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:he._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(he.isBreakingSpace(i,s)||he.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return he.graphemeSegmenter(t)}static measureFont(t){if(he._fonts[t])return he._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=he._canvas,n=he._context;n.font=t;const i=he.METRICS_STRING+he.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(he.BASELINE_SYMBOL).width);const u=Math.ceil(he.HEIGHT_MULTIPLIER*o);if(o=o*he.BASELINE_MULTIPLIER|0,s===0||u===0)return he._fonts[t]=e,e;r.width=s,r.height=u,n.fillStyle="#f00",n.fillRect(0,0,s,u),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const h=n.getImageData(0,0,s,u).data,f=h.length,m=s*4;let c=0,d=0,g=!1;for(c=0;c<o;++c){for(let v=0;v<m;v+=4)if(h[d+v]!==255){g=!0;break}if(!g)d+=m;else break}for(e.ascent=o-c,d=f-m,g=!1,c=u;c>o;--c){for(let v=0;v<m;v+=4)if(h[d+v]!==255){g=!0;break}if(!g)d-=m;else break}return e.descent=c-o,e.fontSize=e.ascent+e.descent,he._fonts[t]=e,e}static clearMetrics(t=""){t?delete he._fonts[t]:he._fonts={}}static get _canvas(){if(!he.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",Oc);if(r!=null&&r.measureText)return he.__canvas=e,e;t=ie.ADAPTER.createCanvas()}catch{t=ie.ADAPTER.createCanvas()}t.width=t.height=10,he.__canvas=t}return he.__canvas}static get _context(){return he.__context||(he.__context=he._canvas.getContext("2d",Oc)),he.__context}};let Ot=he;Ot.METRICS_STRING="|q";Ot.BASELINE_SYMBOL="M";Ot.BASELINE_MULTIPLIER=1.4;Ot.HEIGHT_MULTIPLIER=2;Ot.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();Ot.experimentalLetterSpacing=!1;Ot._fonts={};Ot._newlines=[10,13];Ot._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const dM=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],hl=class{constructor(t){this.styleID=0,this.reset(),Zp(this,t,t)}clone(){const t={};return Zp(t,this,hl.defaultStyle),new hl(t)}reset(){Zp(this,hl.defaultStyle,hl.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Kp(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Kp(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){fM(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Kp(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!dM.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let xn=hl;xn.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Pd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function Kp(t){const e=Be.shared;return Array.isArray(t)?t.map(r=>e.setValue(r).toHex()):e.setValue(t).toHex()}function fM(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Zp(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const pM={texture:!0,children:!1,baseTexture:!0},Mg=class extends Yn{constructor(t,e,r){let n=!1;r||(r=ie.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=ne.from(r);i.orig=new Se,i.trim=new Se,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=Mg.defaultResolution??ie.RESOLUTION,this._autoResolution=Mg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return Ot.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Te("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Ot.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=Ot.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,u=n.lineHeight,h=n.lineWidths,f=n.maxLineWidth,m=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let c,d;const g=e.dropShadow?2:1;for(let v=0;v<g;++v){const S=e.dropShadow&&v===0,T=S?Math.ceil(Math.max(1,s)+e.padding*2):0,x=T*this._resolution;if(S){r.fillStyle="black",r.strokeStyle="black";const E=e.dropShadowColor,A=e.dropShadowBlur*this._resolution,I=e.dropShadowDistance*this._resolution;r.shadowColor=Be.shared.setValue(E).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=A,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*I,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*I+x}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let b=(u-m.fontSize)/2;u-m.fontSize<0&&(b=0);for(let E=0;E<o.length;E++)c=e.strokeThickness/2,d=e.strokeThickness/2+E*u+m.ascent+b,e.align==="right"?c+=f-h[E]:e.align==="center"&&(c+=(f-h[E])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[E],c+e.padding,d+e.padding-T,!0),e.fill&&this.drawLetterSpacing(o[E],c+e.padding,d+e.padding-T)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const s=this._style.letterSpacing;let o=!1;if(Ot.experimentalLetterSpacingSupported&&(Ot.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let u=e;const h=Ot.graphemeSegmenter(t);let f=this.context.measureText(t).width,m=0;for(let c=0;c<h.length;++c){const d=h[c];n?this.context.strokeText(d,u,r):this.context.fillText(d,u,r);let g="";for(let v=c+1;v<h.length;++v)g+=h[v];m=this.context.measureText(g).width,u+=f-m+s,f=m}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=XR(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,u=this.canvas.width/this._resolution-s-o*2,h=this.canvas.height/this._resolution-s-o*2,f=n.slice(),m=t.fillGradientStops.slice();if(!m.length){const c=f.length+1;for(let d=1;d<c;++d)m.push(d/c)}if(f.unshift(n[0]),m.unshift(0),f.push(n[n.length-1]),m.push(1),t.fillGradientType===Pd.LINEAR_VERTICAL){i=this.context.createLinearGradient(u/2,o,u/2,h+o);const c=r.fontProperties.fontSize+t.strokeThickness;for(let d=0;d<e.length;d++){const g=r.lineHeight*(d-1)+c,v=r.lineHeight*d;let S=v;d>0&&g>v&&(S=(v+g)/2);const T=v+c,x=r.lineHeight*(d+1);let b=T;d+1<e.length&&x<T&&(b=(T+x)/2);const E=(b-S)/h;for(let A=0;A<f.length;A++){let I=0;typeof m[A]=="number"?I=m[A]:I=A/f.length;let O=Math.min(1,Math.max(0,S/h+I*E));O=Number(O.toFixed(5)),i.addColorStop(O,f[A])}}}else{i=this.context.createLinearGradient(o,h/2,u+o,h/2);const c=f.length+1;let d=1;for(let g=0;g<f.length;g++){let v;typeof m[g]=="number"?v=m[g]:v=d/c,i.addColorStop(v,f[g]),d++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},pM,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Wi(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Wi(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof xn?this._style=t:this._style=new xn(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Id=Mg;Id.defaultAutoResolution=!0;class Wh{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class ch{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],u=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const f in u){const m=u[f].split("="),c=m[0],d=m[1].replace(/"/gm,""),g=parseFloat(d),v=isNaN(g)?d:g;h[c]=v}n[o].push(h)}const i=new Wh;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Dg{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Wh,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),u=e.getElementsByTagName("kerning"),h=e.getElementsByTagName("distanceField");for(let f=0;f<n.length;f++)r.info.push({face:n[f].getAttribute("face"),size:parseInt(n[f].getAttribute("size"),10)});for(let f=0;f<i.length;f++)r.common.push({lineHeight:parseInt(i[f].getAttribute("lineHeight"),10)});for(let f=0;f<s.length;f++)r.page.push({id:parseInt(s[f].getAttribute("id"),10)||0,file:s[f].getAttribute("file")});for(let f=0;f<o.length;f++){const m=o[f];r.char.push({id:parseInt(m.getAttribute("id"),10),page:parseInt(m.getAttribute("page"),10)||0,x:parseInt(m.getAttribute("x"),10),y:parseInt(m.getAttribute("y"),10),width:parseInt(m.getAttribute("width"),10),height:parseInt(m.getAttribute("height"),10),xoffset:parseInt(m.getAttribute("xoffset"),10),yoffset:parseInt(m.getAttribute("yoffset"),10),xadvance:parseInt(m.getAttribute("xadvance"),10)})}for(let f=0;f<u.length;f++)r.kerning.push({first:parseInt(u[f].getAttribute("first"),10),second:parseInt(u[f].getAttribute("second"),10),amount:parseInt(u[f].getAttribute("amount"),10)});for(let f=0;f<h.length;f++)r.distanceField.push({fieldType:h[f].getAttribute("fieldType"),distanceRange:parseInt(h[f].getAttribute("distanceRange"),10)});return r}}class Ng{static test(e){return typeof e=="string"&&e.includes("<font>")?Dg.test(ie.ADAPTER.parseXML(e)):!1}static parse(e){return Dg.parse(ie.ADAPTER.parseXML(e))}}const Jp=[ch,Dg,Ng];function mM(t){for(let e=0;e<Jp.length;e++)if(Jp[e].test(t))return Jp[e];return null}function gM(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let u;const h=r.dropShadow?r.dropShadowDistance:0,f=r.padding||0,m=t.width/n-h-f*2,c=t.height/n-h-f*2,d=o.slice(),g=r.fillGradientStops.slice();if(!g.length){const v=d.length+1;for(let S=1;S<v;++S)g.push(S/v)}if(d.unshift(o[0]),g.unshift(0),d.push(o[o.length-1]),g.push(1),r.fillGradientType===Pd.LINEAR_VERTICAL){u=e.createLinearGradient(m/2,f,m/2,c+f);let v=0;const T=(s.fontProperties.fontSize+r.strokeThickness)/c;for(let x=0;x<i.length;x++){const b=s.lineHeight*x;for(let E=0;E<d.length;E++){let A=0;typeof g[E]=="number"?A=g[E]:A=E/d.length;const I=b/c+A*T;let O=Math.max(v,I);O=Math.min(O,1),u.addColorStop(O,d[E]),v=O}}}else{u=e.createLinearGradient(f,c/2,m+f,c/2);const v=d.length+1;let S=1;for(let T=0;T<d.length;T++){let x;typeof g[T]=="number"?x=g[T]:x=S/v,u.addColorStop(x,d[T]),S++}}return u}function yM(t,e,r,n,i,s,o){const u=r.text,h=r.fontProperties;e.translate(n,i),e.scale(s,s);const f=o.strokeThickness/2,m=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=gM(t,e,o,s,[u],r),e.strokeStyle=o.stroke,o.dropShadow){const c=o.dropShadowColor,d=o.dropShadowBlur*s,g=o.dropShadowDistance*s;e.shadowColor=Be.shared.setValue(c).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(u,f,m+r.lineHeight-h.descent),o.fill&&e.fillText(u,f,m+r.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function hh(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function bE(t){return Array.from?Array.from(t):t.split("")}function vM(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let u=s,h=o;u<=h;u++)e.push(String.fromCharCode(u))}else e.push(...bE(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const nn=class{constructor(t,e,r){var f;const[n]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,u=is(s.file),h={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/u,this.chars={},this.pageTextures=h;for(let m=0;m<t.page.length;m++){const{id:c,file:d}=t.page[m];h[c]=e instanceof Array?e[m]:e[d],o!=null&&o.fieldType&&o.fieldType!=="none"&&(h[c].baseTexture.alphaMode=wn.NO_PREMULTIPLIED_ALPHA,h[c].baseTexture.mipmap=Vn.OFF)}for(let m=0;m<t.char.length;m++){const{id:c,page:d}=t.char[m];let{x:g,y:v,width:S,height:T,xoffset:x,yoffset:b,xadvance:E}=t.char[m];g/=u,v/=u,S/=u,T/=u,x/=u,b/=u,E/=u;const A=new Se(g+h[d].frame.x/u,v+h[d].frame.y/u,S,T);this.chars[c]={xOffset:x,yOffset:b,xAdvance:E,kerning:{},texture:new ne(h[d].baseTexture,A),page:d}}for(let m=0;m<t.kerning.length;m++){let{first:c,second:d,amount:g}=t.kerning[m];c/=u,d/=u,g/=u,this.chars[d]&&(this.chars[d].kerning[c]=g)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((f=o==null?void 0:o.fieldType)==null?void 0:f.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof Wh)n=t;else{const s=mM(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof ne&&(e=[e]);const i=new nn(n,e,r);return nn.available[i.font]=i,i}static uninstall(t){const e=nn.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete nn.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:u,...h}=Object.assign({},nn.defaultOptions,r),f=vM(n),m=e instanceof xn?e:new xn(e),c=o,d=new Wh;d.info[0]={face:m.fontFamily,size:m.fontSize},d.common[0]={lineHeight:m.fontSize};let g=0,v=0,S,T,x,b=0;const E=[];for(let I=0;I<f.length;I++){S||(S=ie.ADAPTER.createCanvas(),S.width=o,S.height=u,T=S.getContext("2d"),x=new ve(S,{resolution:s,...h}),E.push(new ne(x)),d.page.push({id:E.length-1,file:""}));const O=f[I],N=Ot.measureText(O,m,!1,S),R=N.width,L=Math.ceil(N.height),G=Math.ceil((m.fontStyle==="italic"?2:1)*R);if(v>=u-L*s){if(v===0)throw new Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${O}')`);--I,S=null,T=null,x=null,v=0,g=0,b=0;continue}if(b=Math.max(L+N.fontProperties.descent,b),G*s+g>=c){if(g===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${O}')`);--I,v+=b*s,v=Math.ceil(v),g=0,b=0;continue}yM(S,T,N,g,v,s,m);const j=hh(N.text);d.char.push({id:j,page:E.length-1,x:g/s,y:v/s,width:G,height:L,xoffset:0,yoffset:0,xadvance:R-(m.dropShadow?m.dropShadowDistance:0)-(m.stroke?m.strokeThickness:0)}),g+=(G+2*i)*s,g=Math.ceil(g)}for(let I=0,O=f.length;I<O;I++){const N=f[I];for(let R=0;R<O;R++){const L=f[R],G=T.measureText(N).width,j=T.measureText(L).width,H=T.measureText(N+L).width-(G+j);H&&d.kerning.push({first:hh(N),second:hh(L),amount:H})}}const A=new nn(d,E,!0);return nn.available[t]!==void 0&&nn.uninstall(t),nn.available[t]=A,A}};let lr=nn;lr.ALPHA=[["a","z"],["A","Z"]," "];lr.NUMERIC=[["0","9"]];lr.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];lr.ASCII=[[" ","~"]];lr.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:nn.ALPHANUMERIC};lr.available={};class _M{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const em=new Pe,hx=new na,EE=class extends Kt{constructor(t,e,r,n=hn.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||wi.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ie.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===hn.TRIANGLES&&e.length<EE.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,u=i.c,h=i.d,f=i.tx,m=i.ty,c=this.vertexData;for(let d=0;d<c.length/2;d++){const g=r[d*2],v=r[d*2+1];c[d*2]=s*g+u*v+f,c[d*2+1]=o*g+h*v+m}if(this._roundPixels){const d=ie.RESOLUTION;for(let g=0;g<c.length;++g)c[g]=Math.round(c[g]*d)/d}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new _M(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,em);const e=this.geometry.getBuffer("aVertexPosition").data,r=hx.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const u=n[o]*2,h=n[o+1]*2,f=n[o+2]*2;if(r[0]=e[u],r[1]=e[u+1],r[2]=e[h],r[3]=e[h+1],r[4]=e[f],r[5]=e[f+1],hx.contains(em.x,em.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let ma=EE;ma.BATCHABLE_SIZE=100;class Rd extends ss{constructor(e,r,n){super();const i=new ht(e),s=new ht(r,!0),o=new ht(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,me.FLOAT).addAttribute("aTextureCoord",s,2,!1,me.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var xM=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,wM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Zl extends jn{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Ke.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||dn.from(wM,xM),n),this._colorDirty=!1,this.uvMatrix=new rv(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Be(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const r=this.texture.baseTexture.alphaMode;Be.shared.setValue(this._tintColor).premultiply(this._alpha,r).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var SM=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,bM=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const dx=[],fx=[],px=[],TE=class extends Kt{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:u}=Object.assign({},TE.styleDefaults,e);if(!lr.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new Be(n),this._font=void 0,this._fontName=o,this._fontSize=u,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new hi(()=>{this.dirty=!0},this,0,0),this._roundPixels=ie.ROUND_PIXELS,this.dirty=!0,this._resolution=ie.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var G;const t=lr.available[this._fontName],e=this.fontSize,r=e/t.size,n=new Pe,i=[],s=[],o=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",h=bE(u),f=this._maxWidth*t.size/e,m=t.distanceFieldType==="none"?dx:fx;let c=null,d=0,g=0,v=0,S=-1,T=0,x=0,b=0,E=0;for(let j=0;j<h.length;j++){const Y=h[j],H=hh(Y);if(/(?:\s)/.test(Y)&&(S=j,T=d,E++),Y==="\r"||Y===`
`){s.push(d),o.push(-1),g=Math.max(g,d),++v,++x,n.x=0,n.y+=t.lineHeight,c=null,E=0;continue}const B=t.chars[H];if(!B)continue;c&&B.kerning[c]&&(n.x+=B.kerning[c]);const de=px.pop()||{texture:ne.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Pe};de.texture=B.texture,de.line=v,de.charCode=H,de.position.x=Math.round(n.x+B.xOffset+this._letterSpacing/2),de.position.y=Math.round(n.y+B.yOffset),de.prevSpaces=E,i.push(de),d=de.position.x+Math.max(B.xAdvance-B.xOffset,B.texture.orig.width),n.x+=B.xAdvance+this._letterSpacing,b=Math.max(b,B.yOffset+B.texture.height),c=H,S!==-1&&f>0&&n.x>f&&(++x,ra(i,1+S-x,1+j-S),j=S,S=-1,s.push(T),o.push(i.length>0?i[i.length-1].prevSpaces:0),g=Math.max(g,T),v++,n.x=0,n.y+=t.lineHeight,c=null,E=0)}const A=h[h.length-1];A!=="\r"&&A!==`
`&&(/(?:\s)/.test(A)&&(d=T),s.push(d),g=Math.max(g,d),o.push(-1));const I=[];for(let j=0;j<=v;j++){let Y=0;this._align==="right"?Y=g-s[j]:this._align==="center"?Y=(g-s[j])/2:this._align==="justify"&&(Y=o[j]<0?0:(g-s[j])/o[j]),I.push(Y)}const O=i.length,N={},R=[],L=this._activePagesMeshData;m.push(...L);for(let j=0;j<O;j++){const Y=i[j].texture,H=Y.baseTexture.uid;if(!N[H]){let B=m.pop();if(!B){const oe=new Rd;let ee,M;t.distanceFieldType==="none"?(ee=new Zl(ne.EMPTY),M=ge.NORMAL):(ee=new Zl(ne.EMPTY,{program:dn.from(bM,SM),uniforms:{uFWidth:0}}),M=ge.NORMAL_NPM);const X=new ma(oe,ee);X.blendMode=M,B={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:X,vertices:null,uvs:null,indices:null}}B.index=0,B.indexCount=0,B.vertexCount=0,B.uvsCount=0,B.total=0;const{_textureCache:de}=this;de[H]=de[H]||new ne(Y.baseTexture),B.mesh.texture=de[H],B.mesh.tint=this._tintColor.value,R.push(B),N[H]=B}N[H].total++}for(let j=0;j<L.length;j++)R.includes(L[j])||this.removeChild(L[j].mesh);for(let j=0;j<R.length;j++)R[j].mesh.parent!==this&&this.addChild(R[j].mesh);this._activePagesMeshData=R;for(const j in N){const Y=N[j],H=Y.total;if(!(((G=Y.indices)==null?void 0:G.length)>6*H)||Y.vertices.length<ma.BATCHABLE_SIZE*2)Y.vertices=new Float32Array(4*2*H),Y.uvs=new Float32Array(4*2*H),Y.indices=new Uint16Array(6*H);else{const B=Y.total,de=Y.vertices;for(let oe=B*4*2;oe<de.length;oe++)de[oe]=0}Y.mesh.size=6*H}for(let j=0;j<O;j++){const Y=i[j];let H=Y.position.x+I[Y.line]*(this._align==="justify"?Y.prevSpaces:1);this._roundPixels&&(H=Math.round(H));const B=H*r,de=Y.position.y*r,oe=Y.texture,ee=N[oe.baseTexture.uid],M=oe.frame,X=oe._uvs,D=ee.index++;ee.indices[D*6+0]=0+D*4,ee.indices[D*6+1]=1+D*4,ee.indices[D*6+2]=2+D*4,ee.indices[D*6+3]=0+D*4,ee.indices[D*6+4]=2+D*4,ee.indices[D*6+5]=3+D*4,ee.vertices[D*8+0]=B,ee.vertices[D*8+1]=de,ee.vertices[D*8+2]=B+M.width*r,ee.vertices[D*8+3]=de,ee.vertices[D*8+4]=B+M.width*r,ee.vertices[D*8+5]=de+M.height*r,ee.vertices[D*8+6]=B,ee.vertices[D*8+7]=de+M.height*r,ee.uvs[D*8+0]=X.x0,ee.uvs[D*8+1]=X.y0,ee.uvs[D*8+2]=X.x1,ee.uvs[D*8+3]=X.y1,ee.uvs[D*8+4]=X.x2,ee.uvs[D*8+5]=X.y2,ee.uvs[D*8+6]=X.x3,ee.uvs[D*8+7]=X.y3}this._textWidth=g*r,this._textHeight=(n.y+t.lineHeight)*r;for(const j in N){const Y=N[j];if(this.anchor.x!==0||this.anchor.y!==0){let oe=0;const ee=this._textWidth*this.anchor.x,M=this._textHeight*this.anchor.y;for(let X=0;X<Y.total;X++)Y.vertices[oe++]-=ee,Y.vertices[oe++]-=M,Y.vertices[oe++]-=ee,Y.vertices[oe++]-=M,Y.vertices[oe++]-=ee,Y.vertices[oe++]-=M,Y.vertices[oe++]-=ee,Y.vertices[oe++]-=M}this._maxLineHeight=b*r;const H=Y.mesh.geometry.getBuffer("aVertexPosition"),B=Y.mesh.geometry.getBuffer("aTextureCoord"),de=Y.mesh.geometry.getIndex();H.data=Y.vertices,B.data=Y.uvs,de.data=Y.indices,H.update(),B.update(),de.update()}for(let j=0;j<i.length;j++)px.push(i[j]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=lr.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:u}=this.worldTransform,h=Math.sqrt(i*i+s*s),f=Math.sqrt(o*o+u*u),m=(Math.abs(h)+Math.abs(f))/2,c=this.fontSize/n,d=t._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=m*e*c*d}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=lr.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!lr.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??lr.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,n=lr.available[this._fontName].distanceFieldType==="none"?dx:fx;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ne.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let AE=TE;AE.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const mx={loader:se.LoadParser,resolver:se.ResolveParser,cache:se.CacheParser,detection:se.DetectionParser};fe.handle(se.Asset,t=>{const e=t.ref;Object.entries(mx).filter(([r])=>!!e[r]).forEach(([r,n])=>fe.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(mx).filter(r=>!!e[r]).forEach(r=>fe.remove(e[r]))});class EM{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function cu(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function to(t,e){const r=t.split("?")[0],n=Yt.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const pi=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),Og=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function CE(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const u=s[o];r<e.length-1?CE(t.replace(n[r],u),e,r+1,n,i):i.push(t.replace(n[r],u))}}function TM(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),CE(t,i,0,r,n)}else n.push(t);return n}const Xh=t=>!Array.isArray(t);class AM{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=pi(e);let i;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];if(h.test(r)){i=h.getCacheableAssets(n,r);break}}i||(i={},n.forEach(u=>{i[u]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(u=>{this._cacheMap.set(u,o)}),s.forEach(u=>{this._cache.has(u)&&this._cache.get(u)!==r&&console.warn("[Cache] already has key:",u),this._cache.set(u,i[u])}),r instanceof ne){const u=r;n.forEach(h=>{u.baseTexture!==ne.EMPTY.baseTexture&&ve.addToCache(u.baseTexture,h),ne.addToCache(u,h)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const nl=new AM;class CM{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,u;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let h=0;h<this.parsers.length;h++){const f=this.parsers[h];if(f.load&&((o=f.test)!=null&&o.call(f,e,r,this))){s=f;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let h=0;h<this.parsers.length;h++){const f=this.parsers[h];f.parse&&f.parse&&await((u=f.testParse)==null?void 0:u.call(f,i,r,this))&&(i=await f.parse(i,r,this)||i,n.parser=f)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Xh(e),o=pi(e,f=>({src:f})),u=o.length,h=o.map(async f=>{const m=Yt.toAbsolute(f.src);if(!i[f.src])try{this.promiseCache[m]||(this.promiseCache[m]=this._getLoadPromiseAndParser(m,f)),i[f.src]=await this.promiseCache[m].promise,r&&r(++n/u)}catch(c){throw delete this.promiseCache[m],delete i[f.src],new Error(`[Loader.load] Failed to load ${m}.
${c}`)}});return await Promise.all(h),s?i[o[0].src]:i}async unload(e){const n=pi(e,i=>({src:i})).map(async i=>{var u,h;const s=Yt.toAbsolute(i.src),o=this.promiseCache[s];if(o){const f=await o.promise;(h=(u=o.parser)==null?void 0:u.unload)==null||h.call(u,f,i,this),delete this.promiseCache[s]}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Qn=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Qn||{});const PM=".json",IM="application/json",RM={extension:{type:se.LoadParser,priority:Qn.Low},name:"loadJson",test(t){return cu(t,IM)||to(t,PM)},async load(t){return await(await ie.ADAPTER.fetch(t)).json()}};fe.add(RM);const kM=".txt",MM="text/plain",DM={name:"loadTxt",extension:{type:se.LoadParser,priority:Qn.Low},test(t){return cu(t,MM)||to(t,kM)},async load(t){return await(await ie.ADAPTER.fetch(t)).text()}};fe.add(DM);const NM=["normal","bold","100","200","300","400","500","600","700","800","900"],OM=[".ttf",".otf",".woff",".woff2"],FM=["font/ttf","font/otf","font/woff","font/woff2"],BM=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function LM(t){const e=Yt.extname(t),i=Yt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1));let s=i.length>0;for(const u of i)if(!u.match(BM)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const UM={extension:{type:se.LoadParser,priority:Qn.Low},name:"loadWebFont",test(t){return cu(t,FM)||to(t,OM)},async load(t,e){var n,i,s;const r=ie.ADAPTER.getFontFaceSet();if(r){const o=[],u=((n=e.data)==null?void 0:n.family)??LM(t),h=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(m=>NM.includes(m)))??["normal"],f=e.data??{};for(let m=0;m<h.length;m++){const c=h[m],d=new FontFace(u,`url(${encodeURI(t)})`,{...f,weight:c});await d.load(),r.add(d),o.push(d)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ie.ADAPTER.getFontFaceSet().delete(e))}};fe.add(UM);let gx=0,tm;const zM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",GM={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${zM}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},HM={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let rm;class $M{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([GM.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){tm===void 0&&(tm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<tm&&(rm||(rm=URL.createObjectURL(new Blob([HM.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(rm),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[gx]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:gx++,id:n})}}const yx=new $M;function kd(t,e,r){const n=new ne(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const jM=[".jpeg",".jpg",".png",".webp",".avif"],VM=["image/jpeg","image/png","image/webp","image/avif"];async function WM(t){const e=await ie.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Md={name:"loadTextures",extension:{type:se.LoadParser,priority:Qn.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return cu(t,VM)||to(t,jM)},async load(t,e,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await yx.isImageBitmapSupported()?n=await yx.loadImageBitmap(t):n=await WM(t):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new ve(n,{resolution:is(t),...e.data});return i.resource.src=t,kd(i,r,t)},unload(t){t.destroy(!0)}};fe.add(Md);const XM=".svg",YM="image/svg+xml",QM={extension:{type:se.LoadParser,priority:Qn.High},name:"loadSVG",test(t){return cu(t,YM)||to(t,XM)},async testParse(t){return Kl.test(t)},async parse(t,e,r){var o;const n=new Kl(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await n.load();const i=new ve(n,{resolution:is(t),...e==null?void 0:e.data});return i.resource.src=t,kd(i,r,t)},async load(t,e){return(await ie.ADAPTER.fetch(t)).text()},unload:Md.unload};fe.add(QM);class qM{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=pi(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=TM(r):r=[r]);const s=r.map(o=>{let u=o;if(typeof o=="string"){let h=!1;for(let f=0;f<this._parsers.length;f++){const m=this._parsers[f];if(m.test(o)){u=m.parse(o),h=!0;break}}h||(u={src:o})}return u.format||(u.format=u.src.split(".").pop()),u.alias||(u.alias=i),(this._basePath||this._rootPath)&&(u.src=Yt.toAbsolute(u.src,this._basePath,this._rootPath)),u.src=this._appendDefaultSearchParams(u.src),u.data=u.data??n,u});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=Xh(e);e=pi(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),u={};for(const h in o){const f=o[h];u[this._extractAssetIdFromBundle(i,h)]=f}n[i]=u}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Xh(e);e=pi(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),u=s[0];o==null||o.priority.forEach(h=>{o.params[h].forEach(f=>{const m=s.filter(c=>c[h]?c[h]===f:!1);m.length&&(s=m)})}),this._resolverHash[i]=s[0]??u}else{let s=i;(this._basePath||this._rootPath)&&(s=Yt.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class KM{constructor(){this._detections=[],this._initialized=!1,this.resolver=new qM,this.loader=new CM,this.cache=nl,this._backgroundLoader=new EM(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,u;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let h=e.manifest;typeof h=="string"&&(h=await this.load(h)),this.resolver.addManifest(h)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r;let i=[];if((o=e.texturePreference)!=null&&o.format){const h=(u=e.texturePreference)==null?void 0:u.format;i=typeof h=="string"?[h]:h;for(const f of this._detections)await f.test()||(i=await f.remove(i))}else for(const h of this._detections)await h.test()&&(i=await h.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=Xh(e),i=pi(e).map(u=>typeof u!="string"?(this.resolver.add(u.src,u),u.src):(this.resolver.hasKey(u)||this.resolver.add(u,u),u)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let u=0,h=0;const f=()=>{r==null||r(++u/h)},m=o.map(c=>{const d=i[c];return h+=Object.keys(d).length,this._mapLoadToResolve(d,f).then(g=>{s[c]=g})});return await Promise.all(m),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return nl.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=nl.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((u,h)=>{const f=s[u.src],m=[u.src];u.alias&&m.push(...u.alias),o[i[h]]=f,nl.set(m,f)}),o}async unload(e){this._initialized||await this.init();const r=pi(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=pi(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{nl.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return Md.config.preferWorkers}set preferWorkers(e){Te("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const dl=new KM;fe.handleByList(se.LoadParser,dl.loader.parsers).handleByList(se.ResolveParser,dl.resolver.parsers).handleByList(se.CacheParser,dl.cache.parsers).handleByList(se.DetectionParser,dl.detections);const ZM={extension:se.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ne),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};fe.add(ZM);const JM={extension:{type:se.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await ie.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};fe.add(JM);const e3={extension:{type:se.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await ie.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};fe.add(e3);const vx=["png","jpg","jpeg"],t3={extension:{type:se.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...vx],remove:async t=>t.filter(e=>!vx.includes(e))};fe.add(t3);const r3={extension:se.ResolveParser,test:Md.test,parse:t=>{var e;return{resolution:parseFloat(((e=ie.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};fe.add(r3);const n3=[".xml",".fnt"],i3={extension:{type:se.LoadParser,priority:Qn.Normal},name:"loadBitmapFont",test(t){return n3.includes(Yt.extname(t).toLowerCase())},async testParse(t){return ch.test(t)||Ng.test(t)},async parse(t,e,r){const n=ch.test(t)?ch.parse(t):Ng.parse(t),{src:i}=e,{page:s}=n,o=[];for(let f=0;f<s.length;++f){const m=s[f].file;let c=Yt.join(Yt.dirname(i),m);c=Og(c,i),o.push(c)}const u=await r.load(o),h=o.map(f=>u[f]);return lr.install(n,h,!0)},async load(t,e){return(await ie.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};fe.add(i3);const Yh={build(t){const e=t.points;let r,n,i,s,o,u;if(t.type===Ft.CIRC){const v=t.shape;r=v.x,n=v.y,o=u=v.radius,i=s=0}else if(t.type===Ft.ELIP){const v=t.shape;r=v.x,n=v.y,o=v.width,u=v.height,i=s=0}else{const v=t.shape,S=v.width/2,T=v.height/2;r=v.x+S,n=v.y+T,o=u=Math.max(0,Math.min(v.radius,Math.min(S,T))),i=S-o,s=T-u}if(!(o>=0&&u>=0&&i>=0&&s>=0)){e.length=0;return}const h=Math.ceil(2.3*Math.sqrt(o+u)),f=h*8+(i?4:0)+(s?4:0);if(e.length=f,f===0)return;if(h===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let m=0,c=h*4+(i?2:0)+2,d=c,g=f;{const v=i+o,S=s,T=r+v,x=r-v,b=n+S;if(e[m++]=T,e[m++]=b,e[--c]=b,e[--c]=x,s){const E=n-S;e[d++]=x,e[d++]=E,e[--g]=E,e[--g]=T}}for(let v=1;v<h;v++){const S=Math.PI/2*(v/h),T=i+Math.cos(S)*o,x=s+Math.sin(S)*u,b=r+T,E=r-T,A=n+x,I=n-x;e[m++]=b,e[m++]=A,e[--c]=A,e[--c]=E,e[d++]=E,e[d++]=I,e[--g]=I,e[--g]=b}{const v=i,S=s+u,T=r+v,x=r-v,b=n+S,E=n-S;e[m++]=T,e[m++]=b,e[--g]=E,e[--g]=T,i&&(e[m++]=x,e[m++]=b,e[--g]=E,e[--g]=x)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let u,h;if(t.type!==Ft.RREC){const m=t.shape;u=m.x,h=m.y}else{const m=t.shape;u=m.x+m.width/2,h=m.y+m.height/2}const f=t.matrix;n.push(t.matrix?f.a*u+f.c*h+f.tx:u,t.matrix?f.b*u+f.d*h+f.ty:h),s++,n.push(r[0],r[1]);for(let m=2;m<r.length;m+=2)n.push(r[m],r[m+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function _x(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const u=t[i],h=t[i+1];n+=(u-s)*(h+o),s=u,o=h}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,u=r-s-1,h=s,f=s+1;[t[o],t[h]]=[t[h],t[o]],[t[u],t[f]]=[t[f],t[u]]}}}const PE={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){_x(r,!1);const o=[];for(let f=0;f<n.length;f++){const m=n[f];_x(m.points,!0),o.push(r.length/2),r=r.concat(m.points)}const u=mI(r,o,2);if(!u)return;const h=i.length/2;for(let f=0;f<u.length;f+=3)s.push(u[f]+h),s.push(u[f+1]+h),s.push(u[f+2]+h);for(let f=0;f<r.length;f++)i.push(r[f])}}},s3={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},o3={build(t){Yh.build(t)},triangulate(t,e){Yh.triangulate(t,e)}};var on=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(on||{}),Bs=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Bs||{});const ga={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class xx{static curveTo(e,r,n,i,s,o){const u=o[o.length-2],f=o[o.length-1]-r,m=u-e,c=i-r,d=n-e,g=Math.abs(f*d-m*c);if(g<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const v=f*f+m*m,S=c*c+d*d,T=f*c+m*d,x=s*Math.sqrt(v)/g,b=s*Math.sqrt(S)/g,E=x*T/v,A=b*T/S,I=x*d+b*m,O=x*c+b*f,N=m*(b+E),R=f*(b+E),L=d*(x+A),G=c*(x+A),j=Math.atan2(R-O,N-I),Y=Math.atan2(G-O,L-I);return{cx:I+e,cy:O+r,radius:s,startAngle:j,endAngle:Y,anticlockwise:m*c>d*f}}static arc(e,r,n,i,s,o,u,h,f){const m=u-o,c=ga._segmentsCount(Math.abs(m)*s,Math.ceil(Math.abs(m)/jh)*40),d=m/(c*2),g=d*2,v=Math.cos(d),S=Math.sin(d),T=c-1,x=T%1/T;for(let b=0;b<=T;++b){const E=b+x*b,A=d+o+g*E,I=Math.cos(A),O=-Math.sin(A);f.push((v*I+S*O)*s+n,(v*-O+S*I)*s+i)}}}class a3{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class iv{static curveLength(e,r,n,i,s,o,u,h){let m=0,c=0,d=0,g=0,v=0,S=0,T=0,x=0,b=0,E=0,A=0,I=e,O=r;for(let N=1;N<=10;++N)c=N/10,d=c*c,g=d*c,v=1-c,S=v*v,T=S*v,x=T*e+3*S*c*n+3*v*d*s+g*u,b=T*r+3*S*c*i+3*v*d*o+g*h,E=I-x,A=O-b,I=x,O=b,m+=Math.sqrt(E*E+A*A);return m}static curveTo(e,r,n,i,s,o,u){const h=u[u.length-2],f=u[u.length-1];u.length-=2;const m=ga._segmentsCount(iv.curveLength(h,f,e,r,n,i,s,o));let c=0,d=0,g=0,v=0,S=0;u.push(h,f);for(let T=1,x=0;T<=m;++T)x=T/m,c=1-x,d=c*c,g=d*c,v=x*x,S=v*x,u.push(g*h+3*d*x*e+3*c*v*n+S*s,g*f+3*d*x*r+3*c*v*i+S*o)}}function wx(t,e,r,n,i,s,o,u){const h=t-r*i,f=e-n*i,m=t+r*s,c=e+n*s;let d,g;o?(d=n,g=-r):(d=-n,g=r);const v=h+d,S=f+g,T=m+d,x=c+g;return u.push(v,S,T,x),2}function Es(t,e,r,n,i,s,o,u){const h=r-t,f=n-e;let m=Math.atan2(h,f),c=Math.atan2(i-t,s-e);u&&m<c?m+=Math.PI*2:!u&&m>c&&(c+=Math.PI*2);let d=m;const g=c-m,v=Math.abs(g),S=Math.sqrt(h*h+f*f),T=(15*v*Math.sqrt(S)/Math.PI>>0)+1,x=g/T;if(d+=x,u){o.push(t,e,r,n);for(let b=1,E=d;b<T;b++,E+=x)o.push(t,e,t+Math.sin(E)*S,e+Math.cos(E)*S);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let b=1,E=d;b<T;b++,E+=x)o.push(t+Math.sin(E)*S,e+Math.cos(E)*S,t,e);o.push(i,s,t,e)}return T*2}function l3(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Pe(n[0],n[1]),u=new Pe(n[n.length-2],n[n.length-1]),h=r.type!==Ft.POLY||r.closeStroke,f=Math.abs(o.x-u.x)<i&&Math.abs(o.y-u.y)<i;if(h){n=n.slice(),f&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));const ee=(o.x+u.x)*.5,M=(u.y+o.y)*.5;n.unshift(ee,M),n.push(ee,M)}const m=e.points,c=n.length/2;let d=n.length;const g=m.length/2,v=s.width/2,S=v*v,T=s.miterLimit*s.miterLimit;let x=n[0],b=n[1],E=n[2],A=n[3],I=0,O=0,N=-(b-A),R=x-E,L=0,G=0,j=Math.sqrt(N*N+R*R);N/=j,R/=j,N*=v,R*=v;const Y=s.alignment,H=(1-Y)*2,B=Y*2;h||(s.cap===Bs.ROUND?d+=Es(x-N*(H-B)*.5,b-R*(H-B)*.5,x-N*H,b-R*H,x+N*B,b+R*B,m,!0)+2:s.cap===Bs.SQUARE&&(d+=wx(x,b,N,R,H,B,!0,m))),m.push(x-N*H,b-R*H,x+N*B,b+R*B);for(let ee=1;ee<c-1;++ee){x=n[(ee-1)*2],b=n[(ee-1)*2+1],E=n[ee*2],A=n[ee*2+1],I=n[(ee+1)*2],O=n[(ee+1)*2+1],N=-(b-A),R=x-E,j=Math.sqrt(N*N+R*R),N/=j,R/=j,N*=v,R*=v,L=-(A-O),G=E-I,j=Math.sqrt(L*L+G*G),L/=j,G/=j,L*=v,G*=v;const M=E-x,X=b-A,D=E-I,K=O-A,re=M*D+X*K,_e=X*D-K*M,ye=_e<0;if(Math.abs(_e)<.001*Math.abs(re)){m.push(E-N*H,A-R*H,E+N*B,A+R*B),re>=0&&(s.join===on.ROUND?d+=Es(E,A,E-N*H,A-R*H,E-L*H,A-G*H,m,!1)+4:d+=2,m.push(E-L*B,A-G*B,E+L*H,A+G*H));continue}const Ne=(-N+x)*(-R+A)-(-N+E)*(-R+b),we=(-L+I)*(-G+A)-(-L+E)*(-G+O),De=(M*we-D*Ne)/_e,wt=(K*Ne-X*we)/_e,kt=(De-E)*(De-E)+(wt-A)*(wt-A),st=E+(De-E)*H,be=A+(wt-A)*H,He=E-(De-E)*B,Re=A-(wt-A)*B,Pr=Math.min(M*M+X*X,D*D+K*K),Ir=ye?H:B,fs=Pr+Ir*Ir*S,Fd=kt<=fs;let ro=s.join;if(ro===on.MITER&&kt/S>T&&(ro=on.BEVEL),Fd)switch(ro){case on.MITER:{m.push(st,be,He,Re);break}case on.BEVEL:{ye?m.push(st,be,E+N*B,A+R*B,st,be,E+L*B,A+G*B):m.push(E-N*H,A-R*H,He,Re,E-L*H,A-G*H,He,Re),d+=2;break}case on.ROUND:{ye?(m.push(st,be,E+N*B,A+R*B),d+=Es(E,A,E+N*B,A+R*B,E+L*B,A+G*B,m,!0)+4,m.push(st,be,E+L*B,A+G*B)):(m.push(E-N*H,A-R*H,He,Re),d+=Es(E,A,E-N*H,A-R*H,E-L*H,A-G*H,m,!1)+4,m.push(E-L*H,A-G*H,He,Re));break}}else{switch(m.push(E-N*H,A-R*H,E+N*B,A+R*B),ro){case on.MITER:{ye?m.push(He,Re,He,Re):m.push(st,be,st,be),d+=2;break}case on.ROUND:{ye?d+=Es(E,A,E+N*B,A+R*B,E+L*B,A+G*B,m,!0)+2:d+=Es(E,A,E-N*H,A-R*H,E-L*H,A-G*H,m,!1)+2;break}}m.push(E-L*H,A-G*H,E+L*B,A+G*B),d+=2}}x=n[(c-2)*2],b=n[(c-2)*2+1],E=n[(c-1)*2],A=n[(c-1)*2+1],N=-(b-A),R=x-E,j=Math.sqrt(N*N+R*R),N/=j,R/=j,N*=v,R*=v,m.push(E-N*H,A-R*H,E+N*B,A+R*B),h||(s.cap===Bs.ROUND?d+=Es(E-N*(H-B)*.5,A-R*(H-B)*.5,E-N*H,A-R*H,E+N*B,A+R*B,m,!1)+2:s.cap===Bs.SQUARE&&(d+=wx(E,A,N,R,H,B,!1,m)));const de=e.indices,oe=ga.epsilon*ga.epsilon;for(let ee=g;ee<d+g-2;++ee)x=m[ee*2],b=m[ee*2+1],E=m[(ee+1)*2],A=m[(ee+1)*2+1],I=m[(ee+2)*2],O=m[(ee+2)*2+1],!(Math.abs(x*(A-O)+E*(O-b)+I*(b-A))<oe)&&de.push(ee,ee+1,ee+2)}function u3(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Ft.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,u=e.indices,h=i.length/2,f=o.length/2;let m=f;for(o.push(i[0],i[1]),r=1;r<h;r++)o.push(i[r*2],i[r*2+1]),u.push(m,m+1),m++;s&&u.push(m,f)}function Sx(t,e){t.lineStyle.native?u3(t,e):l3(t,e)}class sv{static curveLength(e,r,n,i,s,o){const u=e-2*n+s,h=r-2*i+o,f=2*n-2*e,m=2*i-2*r,c=4*(u*u+h*h),d=4*(u*f+h*m),g=f*f+m*m,v=2*Math.sqrt(c+d+g),S=Math.sqrt(c),T=2*c*S,x=2*Math.sqrt(g),b=d/S;return(T*v+S*d*(v-x)+(4*g*c-d*d)*Math.log((2*S+b+v)/(b+x)))/(4*T)}static curveTo(e,r,n,i,s){const o=s[s.length-2],u=s[s.length-1],h=ga._segmentsCount(sv.curveLength(o,u,e,r,n,i));let f=0,m=0;for(let c=1;c<=h;++c){const d=c/h;f=o+(e-o)*d,m=u+(r-u)*d,s.push(f+(e+(n-e)*d-f)*d,m+(r+(i-r)*d-m)*d)}}}const nm={[Ft.POLY]:PE,[Ft.CIRC]:Yh,[Ft.ELIP]:Yh,[Ft.RECT]:s3,[Ft.RREC]:o3},bx=[],Fc=[];class Qh{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Qh(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const bo=new Pe,IE=class extends zb{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Vh,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Fc.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),bx.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new Qh(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new Qh(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,bo):bo.copyFrom(t),n.shape.contains(bo.x,bo.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(bo.x,bo.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let u=this.shapeIndex;u<e.length;u++){this.shapeIndex++;const h=e[u],f=h.fillStyle,m=h.lineStyle;nm[h.type].build(h),h.matrix&&this.transformPoints(h.points,h.matrix),(f.visible||m.visible)&&this.processHoles(h.holes);for(let d=0;d<2;d++){const g=d===0?f:m;if(!g.visible)continue;const v=g.texture.baseTexture,S=this.indices.length,T=this.points.length/2;v.wrapMode=fi.REPEAT,d===0?this.processFill(h):this.processLine(h);const x=this.points.length/2-T;x!==0&&(r&&!this._compareStyles(n,g)&&(r.end(S,T),r=null),r||(r=bx.pop()||new a3,r.begin(g,S,T),this.batches.push(r),n=g),this.addUvs(this.points,t,g.texture,T,x,g.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<IE.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++ve._globalBatch;for(let m=0;m<this.drawCalls.length;m++)this.drawCalls[m].texArray.clear(),Fc.push(this.drawCalls[m]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=Fc.pop();n||(n=new Eg,n.texArray=new Ag),n.texArray.count=0,n.start=0,n.size=0,n.type=hn.TRIANGLES;let i=0,s=null,o=0,u=!1,h=hn.TRIANGLES,f=0;this.drawCalls.push(n);for(let m=0;m<this.batches.length;m++){const c=this.batches[m],d=8,g=c.style,v=g.texture.baseTexture;u!==!!g.native&&(u=!!g.native,h=u?hn.LINES:hn.TRIANGLES,s=null,i=d,t++),s!==v&&(s=v,v._batchEnabled!==t&&(i===d&&(t++,i=0,n.size>0&&(n=Fc.pop(),n||(n=new Eg,n.texArray=new Ag),this.drawCalls.push(n)),n.start=f,n.size=0,n.texArray.count=0,n.type=h),v.touched=1,v._batchEnabled=t,v._batchLocation=i,v.wrapMode=fi.REPEAT,n.texArray.elements[n.texArray.count++]=v,i++)),n.size+=c.size,f+=c.size,o=v._batchLocation,this.addColors(e,g.color,g.alpha,c.attribSize,c.attribStart),this.addTextureIds(r,o,c.attribSize,c.attribStart)}ve._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let u=0;for(let h=0;h<t.length/2;h++)s[u++]=t[h*2],s[u++]=t[h*2+1],s[u++]=e[h*2],s[u++]=e[h*2+1],o[u++]=r[h],s[u++]=n[h];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?PE.triangulate(t,this):nm[t.type].triangulate(t,this)}processLine(t){Sx(t,this);for(let e=0;e<t.holes.length;e++)Sx(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];nm[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=Be.shared.setValue(e).toLittleEndianNumber(),o=Be.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let u=0;u<n;u++)t[i+u]=o}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let o=0;const u=e.length,h=r.frame;for(;o<i;){let m=t[(n+o)*2],c=t[(n+o)*2+1];if(s){const d=s.a*m+s.c*c+s.tx;c=s.b*m+s.d*c+s.ty,m=d}o++,e.push(m/h.width,c/h.height)}const f=r.baseTexture;(h.width<f.width||h.height<f.height)&&this.adjustUvs(e,r,u,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+n*2,u=e.frame,h=u.width/i.width,f=u.height/i.height;let m=u.x/u.width,c=u.y/u.height,d=Math.floor(t[r]+s),g=Math.floor(t[r+1]+s);for(let v=r+2;v<o;v+=2)d=Math.min(d,Math.floor(t[v]+s)),g=Math.min(g,Math.floor(t[v+1]+s));m-=d,c-=g;for(let v=r;v<o;v+=2)t[v]=(t[v]+m)*h,t[v+1]=(t[v+1]+c)*f}};let RE=IE;RE.BATCHABLE_SIZE=100;class Dd{constructor(){this.color=16777215,this.alpha=1,this.texture=ne.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Dd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ne.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class ov extends Dd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Bs.BUTT,this.join=on.MITER,this.miterLimit=10}clone(){const e=new ov;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const im={},dh=class extends Kt{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Dd,this._lineStyle=new ov,this._matrix=null,this._holeMode=!1,this.state=wi.for2d(),this._geometry=t||new RE,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Be(16777215),this.blendMode=ge.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new dh(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:ne.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Bs.BUTT,join:on.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new na,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new na,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),sv.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),iv.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=xx.curveTo(t,e,r,n,i,s);if(o){const{cx:u,cy:h,radius:f,startAngle:m,endAngle:c,anticlockwise:d}=o;this.arc(u,h,f,m,c,d)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=jh:s&&n<=i&&(n+=jh),i-n===0)return this;const u=t+Math.cos(n)*r,h=e+Math.sin(n)*r,f=this._geometry.closePointEps;let m=this.currentPath?this.currentPath.points:null;if(m){const c=Math.abs(m[m.length-2]-u),d=Math.abs(m[m.length-1]-h);c<f&&d<f||m.push(u,h)}else this.moveTo(u,h),m=this.currentPath.points;return xx.arc(u,h,t,e,r,n,i,s,m),this}beginFill(t=0,e){return this.beginTextureFill({texture:ne.WHITE,color:t,alpha:e})}normalizeColor(t){const e=Be.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:ne.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new Se(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new tv(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new Jy(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new ev(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new na(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Ft.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),u=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),h=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),f={vertexData:o,blendMode:e,indices:h,uvs:u,_batchRGB:Be.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=f}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,Be.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let o=0,u=s.length;o<u;o++)this._renderDrawCallDirect(t,r.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let u=0;u<o;u++)t.texture.bind(r.elements[u],u);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!im[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let u=0;u<n;u++)i[u]=u;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ke,default:vn.from({uSamplers:i},!0)},o=t.plugins[r]._shader.program;im[r]=new jn(o,s)}e=im[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,dh._TEMP_POINT),this._geometry.containsPoint(dh._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=Be.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,u=e.ty,h=this._geometry.points,f=this.vertexData;let m=0;for(let c=0;c<h.length;c+=2){const d=h[c],g=h[c+1];f[m++]=r*d+i*g+o,f[m++]=s*g+n*d+u}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Hs=dh;Hs.curves=ga;Hs._TEMP_POINT=new Pe;class c3 extends Rd{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,u=this.width/s,h=this.height/o;for(let m=0;m<e;m++){const c=m%this.segWidth,d=m/this.segWidth|0;r.push(c*u,d*h),n.push(c/s,d/o)}const f=s*o;for(let m=0;m<f;m++){const c=m%s,d=m/s|0,g=d*this.segWidth+c,v=d*this.segWidth+c+1,S=(d+1)*this.segWidth+c,T=(d+1)*this.segWidth+c+1;i.push(g,v,S,v,T,S)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class h3 extends Rd{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let u=0,h=e[0];const f=this._width*this.textureScale,m=e.length;for(let d=0;d<m;d++){const g=d*4;if(this.textureScale>0){const v=h.x-e[d].x,S=h.y-e[d].y,T=Math.sqrt(v*v+S*S);h=e[d],u+=T/f}else u=d/(m-1);s[g]=u,s[g+1]=0,s[g+2]=u,s[g+3]=1}let c=0;for(let d=0;d<m-1;d++){const g=d*2;o[c++]=g,o[c++]=g+1,o[c++]=g+2,o[c++]=g+2,o[c++]=g+1,o[c++]=g+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,u=e.length,h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let f=0;f<u;f++){const m=e[f],c=f*4;f<e.length-1?n=e[f+1]:n=m,s=-(n.x-r.x),i=n.y-r.y;const d=Math.sqrt(i*i+s*s);d<1e-6?(i=0,s=0):(i/=d,s/=d,i*=h,s*=h),o[c]=m.x+i,o[c+1]=m.y+s,o[c+2]=m.x-i,o[c+3]=m.y-s,r=m}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class d3 extends ma{constructor(e,r,n){const i=new c3(e.width,e.height,r,n),s=new Zl(ne.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Bc=10;class f3 extends d3{constructor(e,r,n,i,s){var o,u,h,f;super(ne.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Bc,this._rightWidth=i??((u=e.defaultBorders)==null?void 0:u.right)??Bc,this._topHeight=n??((h=e.defaultBorders)==null?void 0:h.top)??Bc,this._bottomHeight=s??((f=e.defaultBorders)==null?void 0:f.bottom)??Bc,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class p3 extends ma{constructor(e=ne.EMPTY,r,n,i,s){const o=new Rd(r,n,i);o.getBuffer("aVertexPosition").static=!1;const u=new Zl(e);super(o,u,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class m3 extends ma{constructor(e,r,n=0){const i=new h3(e.height,r,n),s=new Zl(e);n>0&&(e.baseTexture.wrapMode=fi.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class g3 extends Kt{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ge.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Be(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Ex{constructor(e,r,n){this.geometry=new ss,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||me.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new ht($R(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];u.offset=r,r+=u.size,this.dynamicStride+=u.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new ht(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];u.offset=i,i+=u.size,this.staticStride+=u.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new ht(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];e.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===me.UNSIGNED_BYTE,u.type,this.dynamicStride*4,u.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];e.addAttribute(u.attributeName,this.staticBuffer,0,u.type===me.UNSIGNED_BYTE,u.type,this.staticStride*4,u.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===me.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===me.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var y3=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,v3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class kE extends bd{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ke,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:me.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=jn.from(v3,y3,{}),this.state=wi.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));const h=r[0]._texture.baseTexture,f=h.alphaMode>0;this.state.blendMode=Fb(e.blendMode,f),s.state.set(this.state);const m=s.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=Be.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,f).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let d=!1;for(let g=0,v=0;g<o;g+=i,v+=1){let S=o-g;S>i&&(S=i),v>=u.length&&u.push(this._generateOneMoreBuffer(e));const T=u[v];T.uploadDynamic(r,g,S);const x=e._bufferUpdateIDs[v]||0;d=d||T._updateID<x,d&&(T._updateID=e._updateID,T.uploadStatic(r,g,S)),s.geometry.bind(T.geometry),m.drawElements(m.TRIANGLES,S*6,m.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new Ex(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new Ex(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let u=0,h=0,f=0,m=0;for(let c=0;c<n;++c){const d=e[r+c],g=d._texture,v=d.scale.x,S=d.scale.y,T=g.trim,x=g.orig;T?(h=T.x-d.anchor.x*x.width,u=h+T.width,m=T.y-d.anchor.y*x.height,f=m+T.height):(u=x.width*(1-d.anchor.x),h=x.width*-d.anchor.x,f=x.height*(1-d.anchor.y),m=x.height*-d.anchor.y),i[o]=h*v,i[o+1]=m*S,i[o+s]=u*v,i[o+s+1]=m*S,i[o+s*2]=u*v,i[o+s*2+1]=f*S,i[o+s*3]=h*v,i[o+s*3+1]=f*S,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let u=0;u<n;u++){const h=e[r+u].position;i[o]=h.x,i[o+1]=h.y,i[o+s]=h.x,i[o+s+1]=h.y,i[o+s*2]=h.x,i[o+s*2+1]=h.y,i[o+s*3]=h.x,i[o+s*3+1]=h.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let u=0;u<n;u++){const h=e[r+u].rotation;i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let u=0;u<n;++u){const h=e[r+u]._texture._uvs;h?(i[o]=h.x0,i[o+1]=h.y0,i[o+s]=h.x1,i[o+s+1]=h.y1,i[o+s*2]=h.x2,i[o+s*2+1]=h.y2,i[o+s*3]=h.x3,i[o+s*3+1]=h.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let u=0;u<n;++u){const h=e[r+u],f=Be.shared.setValue(h._tintRGB).toPremultiplied(h.alpha,h.texture.baseTexture.alphaMode>0);i[o]=f,i[o+s]=f,i[o+s*2]=f,i[o+s*3]=f,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}kE.extension={name:"particle",type:se.RendererPlugin};fe.add(kE);class Jl extends Yn{constructor(e,r=!0){super(e[0]instanceof ne?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(ft.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(ft.shared.add(this.update,this,as.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(ne.from(e[n]));return new Jl(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(ne.from(e[n]));return new Jl(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ne)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(ft.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(ft.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const il=new Pe;class av extends Yn{constructor(e,r=100,n=100){super(e),this.tileTransform=new Sd,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new rv(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Se),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,il);const r=this._width,n=this._height,i=-r*this.anchor._x;if(il.x>=i&&il.x<i+r){const s=-n*this.anchor._y;if(il.y>=s&&il.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof ne?e:ne.from(e,r);return new av(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var _3=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,x3=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,w3=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Tx=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,S3=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Lc=new Ke;class ME extends bd{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new Zb,this.state=wi.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=jn.from(Tx,S3,r),this.shader=e.context.webGLVersion>1?jn.from(x3,_3,r):jn.from(Tx,w3,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const u=e._texture,h=u.baseTexture,f=h.alphaMode>0,m=e.tileTransform.localTransform,c=e.uvMatrix;let d=h.isPowerOfTwo&&u.frame.width===h.width&&u.frame.height===h.height;d&&(h._glTextures[r.CONTEXT_UID]?d=h.wrapMode!==fi.CLAMP:h.wrapMode===fi.CLAMP&&(h.wrapMode=fi.REPEAT));const g=d?this.simpleShader:this.shader,v=u.width,S=u.height,T=e._width,x=e._height;Lc.set(m.a*v/T,m.b*v/x,m.c*S/T,m.d*S/x,m.tx/T,m.ty/x),Lc.invert(),d?Lc.prepend(c.mapCoord):(g.uniforms.uMapCoord=c.mapCoord.toArray(!0),g.uniforms.uClampFrame=c.uClampFrame,g.uniforms.uClampOffset=c.uClampOffset),g.uniforms.uTransform=Lc.toArray(!0),g.uniforms.uColor=Be.shared.setValue(e.tint).premultiply(e.worldAlpha,f).toArray(g.uniforms.uColor),g.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),g.uniforms.uSampler=u,r.shader.bind(g),r.geometry.bind(n),this.state.blendMode=Fb(e.blendMode,f),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}ME.extension={name:"tilingSprite",type:se.RendererPlugin};fe.add(ME);const Fg=class{constructor(t){this.stage=new Kt,t=Object.assign({forceCanvas:!1},t),this.renderer=tM(t),Fg._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=Fg._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let hu=Fg;hu._plugins=[];fe.handleByList(se.Application,hu._plugins);class DE{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}DE.extension=se.Application;fe.add(DE);var NE={exports:{}},b3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",E3=b3,T3=E3;function OE(){}function FE(){}FE.resetWarningCache=OE;var A3=function(){function t(n,i,s,o,u,h){if(h!==T3){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:FE,resetWarningCache:OE};return r.PropTypes=r,r};NE.exports=A3();var C3=NE.exports,je=rd(C3);function Er(t){return Er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(t)}function BE(t){var e=function(r,n){if(Er(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Er(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Er(e)==="symbol"?e:String(e)}function ct(t,e,r){return(e=BE(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sm(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _i(t){return function(e){if(Array.isArray(e))return sm(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return sm(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sm(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lt(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var P3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R3=function(t){return t==null};function fl(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=_i(t);else{if(t===null||Er(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!R3(r)&&!isNaN(r)}).map(Number)}function Ax(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function om(t){return t instanceof Pe||t instanceof hi}var qh=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function am(t,e,r){if(om(t[e])&&om(r))t[e].copyFrom(r);else if(om(t[e])){var n=fl(r);lt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),Er(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Eo,LE=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},UE=function(t){return function(){return!t.apply(void 0,arguments)}},Bg="children",k3=(ct(Eo={},Bg,!0),ct(Eo,"parent",!0),ct(Eo,"worldAlpha",!0),ct(Eo,"worldTransform",!0),ct(Eo,"worldVisible",!0),Eo),Lg={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Wn=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(u){return requestAnimationFrame(function(){var h,f;u==null||(h=u.__reactpixi)===null||h===void 0||(f=h.root)===null||f===void 0||f.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(u,h){if(r.hasOwnProperty(u))return lt(h.typeofs.some(function(f){return Er(r[u])===f})||h.instanceofs.some(function(f){return r[u]instanceof f}),"".concat(t," ").concat(u," prop is invalid")),r[u]};if(r.texture)return lt(r.texture instanceof ne,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ne]});lt(!!s,"".concat(t," could not get texture from props"));var o=ne.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},M3=UE(LE([].concat(_i(Object.keys(k3)),_i(qh))));function Xn(t,e,r){var n=!1;if(lt(Ze.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Er(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<qh.length;o++){var u=qh[o];e[u]!==r[u]&&(n=!0,typeof e[u]=="function"&&i&&t.removeListener(u,e[u]),typeof r[u]=="function"&&s&&t.on(u,r[u]))}var h=Object.keys(r||{});if(r.overwriteProps){for(var f=0;f<h.length;f++){var m=h[f];e[m]!==r[m]&&(n=!0,am(t,m,r[m]))}return n}for(var c=h.filter(M3),d=0;d<c.length;d++){var g=c[d],v=r[g];r[g]!==e[g]&&(n=!0),v!==void 0?am(t,g,v):g in Lg?(console.warn("setting default value: ".concat(g,", from: ").concat(t[g]," to: ").concat(v," for"),t),n=!0,am(t,g,Lg[g])):console.warn("ignoring prop: ".concat(g,", from ").concat(t[g]," to ").concat(v," for"),t)}return n}var D3=function(t,e){var r=e.text,n=e.style;return new AE(r,n)},N3=function(){return new Kt};function ds(t,e){if(t==null)return{};var r,n,i=function(o,u){if(o==null)return{};var h,f,m={},c=Object.keys(o);for(f=0;f<c.length;f++)h=c[f],u.indexOf(h)>=0||(m[h]=o[h]);return m}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var O3=["draw","geometry"],F3=function(t,e){var r=e.geometry;lt(!r||r instanceof Hs,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new Hs(r.geometry):new Hs;return n.applyProps=function(i,s,o){var u=o.draw;o.geometry;var h=Xn(i,s,ds(o,O3));return s.draw!==u&&typeof u=="function"&&(h=!0,u.call(n,n)),h},n},B3=["image","texture"],L3=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,u=o===void 0?10:o,h=e.bottomHeight,f=h===void 0?10:h,m=Wn("NineSlicePlane",t,e),c=new f3(m,n,s,u,f);return c.applyProps=function(d,g,v){var S=v.image,T=v.texture,x=Xn(d,g,ds(v,B3));return(S||T)&&(T!==g.texture&&(x=!0),d.texture=Wn("NineSlicePlane",t,v)),x},c};function Cx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cx(Object(r),!0).forEach(function(n){ct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var U3=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,u=o!==void 0&&o,h=Uc(Uc({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),f=Uc(Uc({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),m=new g3(n,h,s,u);return m.willUnmount=function(c,d,g){c.destroy(f)},m},z3=["image","texture"],G3=function(t,e){var r=new Yn(Wn("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,u=s.texture,h=Xn(n,i,ds(s,z3));return(u&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(h=!0),n.texture=Wn("Sprite",t,s)),h},r},H3=["textures","isPlaying","initialFrame"],$3=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,u=function(f){return f.map(function(m){return lt(m instanceof ne||(m==null?void 0:m.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),m})},h=n?Jl.fromImages(n):new Jl(u(r));return h[s?"gotoAndPlay":"gotoAndStop"](o||0),h.applyProps=function(f,m,c){var d=c.textures,g=c.isPlaying,v=c.initialFrame,S=Xn(f,m,ds(c,H3));if(d&&m.textures!==d&&(f.textures=u(d),S=!0),g!==m.isPlaying||v!==m.initialFrame){var T=typeof v=="number"?v:h.currentFrame||0;h[g?"gotoAndPlay":"gotoAndStop"](T),S=!0}return S},h},j3=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,u=new Id(n,s);return o?(u.updateText(),new Yn(u.texture)):u},V3=["tileScale","tilePosition","image","texture"],W3=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=Wn("TilingSprite",t,e),u=new av(o,n,s);return u.applyProps=function(h,f,m){var c=m.tileScale,d=m.tilePosition,g=m.image,v=m.texture,S=Xn(h,f,ds(m,V3));if(d){var T,x=fl(d);(T=h.tilePosition).set.apply(T,_i(x)),S=!Ax(fl(f.tilePosition),x)||S}if(c){var b,E=fl(c);(b=h.tileScale).set.apply(b,_i(E)),S=!Ax(fl(f.tileScale),E)||S}return(g||v)&&(v!==f.texture&&(S=!0),h.texture=Wn("Sprite",t,m)),S},u},X3=["image","texture"],Y3=function(t,e){var r=Wn("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,u=o===void 0?hn.TRIANGLES:o,h=new p3(r,n,i,s,u);return h.applyProps=function(f,m,c){var d=c.image,g=c.texture,v=Xn(f,m,ds(c,X3));return(d||g)&&(g!==m.texture&&(v=!0),f.texture=Wn("Mesh",t,c)),v},h},Q3=["image","texture"],q3=function(t,e){var r=Wn("SimpleRope",t,e),n=e.points,i=new m3(r,n);return i.applyProps=function(s,o,u){var h=u.image,f=u.texture,m=ds(u,Q3);lt(Array.isArray(u.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var c=Xn(s,o,m);return(h||f)&&(f!==o.texture&&(c=!0),s.texture=Wn("SimpleRope",t,u)),c},i},K3=Object.freeze({__proto__:null,BitmapText:D3,Container:N3,Graphics:F3,NineSlicePlane:L3,ParticleContainer:U3,Sprite:G3,Text:j3,TilingSprite:W3,SimpleMesh:Y3,SimpleRope:q3,AnimatedSprite:$3});function Px(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ix(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Px(Object(r),!0).forEach(function(n){ct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Px(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var pr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},Z3=Object.keys(pr).reduce(function(t,e){return Ix(Ix({},t),{},ct({},e,K3[e]))},{}),zE={};function J3(t,e){return lt(!!t,"Expect type to be defined, got `%s`",t),lt(!pr[t],"Component `%s` could not be created, already exists in default components.",t),zE[t]=e,t}var Rx,kx,Mx,Dx,Ug={},zg={},eD={get exports(){return zg},set exports(t){zg=t}},Nx={};function tD(){return kx||(kx=1,eD.exports=(Rx||(Rx=1,function(t){function e(M,X){var D=M.length;M.push(X);e:for(;0<D;){var K=D-1>>>1,re=M[K];if(!(0<i(re,X)))break e;M[K]=X,M[D]=re,D=K}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var X=M[0],D=M.pop();if(D!==X){M[0]=D;e:for(var K=0,re=M.length,_e=re>>>1;K<_e;){var ye=2*(K+1)-1,Ne=M[ye],we=ye+1,De=M[we];if(0>i(Ne,D))we<re&&0>i(De,Ne)?(M[K]=De,M[we]=D,K=we):(M[K]=Ne,M[ye]=D,K=ye);else{if(!(we<re&&0>i(De,D)))break e;M[K]=De,M[we]=D,K=we}}}return X}function i(M,X){var D=M.sortIndex-X.sortIndex;return D!==0?D:M.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],f=[],m=1,c=null,d=3,g=!1,v=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function E(M){for(var X=r(f);X!==null;){if(X.callback===null)n(f);else{if(!(X.startTime<=M))break;n(f),X.sortIndex=X.expirationTime,e(h,X)}X=r(f)}}function A(M){if(S=!1,E(M),!v)if(r(h)!==null)v=!0,oe(I);else{var X=r(f);X!==null&&ee(A,X.startTime-M)}}function I(M,X){v=!1,S&&(S=!1,x(L),L=-1),g=!0;var D=d;try{for(E(X),c=r(h);c!==null&&(!(c.expirationTime>X)||M&&!Y());){var K=c.callback;if(typeof K=="function"){c.callback=null,d=c.priorityLevel;var re=K(c.expirationTime<=X);X=t.unstable_now(),typeof re=="function"?c.callback=re:c===r(h)&&n(h),E(X)}else n(h);c=r(h)}if(c!==null)var _e=!0;else{var ye=r(f);ye!==null&&ee(A,ye.startTime-X),_e=!1}return _e}finally{c=null,d=D,g=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O,N=!1,R=null,L=-1,G=5,j=-1;function Y(){return!(t.unstable_now()-j<G)}function H(){if(R!==null){var M=t.unstable_now();j=M;var X=!0;try{X=R(!0,M)}finally{X?O():(N=!1,R=null)}}else N=!1}if(typeof b=="function")O=function(){b(H)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,de=B.port2;B.port1.onmessage=H,O=function(){de.postMessage(null)}}else O=function(){T(H,0)};function oe(M){R=M,N||(N=!0,O())}function ee(M,X){L=T(function(){M(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,oe(I))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(M){switch(d){case 1:case 2:case 3:var X=3;break;default:X=d}var D=d;d=X;try{return M()}finally{d=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=d;d=M;try{return X()}finally{d=D}},t.unstable_scheduleCallback=function(M,X,D){var K=t.unstable_now();switch(D=typeof D=="object"&&D!==null&&typeof(D=D.delay)=="number"&&0<D?K+D:K,M){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return M={id:m++,callback:X,priorityLevel:M,startTime:D,expirationTime:re=D+re,sortIndex:-1},D>K?(M.sortIndex=D,e(f,M),r(h)===null&&M===r(f)&&(S?(x(L),L=-1):S=!0,ee(A,D-K))):(M.sortIndex=re,e(h,M),v||g||(v=!0,oe(I))),M},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(M){var X=d;return function(){var D=d;d=X;try{return M.apply(this,arguments)}finally{d=D}}}}(Nx)),Nx)),zg}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function rD(){return Dx||(Dx=1,Mx=function(t){var e={},r=zn,n=tD(),i=Object.assign;function s(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),A=Symbol.iterator;function I(a){return a===null||typeof a!="object"?null:typeof(a=A&&a[A]||a["@@iterator"])=="function"?a:null}function O(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case f:return"Fragment";case h:return"Portal";case c:return"Profiler";case m:return"StrictMode";case S:return"Suspense";case T:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case g:return(a.displayName||"Context")+".Consumer";case d:return(a._context.displayName||"Context")+".Provider";case v:var l=a.render;return(a=a.displayName)||(a=(a=l.displayName||l.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case x:return(l=a.displayName||null)!==null?l:O(a.type)||"Memo";case b:l=a._payload,a=a._init;try{return O(a(l))}catch{}}return null}function N(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=l.render).displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(l);case 8:return l===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function R(a){var l=a,p=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do 4098&(l=a).flags&&(p=l.return),a=l.return;while(a)}return l.tag===3?p:null}function L(a){if(R(a)!==a)throw Error(s(188))}function G(a){var l=a.alternate;if(!l){if((l=R(a))===null)throw Error(s(188));return l!==a?null:a}for(var p=a,y=l;;){var _=p.return;if(_===null)break;var w=_.alternate;if(w===null){if((y=_.return)!==null){p=y;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===p)return L(_),a;if(w===y)return L(_),l;w=w.sibling}throw Error(s(188))}if(p.return!==y.return)p=_,y=w;else{for(var C=!1,P=_.child;P;){if(P===p){C=!0,p=_,y=w;break}if(P===y){C=!0,y=_,p=w;break}P=P.sibling}if(!C){for(P=w.child;P;){if(P===p){C=!0,p=w,y=_;break}if(P===y){C=!0,y=w,p=_;break}P=P.sibling}if(!C)throw Error(s(189))}}if(p.alternate!==y)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?a:l}function j(a){return(a=G(a))!==null?Y(a):null}function Y(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=Y(a);if(l!==null)return l;a=a.sibling}return null}function H(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var l=H(a);if(l!==null)return l}a=a.sibling}return null}var B,de=Array.isArray,oe=t.getPublicInstance,ee=t.getRootHostContext,M=t.getChildHostContext,X=t.prepareForCommit,D=t.resetAfterCommit,K=t.createInstance,re=t.appendInitialChild,_e=t.finalizeInitialChildren,ye=t.prepareUpdate,Ne=t.shouldSetTextContent,we=t.createTextInstance,De=t.scheduleTimeout,wt=t.cancelTimeout,kt=t.noTimeout,st=t.isPrimaryRenderer,be=t.supportsMutation,He=t.supportsPersistence,Re=t.supportsHydration,Pr=t.getInstanceFromNode,Ir=t.preparePortalMount,fs=t.getCurrentEventPriority,Fd=t.detachDeletedInstance,ro=t.supportsMicrotasks,rT=t.scheduleMicrotask,ba=t.supportsTestSelectors,nT=t.findFiberRoot,iT=t.getBoundingRect,sT=t.getTextContent,Ea=t.isHiddenSubtree,oT=t.matchAccessibilityRole,aT=t.setFocusIfFocusable,lT=t.setupIntersectionObserver,uT=t.appendChild,cT=t.appendChildToContainer,hT=t.commitTextUpdate,dT=t.commitMount,fT=t.commitUpdate,pT=t.insertBefore,mT=t.insertInContainerBefore,gT=t.removeChild,yT=t.removeChildFromContainer,lv=t.resetTextContent,vT=t.hideInstance,_T=t.hideTextInstance,xT=t.unhideInstance,wT=t.unhideTextInstance,ST=t.clearContainer,bT=t.cloneInstance,uv=t.createContainerChildSet,cv=t.appendChildToContainerChildSet,ET=t.finalizeContainerChildren,Bd=t.replaceContainerChildren,hv=t.cloneHiddenInstance,dv=t.cloneHiddenTextInstance,TT=t.canHydrateInstance,AT=t.canHydrateTextInstance,CT=t.canHydrateSuspenseInstance,fv=t.isSuspenseInstancePending,Ld=t.isSuspenseInstanceFallback,PT=t.getSuspenseInstanceFallbackErrorDetails,IT=t.registerSuspenseInstanceRetry,fu=t.getNextHydratableSibling,RT=t.getFirstHydratableChild,kT=t.getFirstHydratableChildWithinContainer,MT=t.getFirstHydratableChildWithinSuspenseInstance,DT=t.hydrateInstance,NT=t.hydrateTextInstance,OT=t.hydrateSuspenseInstance,FT=t.getNextHydratableInstanceAfterSuspenseInstance,BT=t.commitHydratedContainer,LT=t.commitHydratedSuspenseInstance,UT=t.clearSuspenseBoundary,zT=t.clearSuspenseBoundaryFromContainer,GT=t.shouldDeleteUnhydratedTailInstances,HT=t.didNotMatchHydratedContainerTextInstance,$T=t.didNotMatchHydratedTextInstance;function Ta(a){if(B===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);B=l&&l[1]||""}return`
`+B+a}var Ud=!1;function zd(a,l){if(!a||Ud)return"";Ud=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(z){var y=z}Reflect.construct(a,[],l)}else{try{l.call()}catch(z){y=z}a.call(l.prototype)}else{try{throw Error()}catch(z){y=z}a()}}catch(z){if(z&&y&&typeof z.stack=="string"){for(var _=z.stack.split(`
`),w=y.stack.split(`
`),C=_.length-1,P=w.length-1;1<=C&&0<=P&&_[C]!==w[P];)P--;for(;1<=C&&0<=P;C--,P--)if(_[C]!==w[P]){if(C!==1||P!==1)do if(C--,0>--P||_[C]!==w[P]){var F=`
`+_[C].replace(" at new "," at ");return a.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",a.displayName)),F}while(1<=C&&0<=P);break}}}finally{Ud=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?Ta(a):""}var jT=Object.prototype.hasOwnProperty,Gd=[],no=-1;function Si(a){return{current:a}}function Xe(a){0>no||(a.current=Gd[no],Gd[no]=null,no--)}function Ue(a,l){no++,Gd[no]=a.current,a.current=l}var bi={},zt=Si(bi),ir=Si(!1),ps=bi;function io(a,l){var p=a.type.contextTypes;if(!p)return bi;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var _,w={};for(_ in p)w[_]=l[_];return y&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=w),w}function mr(a){return(a=a.childContextTypes)!=null}function Hd(){Xe(ir),Xe(zt)}function pv(a,l,p){if(zt.current!==bi)throw Error(s(168));Ue(zt,l),Ue(ir,p)}function mv(a,l,p){var y=a.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return p;for(var _ in y=y.getChildContext())if(!(_ in l))throw Error(s(108,N(a)||"Unknown",_));return i({},p,y)}function pu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||bi,ps=zt.current,Ue(zt,a),Ue(ir,ir.current),!0}function gv(a,l,p){var y=a.stateNode;if(!y)throw Error(s(169));p?(a=mv(a,l,ps),y.__reactInternalMemoizedMergedChildContext=a,Xe(ir),Xe(zt),Ue(zt,a)):Xe(ir),Ue(ir,p)}var Xr=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(VT(a)/WT|0)|0},VT=Math.log,WT=Math.LN2,$d=64,jd=4194304;function Aa(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function mu(a,l){var p=a.pendingLanes;if(p===0)return 0;var y=0,_=a.suspendedLanes,w=a.pingedLanes,C=268435455&p;if(C!==0){var P=C&~_;P!==0?y=Aa(P):(w&=C)!==0&&(y=Aa(w))}else(C=p&~_)!==0?y=Aa(C):w!==0&&(y=Aa(w));if(y===0)return 0;if(l!==0&&l!==y&&!(l&_)&&((_=y&-y)>=(w=l&-l)||_===16&&4194240&w))return l;if(4&y&&(y|=16&p),(l=a.entangledLanes)!==0)for(a=a.entanglements,l&=y;0<l;)_=1<<(p=31-Xr(l)),y|=a[p],l&=~_;return y}function XT(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;default:return-1}}function Vd(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function yv(){var a=$d;return!(4194240&($d<<=1))&&($d=64),a}function Wd(a){for(var l=[],p=0;31>p;p++)l.push(a);return l}function Ca(a,l,p){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[l=31-Xr(l)]=p}function Xd(a,l){var p=a.entangledLanes|=l;for(a=a.entanglements;p;){var y=31-Xr(p),_=1<<y;_&l|a[y]&l&&(a[y]|=l),p&=~_}}var ke=0;function vv(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var Yd=n.unstable_scheduleCallback,_v=n.unstable_cancelCallback,YT=n.unstable_shouldYield,QT=n.unstable_requestPaint,St=n.unstable_now,Qd=n.unstable_ImmediatePriority,qT=n.unstable_UserBlockingPriority,xv=n.unstable_NormalPriority,KT=n.unstable_IdlePriority,gu=null,Sn=null,Yr=typeof Object.is=="function"?Object.is:function(a,l){return a===l&&(a!==0||1/a==1/l)||a!=a&&l!=l},qn=null,yu=!1,qd=!1;function wv(a){qn===null?qn=[a]:qn.push(a)}function bn(){if(!qd&&qn!==null){qd=!0;var a=0,l=ke;try{var p=qn;for(ke=1;a<p.length;a++){var y=p[a];do y=y(!0);while(y!==null)}qn=null,yu=!1}catch(_){throw qn!==null&&(qn=qn.slice(a+1)),Yd(Qd,bn),_}finally{ke=l,qd=!1}}return null}var so=[],oo=0,vu=null,_u=0,Rr=[],kr=0,ms=null,En=1,Kn="";function gs(a,l){so[oo++]=_u,so[oo++]=vu,vu=a,_u=l}function Sv(a,l,p){Rr[kr++]=En,Rr[kr++]=Kn,Rr[kr++]=ms,ms=a;var y=En;a=Kn;var _=32-Xr(y)-1;y&=~(1<<_),p+=1;var w=32-Xr(l)+_;if(30<w){var C=_-_%5;w=(y&(1<<C)-1).toString(32),y>>=C,_-=C,En=1<<32-Xr(l)+_|p<<_|y,Kn=w+a}else En=1<<w|p<<_|y,Kn=a}function Kd(a){a.return!==null&&(gs(a,1),Sv(a,1,0))}function Zd(a){for(;a===vu;)vu=so[--oo],so[oo]=null,_u=so[--oo],so[oo]=null;for(;a===ms;)ms=Rr[--kr],Rr[kr]=null,Kn=Rr[--kr],Rr[kr]=null,En=Rr[--kr],Rr[kr]=null}var gr=null,Mr=null,Ye=!1,Pa=!1,Qr=null;function bv(a,l){var p=Br(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=a,(l=a.deletions)===null?(a.deletions=[p],a.flags|=16):l.push(p)}function Ev(a,l){switch(a.tag){case 5:return(l=TT(l,a.type,a.pendingProps))!==null&&(a.stateNode=l,gr=a,Mr=RT(l),!0);case 6:return(l=AT(l,a.pendingProps))!==null&&(a.stateNode=l,gr=a,Mr=null,!0);case 13:if((l=CT(l))!==null){var p=ms!==null?{id:En,overflow:Kn}:null;return a.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},(p=Br(18,null,null,0)).stateNode=l,p.return=a,a.child=p,gr=a,Mr=null,!0}return!1;default:return!1}}function Jd(a){return(1&a.mode)!=0&&(128&a.flags)==0}function ef(a){if(Ye){var l=Mr;if(l){var p=l;if(!Ev(a,l)){if(Jd(a))throw Error(s(418));l=fu(p);var y=gr;l&&Ev(a,l)?bv(y,p):(a.flags=-4097&a.flags|2,Ye=!1,gr=a)}}else{if(Jd(a))throw Error(s(418));a.flags=-4097&a.flags|2,Ye=!1,gr=a}}}function Tv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;gr=a}function xu(a){if(!Re||a!==gr)return!1;if(!Ye)return Tv(a),Ye=!0,!1;if(a.tag!==3&&(a.tag!==5||GT(a.type)&&!Ne(a.type,a.memoizedProps))){var l=Mr;if(l){if(Jd(a))throw Av(),Error(s(418));for(;l;)bv(a,l),l=fu(l)}}if(Tv(a),a.tag===13){if(!Re)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));Mr=FT(a)}else Mr=gr?fu(a.stateNode):null;return!0}function Av(){for(var a=Mr;a;)a=fu(a)}function ao(){Re&&(Mr=gr=null,Pa=Ye=!1)}function tf(a){Qr===null?Qr=[a]:Qr.push(a)}var ZT=o.ReactCurrentBatchConfig;function wu(a,l){if(Yr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var p=Object.keys(a),y=Object.keys(l);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var _=p[y];if(!jT.call(l,_)||!Yr(a[_],l[_]))return!1}return!0}function JT(a){switch(a.tag){case 5:return Ta(a.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 2:case 15:return a=zd(a.type,!1);case 11:return a=zd(a.type.render,!1);case 1:return a=zd(a.type,!0);default:return""}}function qr(a,l){if(a&&a.defaultProps){for(var p in l=i({},l),a=a.defaultProps)l[p]===void 0&&(l[p]=a[p]);return l}return l}var Su=Si(null),bu=null,lo=null,rf=null;function nf(){rf=lo=bu=null}function Cv(a,l,p){st?(Ue(Su,l._currentValue),l._currentValue=p):(Ue(Su,l._currentValue2),l._currentValue2=p)}function sf(a){var l=Su.current;Xe(Su),st?a._currentValue=l:a._currentValue2=l}function of(a,l,p){for(;a!==null;){var y=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),a===p)break;a=a.return}}function uo(a,l){bu=a,rf=lo=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&l&&(sr=!0),a.firstContext=null)}function Dr(a){var l=st?a._currentValue:a._currentValue2;if(rf!==a)if(a={context:a,memoizedValue:l,next:null},lo===null){if(bu===null)throw Error(s(308));lo=a,bu.dependencies={lanes:0,firstContext:a}}else lo=lo.next=a;return l}var ys=null;function af(a){ys===null?ys=[a]:ys.push(a)}function Pv(a,l,p,y){var _=l.interleaved;return _===null?(p.next=p,af(l)):(p.next=_.next,_.next=p),l.interleaved=p,Tn(a,y)}function Tn(a,l){a.lanes|=l;var p=a.alternate;for(p!==null&&(p.lanes|=l),p=a,a=a.return;a!==null;)a.childLanes|=l,(p=a.alternate)!==null&&(p.childLanes|=l),p=a,a=a.return;return p.tag===3?p.stateNode:null}var Ei=!1;function lf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iv(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Zn(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Ti(a,l,p){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(2&Ce)!=0){var _=y.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),y.pending=l,Tn(a,p)}return(_=y.interleaved)===null?(l.next=l,af(y)):(l.next=_.next,_.next=l),y.interleaved=l,Tn(a,p)}function Eu(a,l,p){if((l=l.updateQueue)!==null&&(l=l.shared,(4194240&p)!=0)){var y=l.lanes;p|=y&=a.pendingLanes,l.lanes=p,Xd(a,p)}}function Rv(a,l){var p=a.updateQueue,y=a.alternate;if(y!==null&&p===(y=y.updateQueue)){var _=null,w=null;if((p=p.firstBaseUpdate)!==null){do{var C={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};w===null?_=w=C:w=w.next=C,p=p.next}while(p!==null);w===null?_=w=l:w=w.next=l}else _=w=l;return p={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:y.shared,effects:y.effects},void(a.updateQueue=p)}(a=p.lastBaseUpdate)===null?p.firstBaseUpdate=l:a.next=l,p.lastBaseUpdate=l}function Tu(a,l,p,y){var _=a.updateQueue;Ei=!1;var w=_.firstBaseUpdate,C=_.lastBaseUpdate,P=_.shared.pending;if(P!==null){_.shared.pending=null;var F=P,z=F.next;F.next=null,C===null?w=z:C.next=z,C=F;var V=a.alternate;V!==null&&(P=(V=V.updateQueue).lastBaseUpdate)!==C&&(P===null?V.firstBaseUpdate=z:P.next=z,V.lastBaseUpdate=F)}if(w!==null){var te=_.baseState;for(C=0,V=z=F=null,P=w;;){var $=P.lane,Z=P.eventTime;if((y&$)===$){V!==null&&(V=V.next={eventTime:Z,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ue=a,xe=P;switch($=l,Z=p,xe.tag){case 1:if(typeof(ue=xe.payload)=="function"){te=ue.call(Z,te,$);break e}te=ue;break e;case 3:ue.flags=-65537&ue.flags|128;case 0:if(($=typeof(ue=xe.payload)=="function"?ue.call(Z,te,$):ue)==null)break e;te=i({},te,$);break e;case 2:Ei=!0}}P.callback!==null&&P.lane!==0&&(a.flags|=64,($=_.effects)===null?_.effects=[P]:$.push(P))}else Z={eventTime:Z,lane:$,tag:P.tag,payload:P.payload,callback:P.callback,next:null},V===null?(z=V=Z,F=te):V=V.next=Z,C|=$;if((P=P.next)===null){if((P=_.shared.pending)===null)break;P=($=P).next,$.next=null,_.lastBaseUpdate=$,_.shared.pending=null}}if(V===null&&(F=te),_.baseState=F,_.firstBaseUpdate=z,_.lastBaseUpdate=V,(l=_.shared.interleaved)!==null){_=l;do C|=_.lane,_=_.next;while(_!==l)}else w===null&&(_.shared.lanes=0);_s|=C,a.lanes=C,a.memoizedState=te}}function kv(a,l,p){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var y=a[l],_=y.callback;if(_!==null){if(y.callback=null,y=p,typeof _!="function")throw Error(s(191,_));_.call(y)}}}var Mv=new r.Component().refs;function uf(a,l,p,y){p=(p=p(y,l=a.memoizedState))==null?l:i({},l,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Au={isMounted:function(a){return!!(a=a._reactInternals)&&R(a)===a},enqueueSetState:function(a,l,p){a=a._reactInternals;var y=$t(),_=Ii(a),w=Zn(y,_);w.payload=l,p!=null&&(w.callback=p),(l=Ti(a,w,_))!==null&&(Fr(l,a,_,y),Eu(l,a,_))},enqueueReplaceState:function(a,l,p){a=a._reactInternals;var y=$t(),_=Ii(a),w=Zn(y,_);w.tag=1,w.payload=l,p!=null&&(w.callback=p),(l=Ti(a,w,_))!==null&&(Fr(l,a,_,y),Eu(l,a,_))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var p=$t(),y=Ii(a),_=Zn(p,y);_.tag=2,l!=null&&(_.callback=l),(l=Ti(a,_,y))!==null&&(Fr(l,a,y,p),Eu(l,a,y))}};function Dv(a,l,p,y,_,w,C){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,w,C):!l.prototype||!l.prototype.isPureReactComponent||!wu(p,y)||!wu(_,w)}function Nv(a,l,p){var y=!1,_=bi,w=l.contextType;return typeof w=="object"&&w!==null?w=Dr(w):(_=mr(l)?ps:zt.current,w=(y=(y=l.contextTypes)!=null)?io(a,_):bi),l=new l(p,w),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Au,a.stateNode=l,l._reactInternals=a,y&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=w),l}function Ov(a,l,p,y){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,y),l.state!==a&&Au.enqueueReplaceState(l,l.state,null)}function cf(a,l,p,y){var _=a.stateNode;_.props=p,_.state=a.memoizedState,_.refs=Mv,lf(a);var w=l.contextType;typeof w=="object"&&w!==null?_.context=Dr(w):(w=mr(l)?ps:zt.current,_.context=io(a,w)),_.state=a.memoizedState,typeof(w=l.getDerivedStateFromProps)=="function"&&(uf(a,l,w,p),_.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(l=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),l!==_.state&&Au.enqueueReplaceState(_,_.state,null),Tu(a,p,_,y),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function Ia(a,l,p){if((a=p.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner){if(p.tag!==1)throw Error(s(309));var y=p.stateNode}if(!y)throw Error(s(147,a));var _=y,w=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(C){var P=_.refs;P===Mv&&(P=_.refs={}),C===null?delete P[w]:P[w]=C},l._stringRef=w,l)}if(typeof a!="string")throw Error(s(284));if(!p._owner)throw Error(s(290,a))}return a}function Cu(a,l){throw a=Object.prototype.toString.call(l),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function Fv(a){return(0,a._init)(a._payload)}function Bv(a){function l(W,k){if(a){var U=W.deletions;U===null?(W.deletions=[k],W.flags|=16):U.push(k)}}function p(W,k){if(!a)return null;for(;k!==null;)l(W,k),k=k.sibling;return null}function y(W,k){for(W=new Map;k!==null;)k.key!==null?W.set(k.key,k):W.set(k.index,k),k=k.sibling;return W}function _(W,k){return(W=ki(W,k)).index=0,W.sibling=null,W}function w(W,k,U){return W.index=U,a?(U=W.alternate)!==null?(U=U.index)<k?(W.flags|=2,k):U:(W.flags|=2,k):(W.flags|=1048576,k)}function C(W){return a&&W.alternate===null&&(W.flags|=2),W}function P(W,k,U,Q){return k===null||k.tag!==6?((k=qf(U,W.mode,Q)).return=W,k):((k=_(k,U)).return=W,k)}function F(W,k,U,Q){var pe=U.type;return pe===f?V(W,k,U.props.children,Q,U.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===b&&Fv(pe)===k.type)?((Q=_(k,U.props)).ref=Ia(W,k,U),Q.return=W,Q):((Q=Ju(U.type,U.key,U.props,null,W.mode,Q)).ref=Ia(W,k,U),Q.return=W,Q)}function z(W,k,U,Q){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?((k=Kf(U,W.mode,Q)).return=W,k):((k=_(k,U.children||[])).return=W,k)}function V(W,k,U,Q,pe){return k===null||k.tag!==7?((k=Ss(U,W.mode,Q,pe)).return=W,k):((k=_(k,U)).return=W,k)}function te(W,k,U){if(typeof k=="string"&&k!==""||typeof k=="number")return(k=qf(""+k,W.mode,U)).return=W,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case u:return(U=Ju(k.type,k.key,k.props,null,W.mode,U)).ref=Ia(W,null,k),U.return=W,U;case h:return(k=Kf(k,W.mode,U)).return=W,k;case b:return te(W,(0,k._init)(k._payload),U)}if(de(k)||I(k))return(k=Ss(k,W.mode,U,null)).return=W,k;Cu(W,k)}return null}function $(W,k,U,Q){var pe=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return pe!==null?null:P(W,k,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case u:return U.key===pe?F(W,k,U,Q):null;case h:return U.key===pe?z(W,k,U,Q):null;case b:return $(W,k,(pe=U._init)(U._payload),Q)}if(de(U)||I(U))return pe!==null?null:V(W,k,U,Q,null);Cu(W,U)}return null}function Z(W,k,U,Q,pe){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return P(k,W=W.get(U)||null,""+Q,pe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return F(k,W=W.get(Q.key===null?U:Q.key)||null,Q,pe);case h:return z(k,W=W.get(Q.key===null?U:Q.key)||null,Q,pe);case b:return Z(W,k,U,(0,Q._init)(Q._payload),pe)}if(de(Q)||I(Q))return V(k,W=W.get(U)||null,Q,pe,null);Cu(k,Q)}return null}function ue(W,k,U,Q){for(var pe=null,Oe=null,ce=k,Me=k=0,Dt=null;ce!==null&&Me<U.length;Me++){ce.index>Me?(Dt=ce,ce=null):Dt=ce.sibling;var Fe=$(W,ce,U[Me],Q);if(Fe===null){ce===null&&(ce=Dt);break}a&&ce&&Fe.alternate===null&&l(W,ce),k=w(Fe,k,Me),Oe===null?pe=Fe:Oe.sibling=Fe,Oe=Fe,ce=Dt}if(Me===U.length)return p(W,ce),Ye&&gs(W,Me),pe;if(ce===null){for(;Me<U.length;Me++)(ce=te(W,U[Me],Q))!==null&&(k=w(ce,k,Me),Oe===null?pe=ce:Oe.sibling=ce,Oe=ce);return Ye&&gs(W,Me),pe}for(ce=y(W,ce);Me<U.length;Me++)(Dt=Z(ce,W,Me,U[Me],Q))!==null&&(a&&Dt.alternate!==null&&ce.delete(Dt.key===null?Me:Dt.key),k=w(Dt,k,Me),Oe===null?pe=Dt:Oe.sibling=Dt,Oe=Dt);return a&&ce.forEach(function(Mi){return l(W,Mi)}),Ye&&gs(W,Me),pe}function xe(W,k,U,Q){var pe=I(U);if(typeof pe!="function")throw Error(s(150));if((U=pe.call(U))==null)throw Error(s(151));for(var Oe=pe=null,ce=k,Me=k=0,Dt=null,Fe=U.next();ce!==null&&!Fe.done;Me++,Fe=U.next()){ce.index>Me?(Dt=ce,ce=null):Dt=ce.sibling;var Mi=$(W,ce,Fe.value,Q);if(Mi===null){ce===null&&(ce=Dt);break}a&&ce&&Mi.alternate===null&&l(W,ce),k=w(Mi,k,Me),Oe===null?pe=Mi:Oe.sibling=Mi,Oe=Mi,ce=Dt}if(Fe.done)return p(W,ce),Ye&&gs(W,Me),pe;if(ce===null){for(;!Fe.done;Me++,Fe=U.next())(Fe=te(W,Fe.value,Q))!==null&&(k=w(Fe,k,Me),Oe===null?pe=Fe:Oe.sibling=Fe,Oe=Fe);return Ye&&gs(W,Me),pe}for(ce=y(W,ce);!Fe.done;Me++,Fe=U.next())(Fe=Z(ce,W,Me,Fe.value,Q))!==null&&(a&&Fe.alternate!==null&&ce.delete(Fe.key===null?Me:Fe.key),k=w(Fe,k,Me),Oe===null?pe=Fe:Oe.sibling=Fe,Oe=Fe);return a&&ce.forEach(function(bA){return l(W,bA)}),Ye&&gs(W,Me),pe}return function W(k,U,Q,pe){if(typeof Q=="object"&&Q!==null&&Q.type===f&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:e:{for(var Oe=Q.key,ce=U;ce!==null;){if(ce.key===Oe){if((Oe=Q.type)===f){if(ce.tag===7){p(k,ce.sibling),(U=_(ce,Q.props.children)).return=k,k=U;break e}}else if(ce.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===b&&Fv(Oe)===ce.type){p(k,ce.sibling),(U=_(ce,Q.props)).ref=Ia(k,ce,Q),U.return=k,k=U;break e}p(k,ce);break}l(k,ce),ce=ce.sibling}Q.type===f?((U=Ss(Q.props.children,k.mode,pe,Q.key)).return=k,k=U):((pe=Ju(Q.type,Q.key,Q.props,null,k.mode,pe)).ref=Ia(k,U,Q),pe.return=k,k=pe)}return C(k);case h:e:{for(ce=Q.key;U!==null;){if(U.key===ce){if(U.tag===4&&U.stateNode.containerInfo===Q.containerInfo&&U.stateNode.implementation===Q.implementation){p(k,U.sibling),(U=_(U,Q.children||[])).return=k,k=U;break e}p(k,U);break}l(k,U),U=U.sibling}(U=Kf(Q,k.mode,pe)).return=k,k=U}return C(k);case b:return W(k,U,(ce=Q._init)(Q._payload),pe)}if(de(Q))return ue(k,U,Q,pe);if(I(Q))return xe(k,U,Q,pe);Cu(k,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,U!==null&&U.tag===6?(p(k,U.sibling),(U=_(U,Q)).return=k,k=U):(p(k,U),(U=qf(Q,k.mode,pe)).return=k,k=U),C(k)):p(k,U)}}var co=Bv(!0),Lv=Bv(!1),Ra={},Nr=Si(Ra),ka=Si(Ra),ho=Si(Ra);function An(a){if(a===Ra)throw Error(s(174));return a}function hf(a,l){Ue(ho,l),Ue(ka,a),Ue(Nr,Ra),a=ee(l),Xe(Nr),Ue(Nr,a)}function fo(){Xe(Nr),Xe(ka),Xe(ho)}function Uv(a){var l=An(ho.current),p=An(Nr.current);p!==(l=M(p,a.type,l))&&(Ue(ka,a),Ue(Nr,l))}function df(a){ka.current===a&&(Xe(Nr),Xe(ka))}var ot=Si(0);function Pu(a){for(var l=a;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&((p=p.dehydrated)===null||fv(p)||Ld(p)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(128&l.flags)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ff=[];function pf(){for(var a=0;a<ff.length;a++){var l=ff[a];st?l._workInProgressVersionPrimary=null:l._workInProgressVersionSecondary=null}ff.length=0}var Iu=o.ReactCurrentDispatcher,mf=o.ReactCurrentBatchConfig,vs=0,Je=null,bt=null,Et=null,Ru=!1,Ma=!1,Da=0,eA=0;function Gt(){throw Error(s(321))}function gf(a,l){if(l===null)return!1;for(var p=0;p<l.length&&p<a.length;p++)if(!Yr(a[p],l[p]))return!1;return!0}function yf(a,l,p,y,_,w){if(vs=w,Je=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Iu.current=a===null||a.memoizedState===null?iA:sA,a=p(y,_),Ma){w=0;do{if(Ma=!1,Da=0,25<=w)throw Error(s(301));w+=1,Et=bt=null,l.updateQueue=null,Iu.current=oA,a=p(y,_)}while(Ma)}if(Iu.current=Du,l=bt!==null&&bt.next!==null,vs=0,Et=bt=Je=null,Ru=!1,l)throw Error(s(300));return a}function vf(){var a=Da!==0;return Da=0,a}function Cn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Je.memoizedState=Et=a:Et=Et.next=a,Et}function Or(){if(bt===null){var a=Je.alternate;a=a!==null?a.memoizedState:null}else a=bt.next;var l=Et===null?Je.memoizedState:Et.next;if(l!==null)Et=l,bt=a;else{if(a===null)throw Error(s(310));a={memoizedState:(bt=a).memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Et===null?Je.memoizedState=Et=a:Et=Et.next=a}return Et}function Na(a,l){return typeof l=="function"?l(a):l}function _f(a){var l=Or(),p=l.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=a;var y=bt,_=y.baseQueue,w=p.pending;if(w!==null){if(_!==null){var C=_.next;_.next=w.next,w.next=C}y.baseQueue=_=w,p.pending=null}if(_!==null){w=_.next,y=y.baseState;var P=C=null,F=null,z=w;do{var V=z.lane;if((vs&V)===V)F!==null&&(F=F.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),y=z.hasEagerState?z.eagerState:a(y,z.action);else{var te={lane:V,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};F===null?(P=F=te,C=y):F=F.next=te,Je.lanes|=V,_s|=V}z=z.next}while(z!==null&&z!==w);F===null?C=y:F.next=P,Yr(y,l.memoizedState)||(sr=!0),l.memoizedState=y,l.baseState=C,l.baseQueue=F,p.lastRenderedState=y}if((a=p.interleaved)!==null){_=a;do w=_.lane,Je.lanes|=w,_s|=w,_=_.next;while(_!==a)}else _===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function xf(a){var l=Or(),p=l.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=a;var y=p.dispatch,_=p.pending,w=l.memoizedState;if(_!==null){p.pending=null;var C=_=_.next;do w=a(w,C.action),C=C.next;while(C!==_);Yr(w,l.memoizedState)||(sr=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),p.lastRenderedState=w}return[w,y]}function zv(){}function Gv(a,l){var p=Je,y=Or(),_=l(),w=!Yr(y.memoizedState,_);if(w&&(y.memoizedState=_,sr=!0),y=y.queue,wf(jv.bind(null,p,y,a),[a]),y.getSnapshot!==l||w||Et!==null&&1&Et.memoizedState.tag){if(p.flags|=2048,Oa(9,$v.bind(null,p,y,_,l),void 0,null),Tt===null)throw Error(s(349));30&vs||Hv(p,l,_)}return _}function Hv(a,l,p){a.flags|=16384,a={getSnapshot:l,value:p},(l=Je.updateQueue)===null?(l={lastEffect:null,stores:null},Je.updateQueue=l,l.stores=[a]):(p=l.stores)===null?l.stores=[a]:p.push(a)}function $v(a,l,p,y){l.value=p,l.getSnapshot=y,Vv(l)&&Wv(a)}function jv(a,l,p){return p(function(){Vv(l)&&Wv(a)})}function Vv(a){var l=a.getSnapshot;a=a.value;try{var p=l();return!Yr(a,p)}catch{return!0}}function Wv(a){var l=Tn(a,1);l!==null&&Fr(l,a,1,-1)}function Xv(a){var l=Cn();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:a},l.queue=a,a=a.dispatch=nA.bind(null,Je,a),[l.memoizedState,a]}function Oa(a,l,p,y){return a={tag:a,create:l,destroy:p,deps:y,next:null},(l=Je.updateQueue)===null?(l={lastEffect:null,stores:null},Je.updateQueue=l,l.lastEffect=a.next=a):(p=l.lastEffect)===null?l.lastEffect=a.next=a:(y=p.next,p.next=a,a.next=y,l.lastEffect=a),a}function Yv(){return Or().memoizedState}function ku(a,l,p,y){var _=Cn();Je.flags|=a,_.memoizedState=Oa(1|l,p,void 0,y===void 0?null:y)}function Mu(a,l,p,y){var _=Or();y=y===void 0?null:y;var w=void 0;if(bt!==null){var C=bt.memoizedState;if(w=C.destroy,y!==null&&gf(y,C.deps))return void(_.memoizedState=Oa(l,p,w,y))}Je.flags|=a,_.memoizedState=Oa(1|l,p,w,y)}function Qv(a,l){return ku(8390656,8,a,l)}function wf(a,l){return Mu(2048,8,a,l)}function qv(a,l){return Mu(4,2,a,l)}function Kv(a,l){return Mu(4,4,a,l)}function Zv(a,l){return typeof l=="function"?(a=a(),l(a),function(){l(null)}):l!=null?(a=a(),l.current=a,function(){l.current=null}):void 0}function Jv(a,l,p){return p=p!=null?p.concat([a]):null,Mu(4,4,Zv.bind(null,l,a),p)}function Sf(){}function e0(a,l){var p=Or();l=l===void 0?null:l;var y=p.memoizedState;return y!==null&&l!==null&&gf(l,y[1])?y[0]:(p.memoizedState=[a,l],a)}function t0(a,l){var p=Or();l=l===void 0?null:l;var y=p.memoizedState;return y!==null&&l!==null&&gf(l,y[1])?y[0]:(a=a(),p.memoizedState=[a,l],a)}function r0(a,l,p){return 21&vs?(Yr(p,l)||(p=yv(),Je.lanes|=p,_s|=p,a.baseState=!0),l):(a.baseState&&(a.baseState=!1,sr=!0),a.memoizedState=p)}function tA(a,l){var p=ke;ke=p!==0&&4>p?p:4,a(!0);var y=mf.transition;mf.transition={};try{a(!1),l()}finally{ke=p,mf.transition=y}}function n0(){return Or().memoizedState}function rA(a,l,p){var y=Ii(a);p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},i0(a)?s0(l,p):(p=Pv(a,l,p,y))!==null&&(Fr(p,a,y,$t()),o0(p,l,y))}function nA(a,l,p){var y=Ii(a),_={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(i0(a))s0(l,_);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer)!==null)try{var C=l.lastRenderedState,P=w(C,p);if(_.hasEagerState=!0,_.eagerState=P,Yr(P,C)){var F=l.interleaved;return F===null?(_.next=_,af(l)):(_.next=F.next,F.next=_),void(l.interleaved=_)}}catch{}(p=Pv(a,l,_,y))!==null&&(Fr(p,a,y,_=$t()),o0(p,l,y))}}function i0(a){var l=a.alternate;return a===Je||l!==null&&l===Je}function s0(a,l){Ma=Ru=!0;var p=a.pending;p===null?l.next=l:(l.next=p.next,p.next=l),a.pending=l}function o0(a,l,p){if(4194240&p){var y=l.lanes;p|=y&=a.pendingLanes,l.lanes=p,Xd(a,p)}}var Du={readContext:Dr,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},iA={readContext:Dr,useCallback:function(a,l){return Cn().memoizedState=[a,l===void 0?null:l],a},useContext:Dr,useEffect:Qv,useImperativeHandle:function(a,l,p){return p=p!=null?p.concat([a]):null,ku(4194308,4,Zv.bind(null,l,a),p)},useLayoutEffect:function(a,l){return ku(4194308,4,a,l)},useInsertionEffect:function(a,l){return ku(4,2,a,l)},useMemo:function(a,l){var p=Cn();return l=l===void 0?null:l,a=a(),p.memoizedState=[a,l],a},useReducer:function(a,l,p){var y=Cn();return l=p!==void 0?p(l):l,y.memoizedState=y.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},y.queue=a,a=a.dispatch=rA.bind(null,Je,a),[y.memoizedState,a]},useRef:function(a){return a={current:a},Cn().memoizedState=a},useState:Xv,useDebugValue:Sf,useDeferredValue:function(a){return Cn().memoizedState=a},useTransition:function(){var a=Xv(!1),l=a[0];return a=tA.bind(null,a[1]),Cn().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,p){var y=Je,_=Cn();if(Ye){if(p===void 0)throw Error(s(407));p=p()}else{if(p=l(),Tt===null)throw Error(s(349));30&vs||Hv(y,l,p)}_.memoizedState=p;var w={value:p,getSnapshot:l};return _.queue=w,Qv(jv.bind(null,y,w,a),[a]),y.flags|=2048,Oa(9,$v.bind(null,y,w,p,l),void 0,null),p},useId:function(){var a=Cn(),l=Tt.identifierPrefix;if(Ye){var p=Kn;l=":"+l+"R"+(p=(En&~(1<<32-Xr(En)-1)).toString(32)+p),0<(p=Da++)&&(l+="H"+p.toString(32)),l+=":"}else l=":"+l+"r"+(p=eA++).toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},sA={readContext:Dr,useCallback:e0,useContext:Dr,useEffect:wf,useImperativeHandle:Jv,useInsertionEffect:qv,useLayoutEffect:Kv,useMemo:t0,useReducer:_f,useRef:Yv,useState:function(){return _f(Na)},useDebugValue:Sf,useDeferredValue:function(a){return r0(Or(),bt.memoizedState,a)},useTransition:function(){return[_f(Na)[0],Or().memoizedState]},useMutableSource:zv,useSyncExternalStore:Gv,useId:n0,unstable_isNewReconciler:!1},oA={readContext:Dr,useCallback:e0,useContext:Dr,useEffect:wf,useImperativeHandle:Jv,useInsertionEffect:qv,useLayoutEffect:Kv,useMemo:t0,useReducer:xf,useRef:Yv,useState:function(){return xf(Na)},useDebugValue:Sf,useDeferredValue:function(a){var l=Or();return bt===null?l.memoizedState=a:r0(l,bt.memoizedState,a)},useTransition:function(){return[xf(Na)[0],Or().memoizedState]},useMutableSource:zv,useSyncExternalStore:Gv,useId:n0,unstable_isNewReconciler:!1};function po(a,l){try{var p="",y=l;do p+=JT(y),y=y.return;while(y);var _=p}catch(w){_=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:l,stack:_,digest:null}}function bf(a,l,p){return{value:a,source:null,stack:p??null,digest:l??null}}function Ef(a,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var aA=typeof WeakMap=="function"?WeakMap:Map;function a0(a,l,p){(p=Zn(-1,p)).tag=3,p.payload={element:null};var y=l.value;return p.callback=function(){Xu||(Xu=!0,$f=y),Ef(0,l)},p}function l0(a,l,p){(p=Zn(-1,p)).tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var _=l.value;p.payload=function(){return y(_)},p.callback=function(){Ef(0,l)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(p.callback=function(){Ef(0,l),typeof y!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})}),p}function u0(a,l,p){var y=a.pingCache;if(y===null){y=a.pingCache=new aA;var _=new Set;y.set(l,_)}else(_=y.get(l))===void 0&&(_=new Set,y.set(l,_));_.has(p)||(_.add(p),a=gA.bind(null,a,l,p),l.then(a,a))}function c0(a){do{var l;if((l=a.tag===13)&&(l=(l=a.memoizedState)===null||l.dehydrated!==null),l)return a;a=a.return}while(a!==null);return null}function h0(a,l,p,y,_){return 1&a.mode?(a.flags|=65536,a.lanes=_,a):(a===l?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:((l=Zn(-1,1)).tag=2,Ti(p,l,1))),p.lanes|=1),a)}var lA=o.ReactCurrentOwner,sr=!1;function or(a,l,p,y){l.child=a===null?Lv(l,null,p,y):co(l,a.child,p,y)}function d0(a,l,p,y,_){p=p.render;var w=l.ref;return uo(l,_),y=yf(a,l,p,y,w,_),p=vf(),a===null||sr?(Ye&&p&&Kd(l),l.flags|=1,or(a,l,y,_),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~_,Jn(a,l,_))}function f0(a,l,p,y,_){if(a===null){var w=p.type;return typeof w!="function"||Qf(w)||w.defaultProps!==void 0||p.compare!==null||p.defaultProps!==void 0?((a=Ju(p.type,null,y,l,l.mode,_)).ref=l.ref,a.return=l,l.child=a):(l.tag=15,l.type=w,p0(a,l,w,y,_))}if(w=a.child,(a.lanes&_)==0){var C=w.memoizedProps;if((p=(p=p.compare)!==null?p:wu)(C,y)&&a.ref===l.ref)return Jn(a,l,_)}return l.flags|=1,(a=ki(w,y)).ref=l.ref,a.return=l,l.child=a}function p0(a,l,p,y,_){if(a!==null){var w=a.memoizedProps;if(wu(w,y)&&a.ref===l.ref){if(sr=!1,l.pendingProps=y=w,(a.lanes&_)==0)return l.lanes=a.lanes,Jn(a,l,_);131072&a.flags&&(sr=!0)}}return Tf(a,l,p,y,_)}function m0(a,l,p){var y=l.pendingProps,_=y.children,w=a!==null?a.memoizedState:null;if(y.mode==="hidden")if(!(1&l.mode))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(go,yr),yr|=p;else{if(!(1073741824&p))return a=w!==null?w.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Ue(go,yr),yr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=w!==null?w.baseLanes:p,Ue(go,yr),yr|=y}else w!==null?(y=w.baseLanes|p,l.memoizedState=null):y=p,Ue(go,yr),yr|=y;return or(a,l,_,p),l.child}function g0(a,l){var p=l.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function Tf(a,l,p,y,_){var w=mr(p)?ps:zt.current;return w=io(l,w),uo(l,_),p=yf(a,l,p,y,w,_),y=vf(),a===null||sr?(Ye&&y&&Kd(l),l.flags|=1,or(a,l,p,_),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~_,Jn(a,l,_))}function y0(a,l,p,y,_){if(mr(p)){var w=!0;pu(l)}else w=!1;if(uo(l,_),l.stateNode===null)Bu(a,l),Nv(l,p,y),cf(l,p,y,_),y=!0;else if(a===null){var C=l.stateNode,P=l.memoizedProps;C.props=P;var F=C.context,z=p.contextType;typeof z=="object"&&z!==null?z=Dr(z):z=io(l,z=mr(p)?ps:zt.current);var V=p.getDerivedStateFromProps,te=typeof V=="function"||typeof C.getSnapshotBeforeUpdate=="function";te||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==y||F!==z)&&Ov(l,C,y,z),Ei=!1;var $=l.memoizedState;C.state=$,Tu(l,y,C,_),F=l.memoizedState,P!==y||$!==F||ir.current||Ei?(typeof V=="function"&&(uf(l,p,V,y),F=l.memoizedState),(P=Ei||Dv(l,p,P,y,$,F,z))?(te||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=F),C.props=y,C.state=F,C.context=z,y=P):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{C=l.stateNode,Iv(a,l),P=l.memoizedProps,z=l.type===l.elementType?P:qr(l.type,P),C.props=z,te=l.pendingProps,$=C.context,typeof(F=p.contextType)=="object"&&F!==null?F=Dr(F):F=io(l,F=mr(p)?ps:zt.current);var Z=p.getDerivedStateFromProps;(V=typeof Z=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==te||$!==F)&&Ov(l,C,y,F),Ei=!1,$=l.memoizedState,C.state=$,Tu(l,y,C,_);var ue=l.memoizedState;P!==te||$!==ue||ir.current||Ei?(typeof Z=="function"&&(uf(l,p,Z,y),ue=l.memoizedState),(z=Ei||Dv(l,p,z,y,$,ue,F)||!1)?(V||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,ue,F),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,ue,F)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||P===a.memoizedProps&&$===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&$===a.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=ue),C.props=y,C.state=ue,C.context=F,y=z):(typeof C.componentDidUpdate!="function"||P===a.memoizedProps&&$===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&$===a.memoizedState||(l.flags|=1024),y=!1)}return Af(a,l,p,y,w,_)}function Af(a,l,p,y,_,w){g0(a,l);var C=(128&l.flags)!=0;if(!y&&!C)return _&&gv(l,p,!1),Jn(a,l,w);y=l.stateNode,lA.current=l;var P=C&&typeof p.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,a!==null&&C?(l.child=co(l,a.child,null,w),l.child=co(l,null,P,w)):or(a,l,P,w),l.memoizedState=y.state,_&&gv(l,p,!0),l.child}function v0(a){var l=a.stateNode;l.pendingContext?pv(0,l.pendingContext,l.pendingContext!==l.context):l.context&&pv(0,l.context,!1),hf(a,l.containerInfo)}function _0(a,l,p,y,_){return ao(),tf(_),l.flags|=256,or(a,l,p,y),l.child}var Fa,Ba,Nu,Ou,Cf={dehydrated:null,treeContext:null,retryLane:0};function Pf(a){return{baseLanes:a,cachePool:null,transitions:null}}function x0(a,l,p){var y,_=l.pendingProps,w=ot.current,C=!1,P=(128&l.flags)!=0;if((y=P)||(y=(a===null||a.memoizedState!==null)&&(2&w)!=0),y?(C=!0,l.flags&=-129):a!==null&&a.memoizedState===null||(w|=1),Ue(ot,1&w),a===null)return ef(l),(a=l.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&l.mode?Ld(a)?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(P=_.children,a=_.fallback,C?(_=l.mode,C=l.child,P={mode:"hidden",children:P},!(1&_)&&C!==null?(C.childLanes=0,C.pendingProps=P):C=ec(P,_,0,null),a=Ss(a,_,p,null),C.return=l,a.return=l,C.sibling=a,l.child=C,l.child.memoizedState=Pf(p),l.memoizedState=Cf,a):If(l,P));if((w=a.memoizedState)!==null&&(y=w.dehydrated)!==null)return function(z,V,te,$,Z,ue,xe){if(te)return 256&V.flags?(V.flags&=-257,Fu(z,V,xe,$=bf(Error(s(422))))):V.memoizedState!==null?(V.child=z.child,V.flags|=128,null):(ue=$.fallback,Z=V.mode,$=ec({mode:"visible",children:$.children},Z,0,null),(ue=Ss(ue,Z,xe,null)).flags|=2,$.return=V,ue.return=V,$.sibling=ue,V.child=$,1&V.mode&&co(V,z.child,null,xe),V.child.memoizedState=Pf(xe),V.memoizedState=Cf,ue);if(!(1&V.mode))return Fu(z,V,xe,null);if(Ld(Z))return $=PT(Z).digest,ue=Error(s(419)),$=bf(ue,$,void 0),Fu(z,V,xe,$);if(te=(xe&z.childLanes)!=0,sr||te){if(($=Tt)!==null){switch(xe&-xe){case 4:Z=2;break;case 16:Z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Z=32;break;case 536870912:Z=268435456;break;default:Z=0}(Z=Z&($.suspendedLanes|xe)?0:Z)!==0&&Z!==ue.retryLane&&(ue.retryLane=Z,Tn(z,Z),Fr($,z,Z,-1))}return Yf(),Fu(z,V,xe,$=bf(Error(s(421))))}return fv(Z)?(V.flags|=128,V.child=z.child,V=yA.bind(null,z),IT(Z,V),null):(z=ue.treeContext,Re&&(Mr=MT(Z),gr=V,Ye=!0,Qr=null,Pa=!1,z!==null&&(Rr[kr++]=En,Rr[kr++]=Kn,Rr[kr++]=ms,En=z.id,Kn=z.overflow,ms=V)),V=If(V,$.children),V.flags|=4096,V)}(a,l,P,_,y,w,p);if(C){C=_.fallback,P=l.mode,y=(w=a.child).sibling;var F={mode:"hidden",children:_.children};return!(1&P)&&l.child!==w?((_=l.child).childLanes=0,_.pendingProps=F,l.deletions=null):(_=ki(w,F)).subtreeFlags=14680064&w.subtreeFlags,y!==null?C=ki(y,C):(C=Ss(C,P,p,null)).flags|=2,C.return=l,_.return=l,_.sibling=C,l.child=_,_=C,C=l.child,P=(P=a.child.memoizedState)===null?Pf(p):{baseLanes:P.baseLanes|p,cachePool:null,transitions:P.transitions},C.memoizedState=P,C.childLanes=a.childLanes&~p,l.memoizedState=Cf,_}return a=(C=a.child).sibling,_=ki(C,{mode:"visible",children:_.children}),!(1&l.mode)&&(_.lanes=p),_.return=l,_.sibling=null,a!==null&&((p=l.deletions)===null?(l.deletions=[a],l.flags|=16):p.push(a)),l.child=_,l.memoizedState=null,_}function If(a,l){return(l=ec({mode:"visible",children:l},a.mode,0,null)).return=a,a.child=l}function Fu(a,l,p,y){return y!==null&&tf(y),co(l,a.child,null,p),(a=If(l,l.pendingProps.children)).flags|=2,l.memoizedState=null,a}function w0(a,l,p){a.lanes|=l;var y=a.alternate;y!==null&&(y.lanes|=l),of(a.return,l,p)}function Rf(a,l,p,y,_){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:_}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=y,w.tail=p,w.tailMode=_)}function S0(a,l,p){var y=l.pendingProps,_=y.revealOrder,w=y.tail;if(or(a,l,y.children,p),(2&(y=ot.current))!=0)y=1&y|2,l.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&w0(a,p,l);else if(a.tag===19)w0(a,p,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(Ue(ot,y),(1&l.mode)==0)l.memoizedState=null;else switch(_){case"forwards":for(p=l.child,_=null;p!==null;)(a=p.alternate)!==null&&Pu(a)===null&&(_=p),p=p.sibling;(p=_)===null?(_=l.child,l.child=null):(_=p.sibling,p.sibling=null),Rf(l,!1,_,p,w);break;case"backwards":for(p=null,_=l.child,l.child=null;_!==null;){if((a=_.alternate)!==null&&Pu(a)===null){l.child=_;break}a=_.sibling,_.sibling=p,p=_,_=a}Rf(l,!0,p,null,w);break;case"together":Rf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Bu(a,l){!(1&l.mode)&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Jn(a,l,p){if(a!==null&&(l.dependencies=a.dependencies),_s|=l.lanes,(p&l.childLanes)==0)return null;if(a!==null&&l.child!==a.child)throw Error(s(153));if(l.child!==null){for(p=ki(a=l.child,a.pendingProps),l.child=p,p.return=l;a.sibling!==null;)a=a.sibling,(p=p.sibling=ki(a,a.pendingProps)).return=l;p.sibling=null}return l.child}function Pn(a){a.flags|=4}function b0(a,l){if(a!==null&&a.child===l.child)return!0;if(16&l.flags)return!1;for(a=l.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(be)Fa=function(a,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)re(a,p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Ba=function(){},Nu=function(a,l,p,y,_){if((a=a.memoizedProps)!==y){var w=l.stateNode,C=An(Nr.current);p=ye(w,p,a,y,_,C),(l.updateQueue=p)&&Pn(l)}},Ou=function(a,l,p,y){p!==y&&Pn(l)};else if(He){Fa=function(a,l,p,y){for(var _=l.child;_!==null;){if(_.tag===5){var w=_.stateNode;p&&y&&(w=hv(w,_.type,_.memoizedProps,_)),re(a,w)}else if(_.tag===6)w=_.stateNode,p&&y&&(w=dv(w,_.memoizedProps,_)),re(a,w);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)(w=_.child)!==null&&(w.return=_),Fa(a,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===l)break;for(;_.sibling===null;){if(_.return===null||_.return===l)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};var E0=function(a,l,p,y){for(var _=l.child;_!==null;){if(_.tag===5){var w=_.stateNode;p&&y&&(w=hv(w,_.type,_.memoizedProps,_)),cv(a,w)}else if(_.tag===6)w=_.stateNode,p&&y&&(w=dv(w,_.memoizedProps,_)),cv(a,w);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)(w=_.child)!==null&&(w.return=_),E0(a,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===l)break;for(;_.sibling===null;){if(_.return===null||_.return===l)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Ba=function(a,l){var p=l.stateNode;if(!b0(a,l)){a=p.containerInfo;var y=uv(a);E0(y,l,!1,!1),p.pendingChildren=y,Pn(l),ET(a,y)}},Nu=function(a,l,p,y,_){var w=a.stateNode,C=a.memoizedProps;if((a=b0(a,l))&&C===y)l.stateNode=w;else{var P=l.stateNode,F=An(Nr.current),z=null;C!==y&&(z=ye(P,p,C,y,_,F)),a&&z===null?l.stateNode=w:(w=bT(w,z,p,C,y,l,a,P),_e(w,p,y,_,F)&&Pn(l),l.stateNode=w,a?Pn(l):Fa(w,l,!1,!1))}},Ou=function(a,l,p,y){p!==y?(a=An(ho.current),p=An(Nr.current),l.stateNode=we(y,a,p,l),Pn(l)):l.stateNode=a.stateNode}}else Ba=function(){},Nu=function(){},Ou=function(){};function La(a,l){if(!Ye)switch(a.tailMode){case"hidden":l=a.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function Zt(a){var l=a.alternate!==null&&a.alternate.child===a.child,p=0,y=0;if(l)for(var _=a.child;_!==null;)p|=_.lanes|_.childLanes,y|=14680064&_.subtreeFlags,y|=14680064&_.flags,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)p|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=y,a.childLanes=p,l}function uA(a,l,p){var y=l.pendingProps;switch(Zd(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(l),null;case 1:case 17:return mr(l.type)&&Hd(),Zt(l),null;case 3:return p=l.stateNode,fo(),Xe(ir),Xe(zt),pf(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),a!==null&&a.child!==null||(xu(l)?Pn(l):a===null||a.memoizedState.isDehydrated&&!(256&l.flags)||(l.flags|=1024,Qr!==null&&(Wf(Qr),Qr=null))),Ba(a,l),Zt(l),null;case 5:df(l),p=An(ho.current);var _=l.type;if(a!==null&&l.stateNode!=null)Nu(a,l,_,y,p),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(s(166));return Zt(l),null}if(a=An(Nr.current),xu(l)){if(!Re)throw Error(s(175));a=DT(l.stateNode,l.type,l.memoizedProps,p,a,l,!Pa),l.updateQueue=a,a!==null&&Pn(l)}else{var w=K(_,y,p,a,l);Fa(w,l,!1,!1),l.stateNode=w,_e(w,_,y,p,a)&&Pn(l)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Zt(l),null;case 6:if(a&&l.stateNode!=null)Ou(a,l,a.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(s(166));if(a=An(ho.current),p=An(Nr.current),xu(l)){if(!Re)throw Error(s(176));if(a=l.stateNode,p=l.memoizedProps,(y=NT(a,p,l,!Pa))&&(_=gr)!==null)switch(_.tag){case 3:HT(_.stateNode.containerInfo,a,p,(1&_.mode)!=0);break;case 5:$T(_.type,_.memoizedProps,_.stateNode,a,p,(1&_.mode)!=0)}y&&Pn(l)}else l.stateNode=we(y,a,p,l)}return Zt(l),null;case 13:if(Xe(ot),y=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ye&&Mr!==null&&1&l.mode&&!(128&l.flags))Av(),ao(),l.flags|=98560,_=!1;else if(_=xu(l),y!==null&&y.dehydrated!==null){if(a===null){if(!_)throw Error(s(318));if(!Re)throw Error(s(344));if(!(_=(_=l.memoizedState)!==null?_.dehydrated:null))throw Error(s(317));OT(_,l)}else ao(),!(128&l.flags)&&(l.memoizedState=null),l.flags|=4;Zt(l),_=!1}else Qr!==null&&(Wf(Qr),Qr=null),_=!0;if(!_)return 65536&l.flags?l:null}return 128&l.flags?(l.lanes=p,l):((p=y!==null)!=(a!==null&&a.memoizedState!==null)&&p&&(l.child.flags|=8192,1&l.mode&&(a===null||1&ot.current?yt===0&&(yt=3):Yf())),l.updateQueue!==null&&(l.flags|=4),Zt(l),null);case 4:return fo(),Ba(a,l),a===null&&Ir(l.stateNode.containerInfo),Zt(l),null;case 10:return sf(l.type._context),Zt(l),null;case 19:if(Xe(ot),(_=l.memoizedState)===null)return Zt(l),null;if(y=(128&l.flags)!=0,(w=_.rendering)===null)if(y)La(_,!1);else{if(yt!==0||a!==null&&128&a.flags)for(a=l.child;a!==null;){if((w=Pu(a))!==null){for(l.flags|=128,La(_,!1),(a=w.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),l.subtreeFlags=0,a=p,p=l.child;p!==null;)_=a,(y=p).flags&=14680066,(w=y.alternate)===null?(y.childLanes=0,y.lanes=_,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,_=w.dependencies,y.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),p=p.sibling;return Ue(ot,1&ot.current|2),l.child}a=a.sibling}_.tail!==null&&St()>Hf&&(l.flags|=128,y=!0,La(_,!1),l.lanes=4194304)}else{if(!y)if((a=Pu(w))!==null){if(l.flags|=128,y=!0,(a=a.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),La(_,!0),_.tail===null&&_.tailMode==="hidden"&&!w.alternate&&!Ye)return Zt(l),null}else 2*St()-_.renderingStartTime>Hf&&p!==1073741824&&(l.flags|=128,y=!0,La(_,!1),l.lanes=4194304);_.isBackwards?(w.sibling=l.child,l.child=w):((a=_.last)!==null?a.sibling=w:l.child=w,_.last=w)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=St(),l.sibling=null,a=ot.current,Ue(ot,y?1&a|2:1&a),l):(Zt(l),null);case 22:case 23:return Xf(),p=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(l.flags|=8192),p&&1&l.mode?1073741824&yr&&(Zt(l),be&&6&l.subtreeFlags&&(l.flags|=8192)):Zt(l),null;case 24:case 25:return null}throw Error(s(156,l.tag))}function cA(a,l){switch(Zd(l),l.tag){case 1:return mr(l.type)&&Hd(),65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 3:return fo(),Xe(ir),Xe(zt),pf(),65536&(a=l.flags)&&!(128&a)?(l.flags=-65537&a|128,l):null;case 5:return df(l),null;case 13:if(Xe(ot),(a=l.memoizedState)!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(s(340));ao()}return 65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 19:return Xe(ot),null;case 4:return fo(),null;case 10:return sf(l.type._context),null;case 22:case 23:return Xf(),null;default:return null}}var Lu=!1,Ht=!1,hA=typeof WeakSet=="function"?WeakSet:Set,ae=null;function mo(a,l){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){Qe(a,l,y)}else p.current=null}function T0(a,l,p){try{p()}catch(y){Qe(a,l,y)}}var A0=!1;function Ua(a,l,p){var y=l.updateQueue;if((y=y!==null?y.lastEffect:null)!==null){var _=y=y.next;do{if((_.tag&a)===a){var w=_.destroy;_.destroy=void 0,w!==void 0&&T0(l,p,w)}_=_.next}while(_!==y)}}function Uu(a,l){if((l=(l=l.updateQueue)!==null?l.lastEffect:null)!==null){var p=l=l.next;do{if((p.tag&a)===a){var y=p.create;p.destroy=y()}p=p.next}while(p!==l)}}function kf(a){var l=a.ref;if(l!==null){var p=a.stateNode;a.tag===5?a=oe(p):a=p,typeof l=="function"?l(a):l.current=a}}function C0(a){var l=a.alternate;l!==null&&(a.alternate=null,C0(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode)!==null&&Fd(l),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function P0(a){return a.tag===5||a.tag===3||a.tag===4}function I0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||P0(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function Mf(a,l,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?mT(p,a,l):cT(p,a);else if(y!==4&&(a=a.child)!==null)for(Mf(a,l,p),a=a.sibling;a!==null;)Mf(a,l,p),a=a.sibling}function Df(a,l,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?pT(p,a,l):uT(p,a);else if(y!==4&&(a=a.child)!==null)for(Df(a,l,p),a=a.sibling;a!==null;)Df(a,l,p),a=a.sibling}var Jt=null,In=!1;function Rn(a,l,p){for(p=p.child;p!==null;)Nf(a,l,p),p=p.sibling}function Nf(a,l,p){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(gu,p)}catch{}switch(p.tag){case 5:Ht||mo(p,l);case 6:if(be){var y=Jt,_=In;Jt=null,Rn(a,l,p),In=_,(Jt=y)!==null&&(In?yT(Jt,p.stateNode):gT(Jt,p.stateNode))}else Rn(a,l,p);break;case 18:be&&Jt!==null&&(In?zT(Jt,p.stateNode):UT(Jt,p.stateNode));break;case 4:be?(y=Jt,_=In,Jt=p.stateNode.containerInfo,In=!0,Rn(a,l,p),Jt=y,In=_):(He&&(y=p.stateNode.containerInfo,_=uv(y),Bd(y,_)),Rn(a,l,p));break;case 0:case 11:case 14:case 15:if(!Ht&&(y=p.updateQueue)!==null&&(y=y.lastEffect)!==null){_=y=y.next;do{var w=_,C=w.destroy;w=w.tag,C!==void 0&&(2&w||4&w)&&T0(p,l,C),_=_.next}while(_!==y)}Rn(a,l,p);break;case 1:if(!Ht&&(mo(p,l),typeof(y=p.stateNode).componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(P){Qe(p,l,P)}Rn(a,l,p);break;case 21:Rn(a,l,p);break;case 22:1&p.mode?(Ht=(y=Ht)||p.memoizedState!==null,Rn(a,l,p),Ht=y):Rn(a,l,p);break;default:Rn(a,l,p)}}function R0(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new hA),l.forEach(function(y){var _=vA.bind(null,a,y);p.has(y)||(p.add(y),y.then(_,_))})}}function Kr(a,l){var p=l.deletions;if(p!==null)for(var y=0;y<p.length;y++){var _=p[y];try{var w=a,C=l;if(be){var P=C;e:for(;P!==null;){switch(P.tag){case 5:Jt=P.stateNode,In=!1;break e;case 3:case 4:Jt=P.stateNode.containerInfo,In=!0;break e}P=P.return}if(Jt===null)throw Error(s(160));Nf(w,C,_),Jt=null,In=!1}else Nf(w,C,_);var F=_.alternate;F!==null&&(F.return=null),_.return=null}catch(z){Qe(_,l,z)}}if(12854&l.subtreeFlags)for(l=l.child;l!==null;)k0(l,a),l=l.sibling}function k0(a,l){var p=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Kr(l,a),kn(a),4&y){try{Ua(3,a,a.return),Uu(3,a)}catch($){Qe(a,a.return,$)}try{Ua(5,a,a.return)}catch($){Qe(a,a.return,$)}}break;case 1:Kr(l,a),kn(a),512&y&&p!==null&&mo(p,p.return);break;case 5:if(Kr(l,a),kn(a),512&y&&p!==null&&mo(p,p.return),be){if(32&a.flags){var _=a.stateNode;try{lv(_)}catch($){Qe(a,a.return,$)}}if(4&y&&(_=a.stateNode)!=null){var w=a.memoizedProps;if(p=p!==null?p.memoizedProps:w,y=a.type,l=a.updateQueue,a.updateQueue=null,l!==null)try{fT(_,l,y,p,w,a)}catch($){Qe(a,a.return,$)}}}break;case 6:if(Kr(l,a),kn(a),4&y&&be){if(a.stateNode===null)throw Error(s(162));_=a.stateNode,w=a.memoizedProps,p=p!==null?p.memoizedProps:w;try{hT(_,p,w)}catch($){Qe(a,a.return,$)}}break;case 3:if(Kr(l,a),kn(a),4&y){if(be&&Re&&p!==null&&p.memoizedState.isDehydrated)try{BT(l.containerInfo)}catch($){Qe(a,a.return,$)}if(He){_=l.containerInfo,w=l.pendingChildren;try{Bd(_,w)}catch($){Qe(a,a.return,$)}}}break;case 4:if(Kr(l,a),kn(a),4&y&&He){_=(w=a.stateNode).containerInfo,w=w.pendingChildren;try{Bd(_,w)}catch($){Qe(a,a.return,$)}}break;case 13:Kr(l,a),kn(a),8192&(_=a.child).flags&&(w=_.memoizedState!==null,_.stateNode.isHidden=w,!w||_.alternate!==null&&_.alternate.memoizedState!==null||(Gf=St())),4&y&&R0(a);break;case 22:var C=p!==null&&p.memoizedState!==null;if(1&a.mode?(Ht=(p=Ht)||C,Kr(l,a),Ht=p):Kr(l,a),kn(a),8192&y){if(p=a.memoizedState!==null,(a.stateNode.isHidden=p)&&!C&&(1&a.mode)!=0)for(ae=a,y=a.child;y!==null;){for(l=ae=y;ae!==null;){var P=(C=ae).child;switch(C.tag){case 0:case 11:case 14:case 15:Ua(4,C,C.return);break;case 1:mo(C,C.return);var F=C.stateNode;if(typeof F.componentWillUnmount=="function"){var z=C,V=C.return;try{var te=z;F.props=te.memoizedProps,F.state=te.memoizedState,F.componentWillUnmount()}catch($){Qe(z,V,$)}}break;case 5:mo(C,C.return);break;case 22:if(C.memoizedState!==null){N0(l);continue}}P!==null?(P.return=C,ae=P):N0(l)}y=y.sibling}if(be){e:if(y=null,be)for(l=a;;){if(l.tag===5){if(y===null){y=l;try{_=l.stateNode,p?vT(_):xT(l.stateNode,l.memoizedProps)}catch($){Qe(a,a.return,$)}}}else if(l.tag===6){if(y===null)try{w=l.stateNode,p?_T(w):wT(w,l.memoizedProps)}catch($){Qe(a,a.return,$)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;y===l&&(y=null),l=l.return}y===l&&(y=null),l.sibling.return=l.return,l=l.sibling}}}break;case 19:Kr(l,a),kn(a),4&y&&R0(a);break;case 21:break;default:Kr(l,a),kn(a)}}function kn(a){var l=a.flags;if(2&l){try{if(be){e:{for(var p=a.return;p!==null;){if(P0(p)){var y=p;break e}p=p.return}throw Error(s(160))}switch(y.tag){case 5:var _=y.stateNode;32&y.flags&&(lv(_),y.flags&=-33),Df(a,I0(a),_);break;case 3:case 4:var w=y.stateNode.containerInfo;Mf(a,I0(a),w);break;default:throw Error(s(161))}}}catch(C){Qe(a,a.return,C)}a.flags&=-3}4096&l&&(a.flags&=-4097)}function dA(a,l,p){ae=a,M0(a)}function M0(a,l,p){for(var y=(1&a.mode)!=0;ae!==null;){var _=ae,w=_.child;if(_.tag===22&&y){var C=_.memoizedState!==null||Lu;if(!C){var P=_.alternate,F=P!==null&&P.memoizedState!==null||Ht;P=Lu;var z=Ht;if(Lu=C,(Ht=F)&&!z)for(ae=_;ae!==null;)F=(C=ae).child,C.tag===22&&C.memoizedState!==null?O0(_):F!==null?(F.return=C,ae=F):O0(_);for(;w!==null;)ae=w,M0(w),w=w.sibling;ae=_,Lu=P,Ht=z}D0(a)}else 8772&_.subtreeFlags&&w!==null?(w.return=_,ae=w):D0(a)}}function D0(a){for(;ae!==null;){var l=ae;if(8772&l.flags){var p=l.alternate;try{if(8772&l.flags)switch(l.tag){case 0:case 11:case 15:Ht||Uu(5,l);break;case 1:var y=l.stateNode;if(4&l.flags&&!Ht)if(p===null)y.componentDidMount();else{var _=l.elementType===l.type?p.memoizedProps:qr(l.type,p.memoizedProps);y.componentDidUpdate(_,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&kv(l,w,y);break;case 3:var C=l.updateQueue;if(C!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=oe(l.child.stateNode);break;case 1:p=l.child.stateNode}kv(l,C,p)}break;case 5:var P=l.stateNode;p===null&&4&l.flags&&dT(P,l.type,l.memoizedProps,l);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Re&&l.memoizedState===null){var F=l.alternate;if(F!==null){var z=F.memoizedState;if(z!==null){var V=z.dehydrated;V!==null&&LT(V)}}}break;default:throw Error(s(163))}Ht||512&l.flags&&kf(l)}catch(te){Qe(l,l.return,te)}}if(l===a){ae=null;break}if((p=l.sibling)!==null){p.return=l.return,ae=p;break}ae=l.return}}function N0(a){for(;ae!==null;){var l=ae;if(l===a){ae=null;break}var p=l.sibling;if(p!==null){p.return=l.return,ae=p;break}ae=l.return}}function O0(a){for(;ae!==null;){var l=ae;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{Uu(4,l)}catch(F){Qe(l,p,F)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var _=l.return;try{y.componentDidMount()}catch(F){Qe(l,_,F)}}var w=l.return;try{kf(l)}catch(F){Qe(l,w,F)}break;case 5:var C=l.return;try{kf(l)}catch(F){Qe(l,C,F)}}}catch(F){Qe(l,l.return,F)}if(l===a){ae=null;break}var P=l.sibling;if(P!==null){P.return=l.return,ae=P;break}ae=l.return}}var zu=0,Gu=1,Hu=2,$u=3,ju=4;if(typeof Symbol=="function"&&Symbol.for){var za=Symbol.for;zu=za("selector.component"),Gu=za("selector.has_pseudo_class"),Hu=za("selector.role"),$u=za("selector.test_id"),ju=za("selector.text")}function Of(a){var l=Pr(a);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(s(364));return l}if((a=nT(a))===null)throw Error(s(362));return a.stateNode.current}function Ff(a,l){switch(l.$$typeof){case zu:if(a.type===l.value)return!0;break;case Gu:e:{l=l.value,a=[a,0];for(var p=0;p<a.length;){var y=a[p++],_=a[p++],w=l[_];if(y.tag!==5||!Ea(y)){for(;w!=null&&Ff(y,w);)w=l[++_];if(_===l.length){l=!0;break e}for(y=y.child;y!==null;)a.push(y,_),y=y.sibling}}l=!1}return l;case Hu:if(a.tag===5&&oT(a.stateNode,l.value))return!0;break;case ju:if((a.tag===5||a.tag===6)&&(a=sT(a))!==null&&0<=a.indexOf(l.value))return!0;break;case $u:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===l.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Bf(a){switch(a.$$typeof){case zu:return"<"+(O(a.value)||"Unknown")+">";case Gu:return":has("+(Bf(a)||"")+")";case Hu:return'[role="'+a.value+'"]';case ju:return'"'+a.value+'"';case $u:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function F0(a,l){var p=[];a=[a,0];for(var y=0;y<a.length;){var _=a[y++],w=a[y++],C=l[w];if(_.tag!==5||!Ea(_)){for(;C!=null&&Ff(_,C);)C=l[++w];if(w===l.length)p.push(_);else for(_=_.child;_!==null;)a.push(_,w),_=_.sibling}}return p}function Lf(a,l){if(!ba)throw Error(s(363));a=F0(a=Of(a),l),l=[],a=Array.from(a);for(var p=0;p<a.length;){var y=a[p++];if(y.tag===5)Ea(y)||l.push(y.stateNode);else for(y=y.child;y!==null;)a.push(y),y=y.sibling}return l}var fA=Math.ceil,Vu=o.ReactCurrentDispatcher,Uf=o.ReactCurrentOwner,ut=o.ReactCurrentBatchConfig,Ce=0,Tt=null,pt=null,Mt=0,yr=0,go=Si(0),yt=0,Ga=null,_s=0,Wu=0,zf=0,Ha=null,vr=null,Gf=0,Hf=1/0,Ai=null;function yo(){Hf=St()+500}var B0,Xu=!1,$f=null,Ci=null,Yu=!1,Pi=null,Qu=0,$a=0,jf=null,qu=-1,Ku=0;function $t(){return 6&Ce?St():qu!==-1?qu:qu=St()}function Ii(a){return 1&a.mode?2&Ce&&Mt!==0?Mt&-Mt:ZT.transition!==null?(Ku===0&&(Ku=yv()),Ku):(a=ke)!==0?a:fs():1}function Fr(a,l,p,y){if(50<$a)throw $a=0,jf=null,Error(s(185));Ca(a,p,y),2&Ce&&a===Tt||(a===Tt&&(!(2&Ce)&&(Wu|=p),yt===4&&Ri(a,Mt)),ar(a,y),p===1&&Ce===0&&!(1&l.mode)&&(yo(),yu&&bn()))}function ar(a,l){var p=a.callbackNode;(function(_,w){for(var C=_.suspendedLanes,P=_.pingedLanes,F=_.expirationTimes,z=_.pendingLanes;0<z;){var V=31-Xr(z),te=1<<V,$=F[V];$===-1?te&C&&!(te&P)||(F[V]=XT(te,w)):$<=w&&(_.expiredLanes|=te),z&=~te}})(a,l);var y=mu(a,a===Tt?Mt:0);if(y===0)p!==null&&_v(p),a.callbackNode=null,a.callbackPriority=0;else if(l=y&-y,a.callbackPriority!==l){if(p!=null&&_v(p),l===1)a.tag===0?function(_){yu=!0,wv(_)}(U0.bind(null,a)):wv(U0.bind(null,a)),ro?rT(function(){!(6&Ce)&&bn()}):Yd(Qd,bn),p=null;else{switch(vv(y)){case 1:p=Qd;break;case 4:p=qT;break;case 16:default:p=xv;break;case 536870912:p=KT}p=X0(p,L0.bind(null,a))}a.callbackPriority=l,a.callbackNode=p}}function L0(a,l){if(qu=-1,Ku=0,(6&Ce)!=0)throw Error(s(327));var p=a.callbackNode;if(ws()&&a.callbackNode!==p)return null;var y=mu(a,a===Tt?Mt:0);if(y===0)return null;if(30&y||y&a.expiredLanes||l)l=Zu(a,y);else{l=y;var _=Ce;Ce|=2;var w=H0();for(Tt===a&&Mt===l||(Ai=null,yo(),xs(a,l));;)try{mA();break}catch(P){G0(a,P)}nf(),Vu.current=w,Ce=_,pt!==null?l=0:(Tt=null,Mt=0,l=yt)}if(l!==0){if(l===2&&(_=Vd(a))!==0&&(y=_,l=Vf(a,_)),l===1)throw p=Ga,xs(a,0),Ri(a,y),ar(a,St()),p;if(l===6)Ri(a,y);else{if(_=a.current.alternate,(30&y)==0&&!function(P){for(var F=P;;){if(16384&F.flags){var z=F.updateQueue;if(z!==null&&(z=z.stores)!==null)for(var V=0;V<z.length;V++){var te=z[V],$=te.getSnapshot;te=te.value;try{if(!Yr($(),te))return!1}catch{return!1}}}if(z=F.child,16384&F.subtreeFlags&&z!==null)z.return=F,F=z;else{if(F===P)break;for(;F.sibling===null;){if(F.return===null||F.return===P)return!0;F=F.return}F.sibling.return=F.return,F=F.sibling}}return!0}(_)&&((l=Zu(a,y))===2&&(w=Vd(a))!==0&&(y=w,l=Vf(a,w)),l===1))throw p=Ga,xs(a,0),Ri(a,y),ar(a,St()),p;switch(a.finishedWork=_,a.finishedLanes=y,l){case 0:case 1:throw Error(s(345));case 2:case 5:vo(a,vr,Ai);break;case 3:if(Ri(a,y),(130023424&y)===y&&10<(l=Gf+500-St())){if(mu(a,0)!==0)break;if(((_=a.suspendedLanes)&y)!==y){$t(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=De(vo.bind(null,a,vr,Ai),l);break}vo(a,vr,Ai);break;case 4:if(Ri(a,y),(4194240&y)===y)break;for(l=a.eventTimes,_=-1;0<y;){var C=31-Xr(y);w=1<<C,(C=l[C])>_&&(_=C),y&=~w}if(y=_,10<(y=(120>(y=St()-y)?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*fA(y/1960))-y)){a.timeoutHandle=De(vo.bind(null,a,vr,Ai),y);break}vo(a,vr,Ai);break;default:throw Error(s(329))}}}return ar(a,St()),a.callbackNode===p?L0.bind(null,a):null}function Vf(a,l){var p=Ha;return a.current.memoizedState.isDehydrated&&(xs(a,l).flags|=256),(a=Zu(a,l))!==2&&(l=vr,vr=p,l!==null&&Wf(l)),a}function Wf(a){vr===null?vr=a:vr.push.apply(vr,a)}function Ri(a,l){for(l&=~zf,l&=~Wu,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var p=31-Xr(l),y=1<<p;a[p]=-1,l&=~y}}function U0(a){if(6&Ce)throw Error(s(327));ws();var l=mu(a,0);if(!(1&l))return ar(a,St()),null;var p=Zu(a,l);if(a.tag!==0&&p===2){var y=Vd(a);y!==0&&(l=y,p=Vf(a,y))}if(p===1)throw p=Ga,xs(a,0),Ri(a,l),ar(a,St()),p;if(p===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,vo(a,vr,Ai),ar(a,St()),null}function z0(a){Pi!==null&&Pi.tag===0&&!(6&Ce)&&ws();var l=Ce;Ce|=1;var p=ut.transition,y=ke;try{if(ut.transition=null,ke=1,a)return a()}finally{ke=y,ut.transition=p,!(6&(Ce=l))&&bn()}}function Xf(){yr=go.current,Xe(go)}function xs(a,l){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==kt&&(a.timeoutHandle=kt,wt(p)),pt!==null)for(p=pt.return;p!==null;){var y=p;switch(Zd(y),y.tag){case 1:(y=y.type.childContextTypes)!=null&&Hd();break;case 3:fo(),Xe(ir),Xe(zt),pf();break;case 5:df(y);break;case 4:fo();break;case 13:case 19:Xe(ot);break;case 10:sf(y.type._context);break;case 22:case 23:Xf()}p=p.return}if(Tt=a,pt=a=ki(a.current,null),Mt=yr=l,yt=0,Ga=null,zf=Wu=_s=0,vr=Ha=null,ys!==null){for(l=0;l<ys.length;l++)if((y=(p=ys[l]).interleaved)!==null){p.interleaved=null;var _=y.next,w=p.pending;if(w!==null){var C=w.next;w.next=_,y.next=C}p.pending=y}ys=null}return a}function G0(a,l){for(;;){var p=pt;try{if(nf(),Iu.current=Du,Ru){for(var y=Je.memoizedState;y!==null;){var _=y.queue;_!==null&&(_.pending=null),y=y.next}Ru=!1}if(vs=0,Et=bt=Je=null,Ma=!1,Da=0,Uf.current=null,p===null||p.return===null){yt=1,Ga=l,pt=null;break}e:{var w=a,C=p.return,P=p,F=l;if(l=Mt,P.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var z=F,V=P,te=V.tag;if(!(1&V.mode)&&(te===0||te===11||te===15)){var $=V.alternate;$?(V.updateQueue=$.updateQueue,V.memoizedState=$.memoizedState,V.lanes=$.lanes):(V.updateQueue=null,V.memoizedState=null)}var Z=c0(C);if(Z!==null){Z.flags&=-257,h0(Z,C,P,0,l),1&Z.mode&&u0(w,z,l),F=z;var ue=(l=Z).updateQueue;if(ue===null){var xe=new Set;xe.add(F),l.updateQueue=xe}else ue.add(F);break e}if(!(1&l)){u0(w,z,l),Yf();break e}F=Error(s(426))}else if(Ye&&1&P.mode){var W=c0(C);if(W!==null){!(65536&W.flags)&&(W.flags|=256),h0(W,C,P,0,l),tf(po(F,P));break e}}w=F=po(F,P),yt!==4&&(yt=2),Ha===null?Ha=[w]:Ha.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l,Rv(w,a0(0,F,l));break e;case 1:P=F;var k=w.type,U=w.stateNode;if(!(128&w.flags)&&(typeof k.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Ci===null||!Ci.has(U)))){w.flags|=65536,l&=-l,w.lanes|=l,Rv(w,l0(w,P,l));break e}}w=w.return}while(w!==null)}j0(p)}catch(Q){l=Q,pt===p&&p!==null&&(pt=p=p.return);continue}break}}function H0(){var a=Vu.current;return Vu.current=Du,a===null?Du:a}function Yf(){yt!==0&&yt!==3&&yt!==2||(yt=4),Tt===null||!(268435455&_s)&&!(268435455&Wu)||Ri(Tt,Mt)}function Zu(a,l){var p=Ce;Ce|=2;var y=H0();for(Tt===a&&Mt===l||(Ai=null,xs(a,l));;)try{pA();break}catch(_){G0(a,_)}if(nf(),Ce=p,Vu.current=y,pt!==null)throw Error(s(261));return Tt=null,Mt=0,yt}function pA(){for(;pt!==null;)$0(pt)}function mA(){for(;pt!==null&&!YT();)$0(pt)}function $0(a){var l=B0(a.alternate,a,yr);a.memoizedProps=a.pendingProps,l===null?j0(a):pt=l,Uf.current=null}function j0(a){var l=a;do{var p=l.alternate;if(a=l.return,(32768&l.flags)==0){if((p=uA(p,l,yr))!==null)return void(pt=p)}else{if((p=cA(p,l))!==null)return p.flags&=32767,void(pt=p);if(a===null)return yt=6,void(pt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((l=l.sibling)!==null)return void(pt=l);pt=l=a}while(l!==null);yt===0&&(yt=5)}function vo(a,l,p){var y=ke,_=ut.transition;try{ut.transition=null,ke=1,function(w,C,P,F){do ws();while(Pi!==null);if(6&Ce)throw Error(s(327));P=w.finishedWork;var z=w.finishedLanes;if(P===null)return null;if(w.finishedWork=null,w.finishedLanes=0,P===w.current)throw Error(s(177));w.callbackNode=null,w.callbackPriority=0;var V=P.lanes|P.childLanes;if(function(Z,ue){var xe=Z.pendingLanes&~ue;Z.pendingLanes=ue,Z.suspendedLanes=0,Z.pingedLanes=0,Z.expiredLanes&=ue,Z.mutableReadLanes&=ue,Z.entangledLanes&=ue,ue=Z.entanglements;var W=Z.eventTimes;for(Z=Z.expirationTimes;0<xe;){var k=31-Xr(xe),U=1<<k;ue[k]=0,W[k]=-1,Z[k]=-1,xe&=~U}}(w,V),w===Tt&&(pt=Tt=null,Mt=0),!(2064&P.subtreeFlags)&&!(2064&P.flags)||Yu||(Yu=!0,X0(xv,function(){return ws(),null})),V=(15990&P.flags)!=0,(15990&P.subtreeFlags)!=0||V){V=ut.transition,ut.transition=null;var te=ke;ke=1;var $=Ce;Ce|=4,Uf.current=null,function(Z,ue){for(X(Z.containerInfo),ae=ue;ae!==null;)if(ue=(Z=ae).child,(1028&Z.subtreeFlags)!=0&&ue!==null)ue.return=Z,ae=ue;else for(;ae!==null;){Z=ae;try{var xe=Z.alternate;if(1024&Z.flags)switch(Z.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(xe!==null){var W=xe.memoizedProps,k=xe.memoizedState,U=Z.stateNode,Q=U.getSnapshotBeforeUpdate(Z.elementType===Z.type?W:qr(Z.type,W),k);U.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:be&&ST(Z.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(pe){Qe(Z,Z.return,pe)}if((ue=Z.sibling)!==null){ue.return=Z.return,ae=ue;break}ae=Z.return}xe=A0,A0=!1}(w,P),k0(P,w),D(w.containerInfo),w.current=P,dA(P),QT(),Ce=$,ke=te,ut.transition=V}else w.current=P;if(Yu&&(Yu=!1,Pi=w,Qu=z),V=w.pendingLanes,V===0&&(Ci=null),function(Z){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(gu,Z,void 0,(128&Z.current.flags)==128)}catch{}}(P.stateNode),ar(w,St()),C!==null)for(F=w.onRecoverableError,P=0;P<C.length;P++)z=C[P],F(z.value,{componentStack:z.stack,digest:z.digest});if(Xu)throw Xu=!1,w=$f,$f=null,w;1&Qu&&w.tag!==0&&ws(),V=w.pendingLanes,1&V?w===jf?$a++:($a=0,jf=w):$a=0,bn()}(a,l,p,y)}finally{ut.transition=_,ke=y}return null}function ws(){if(Pi!==null){var a=vv(Qu),l=ut.transition,p=ke;try{if(ut.transition=null,ke=16>a?16:a,Pi===null)var y=!1;else{if(a=Pi,Pi=null,Qu=0,(6&Ce)!=0)throw Error(s(331));var _=Ce;for(Ce|=4,ae=a.current;ae!==null;){var w=ae,C=w.child;if(16&ae.flags){var P=w.deletions;if(P!==null){for(var F=0;F<P.length;F++){var z=P[F];for(ae=z;ae!==null;){var V=ae;switch(V.tag){case 0:case 11:case 15:Ua(8,V,w)}var te=V.child;if(te!==null)te.return=V,ae=te;else for(;ae!==null;){var $=(V=ae).sibling,Z=V.return;if(C0(V),V===z){ae=null;break}if($!==null){$.return=Z,ae=$;break}ae=Z}}}var ue=w.alternate;if(ue!==null){var xe=ue.child;if(xe!==null){ue.child=null;do{var W=xe.sibling;xe.sibling=null,xe=W}while(xe!==null)}}ae=w}}if(2064&w.subtreeFlags&&C!==null)C.return=w,ae=C;else e:for(;ae!==null;){if(2048&(w=ae).flags)switch(w.tag){case 0:case 11:case 15:Ua(9,w,w.return)}var k=w.sibling;if(k!==null){k.return=w.return,ae=k;break e}ae=w.return}}var U=a.current;for(ae=U;ae!==null;){var Q=(C=ae).child;if(2064&C.subtreeFlags&&Q!==null)Q.return=C,ae=Q;else e:for(C=U;ae!==null;){if(2048&(P=ae).flags)try{switch(P.tag){case 0:case 11:case 15:Uu(9,P)}}catch(Oe){Qe(P,P.return,Oe)}if(P===C){ae=null;break e}var pe=P.sibling;if(pe!==null){pe.return=P.return,ae=pe;break e}ae=P.return}}if(Ce=_,bn(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(gu,a)}catch{}y=!0}return y}finally{ke=p,ut.transition=l}}return!1}function V0(a,l,p){a=Ti(a,l=a0(0,l=po(p,l),1),1),l=$t(),a!==null&&(Ca(a,1,l),ar(a,l))}function Qe(a,l,p){if(a.tag===3)V0(a,a,p);else for(;l!==null;){if(l.tag===3){V0(l,a,p);break}if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ci===null||!Ci.has(y))){l=Ti(l,a=l0(l,a=po(p,a),1),1),a=$t(),l!==null&&(Ca(l,1,a),ar(l,a));break}}l=l.return}}function gA(a,l,p){var y=a.pingCache;y!==null&&y.delete(l),l=$t(),a.pingedLanes|=a.suspendedLanes&p,Tt===a&&(Mt&p)===p&&(yt===4||yt===3&&(130023424&Mt)===Mt&&500>St()-Gf?xs(a,0):zf|=p),ar(a,l)}function W0(a,l){l===0&&(1&a.mode?(l=jd,!(130023424&(jd<<=1))&&(jd=4194304)):l=1);var p=$t();(a=Tn(a,l))!==null&&(Ca(a,l,p),ar(a,p))}function yA(a){var l=a.memoizedState,p=0;l!==null&&(p=l.retryLane),W0(a,p)}function vA(a,l){var p=0;switch(a.tag){case 13:var y=a.stateNode,_=a.memoizedState;_!==null&&(p=_.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(s(314))}y!==null&&y.delete(l),W0(a,p)}function X0(a,l){return Yd(a,l)}function _A(a,l,p,y){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(a,l,p,y){return new _A(a,l,p,y)}function Qf(a){return!(!(a=a.prototype)||!a.isReactComponent)}function ki(a,l){var p=a.alternate;return p===null?((p=Br(a.tag,l,a.key,a.mode)).elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=l,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=14680064&a.flags,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,l=a.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function Ju(a,l,p,y,_,w){var C=2;if(y=a,typeof a=="function")Qf(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case f:return Ss(p.children,_,w,l);case m:C=8,_|=8;break;case c:return(a=Br(12,p,l,2|_)).elementType=c,a.lanes=w,a;case S:return(a=Br(13,p,l,_)).elementType=S,a.lanes=w,a;case T:return(a=Br(19,p,l,_)).elementType=T,a.lanes=w,a;case E:return ec(p,_,w,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case d:C=10;break e;case g:C=9;break e;case v:C=11;break e;case x:C=14;break e;case b:C=16,y=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(l=Br(C,p,l,_)).elementType=a,l.type=y,l.lanes=w,l}function Ss(a,l,p,y){return(a=Br(7,a,y,l)).lanes=p,a}function ec(a,l,p,y){return(a=Br(22,a,y,l)).elementType=E,a.lanes=p,a.stateNode={isHidden:!1},a}function qf(a,l,p){return(a=Br(6,a,null,l)).lanes=p,a}function Kf(a,l,p){return(l=Br(4,a.children!==null?a.children:[],a.key,l)).lanes=p,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function xA(a,l,p,y,_){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=kt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wd(0),this.expirationTimes=Wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wd(0),this.identifierPrefix=y,this.onRecoverableError=_,Re&&(this.mutableSourceEagerHydrationData=null)}function Y0(a,l,p,y,_,w,C,P,F){return a=new xA(a,l,p,P,F),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Br(3,null,null,l),a.current=w,w.stateNode=a,w.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},lf(w),a}function Q0(a){if(!a)return bi;e:{if(R(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(mr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(s(171))}if(a.tag===1){var p=a.type;if(mr(p))return mv(a,p,l)}return l}function q0(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=j(l))===null?null:a.stateNode}function K0(a,l){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<l?p:l}}function tc(a,l){K0(a,l),(a=a.alternate)&&K0(a,l)}function wA(a){return(a=j(a))===null?null:a.stateNode}function SA(){return null}return B0=function(a,l,p){if(a!==null)if(a.memoizedProps!==l.pendingProps||ir.current)sr=!0;else{if(!(a.lanes&p)&&!(128&l.flags))return sr=!1,function(te,$,Z){switch($.tag){case 3:v0($),ao();break;case 5:Uv($);break;case 1:mr($.type)&&pu($);break;case 4:hf($,$.stateNode.containerInfo);break;case 10:Cv(0,$.type._context,$.memoizedProps.value);break;case 13:var ue=$.memoizedState;if(ue!==null)return ue.dehydrated!==null?(Ue(ot,1&ot.current),$.flags|=128,null):Z&$.child.childLanes?x0(te,$,Z):(Ue(ot,1&ot.current),(te=Jn(te,$,Z))!==null?te.sibling:null);Ue(ot,1&ot.current);break;case 19:if(ue=(Z&$.childLanes)!=0,(128&te.flags)!=0){if(ue)return S0(te,$,Z);$.flags|=128}var xe=$.memoizedState;if(xe!==null&&(xe.rendering=null,xe.tail=null,xe.lastEffect=null),Ue(ot,ot.current),ue)break;return null;case 22:case 23:return $.lanes=0,m0(te,$,Z)}return Jn(te,$,Z)}(a,l,p);sr=(131072&a.flags)!=0}else sr=!1,Ye&&1048576&l.flags&&Sv(l,_u,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;Bu(a,l),a=l.pendingProps;var _=io(l,zt.current);uo(l,p),_=yf(null,l,y,a,_,p);var w=vf();return l.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,mr(y)?(w=!0,pu(l)):w=!1,l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,lf(l),_.updater=Au,l.stateNode=_,_._reactInternals=l,cf(l,y,a,p),l=Af(null,l,y,!0,w,p)):(l.tag=0,Ye&&w&&Kd(l),or(null,l,_,p),l=l.child),l;case 16:y=l.elementType;e:{switch(Bu(a,l),a=l.pendingProps,y=(_=y._init)(y._payload),l.type=y,_=l.tag=function(te){if(typeof te=="function")return Qf(te)?1:0;if(te!=null){if((te=te.$$typeof)===v)return 11;if(te===x)return 14}return 2}(y),a=qr(y,a),_){case 0:l=Tf(null,l,y,a,p);break e;case 1:l=y0(null,l,y,a,p);break e;case 11:l=d0(null,l,y,a,p);break e;case 14:l=f0(null,l,y,qr(y.type,a),p);break e}throw Error(s(306,y,""))}return l;case 0:return y=l.type,_=l.pendingProps,Tf(a,l,y,_=l.elementType===y?_:qr(y,_),p);case 1:return y=l.type,_=l.pendingProps,y0(a,l,y,_=l.elementType===y?_:qr(y,_),p);case 3:e:{if(v0(l),a===null)throw Error(s(387));y=l.pendingProps,_=(w=l.memoizedState).element,Iv(a,l),Tu(l,y,null,p);var C=l.memoizedState;if(y=C.element,Re&&w.isDehydrated){if(w={element:y,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},l.updateQueue.baseState=w,l.memoizedState=w,256&l.flags){l=_0(a,l,y,p,_=po(Error(s(423)),l));break e}if(y!==_){l=_0(a,l,y,p,_=po(Error(s(424)),l));break e}for(Re&&(Mr=kT(l.stateNode.containerInfo),gr=l,Ye=!0,Qr=null,Pa=!1),p=Lv(l,null,y,p),l.child=p;p;)p.flags=-3&p.flags|4096,p=p.sibling}else{if(ao(),y===_){l=Jn(a,l,p);break e}or(a,l,y,p)}l=l.child}return l;case 5:return Uv(l),a===null&&ef(l),y=l.type,_=l.pendingProps,w=a!==null?a.memoizedProps:null,C=_.children,Ne(y,_)?C=null:w!==null&&Ne(y,w)&&(l.flags|=32),g0(a,l),or(a,l,C,p),l.child;case 6:return a===null&&ef(l),null;case 13:return x0(a,l,p);case 4:return hf(l,l.stateNode.containerInfo),y=l.pendingProps,a===null?l.child=co(l,null,y,p):or(a,l,y,p),l.child;case 11:return y=l.type,_=l.pendingProps,d0(a,l,y,_=l.elementType===y?_:qr(y,_),p);case 7:return or(a,l,l.pendingProps,p),l.child;case 8:case 12:return or(a,l,l.pendingProps.children,p),l.child;case 10:e:{if(y=l.type._context,_=l.pendingProps,w=l.memoizedProps,Cv(0,y,C=_.value),w!==null)if(Yr(w.value,C)){if(w.children===_.children&&!ir.current){l=Jn(a,l,p);break e}}else for((w=l.child)!==null&&(w.return=l);w!==null;){var P=w.dependencies;if(P!==null){C=w.child;for(var F=P.firstContext;F!==null;){if(F.context===y){if(w.tag===1){(F=Zn(-1,p&-p)).tag=2;var z=w.updateQueue;if(z!==null){var V=(z=z.shared).pending;V===null?F.next=F:(F.next=V.next,V.next=F),z.pending=F}}w.lanes|=p,(F=w.alternate)!==null&&(F.lanes|=p),of(w.return,p,l),P.lanes|=p;break}F=F.next}}else if(w.tag===10)C=w.type===l.type?null:w.child;else if(w.tag===18){if((C=w.return)===null)throw Error(s(341));C.lanes|=p,(P=C.alternate)!==null&&(P.lanes|=p),of(C,p,l),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===l){C=null;break}if((w=C.sibling)!==null){w.return=C.return,C=w;break}C=C.return}w=C}or(a,l,_.children,p),l=l.child}return l;case 9:return _=l.type,y=l.pendingProps.children,uo(l,p),y=y(_=Dr(_)),l.flags|=1,or(a,l,y,p),l.child;case 14:return _=qr(y=l.type,l.pendingProps),f0(a,l,y,_=qr(y.type,_),p);case 15:return p0(a,l,l.type,l.pendingProps,p);case 17:return y=l.type,_=l.pendingProps,_=l.elementType===y?_:qr(y,_),Bu(a,l),l.tag=1,mr(y)?(a=!0,pu(l)):a=!1,uo(l,p),Nv(l,y,_),cf(l,y,_,p),Af(null,l,y,!0,a,p);case 19:return S0(a,l,p);case 22:return m0(a,l,p)}throw Error(s(156,l.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var l=Tn(a,134217728);l!==null&&Fr(l,a,134217728,$t()),tc(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var l=Tn(a,1);l!==null&&Fr(l,a,1,$t()),tc(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var l=Ii(a),p=Tn(a,l);p!==null&&Fr(p,a,l,$t()),tc(a,l)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var p=Aa(l.pendingLanes);p!==0&&(Xd(l,1|p),ar(l,St()),!(6&Ce)&&(yo(),bn()))}break;case 13:z0(function(){var y=Tn(a,1);if(y!==null){var _=$t();Fr(y,a,1,_)}}),tc(a,1)}},e.batchedUpdates=function(a,l){var p=Ce;Ce|=1;try{return a(l)}finally{(Ce=p)===0&&(yo(),yu&&bn())}},e.createComponentSelector=function(a){return{$$typeof:zu,value:a}},e.createContainer=function(a,l,p,y,_,w,C){return Y0(a,l,!1,null,0,y,0,w,C)},e.createHasPseudoClassSelector=function(a){return{$$typeof:Gu,value:a}},e.createHydrationContainer=function(a,l,p,y,_,w,C,P,F){return(a=Y0(p,y,!0,a,0,w,0,P,F)).context=Q0(null),p=a.current,(w=Zn(y=$t(),_=Ii(p))).callback=l??null,Ti(p,w,_),a.current.lanes=_,Ca(a,_,y),ar(a,y),a},e.createPortal=function(a,l,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:y==null?null:""+y,children:a,containerInfo:l,implementation:p}},e.createRoleSelector=function(a){return{$$typeof:Hu,value:a}},e.createTestNameSelector=function(a){return{$$typeof:$u,value:a}},e.createTextSelector=function(a){return{$$typeof:ju,value:a}},e.deferredUpdates=function(a){var l=ke,p=ut.transition;try{return ut.transition=null,ke=16,a()}finally{ke=l,ut.transition=p}},e.discreteUpdates=function(a,l,p,y,_){var w=ke,C=ut.transition;try{return ut.transition=null,ke=1,a(l,p,y,_)}finally{ke=w,ut.transition=C,Ce===0&&yo()}},e.findAllNodes=Lf,e.findBoundingRects=function(a,l){if(!ba)throw Error(s(363));l=Lf(a,l),a=[];for(var p=0;p<l.length;p++)a.push(iT(l[p]));for(l=a.length-1;0<l;l--)for(var y=(p=a[l]).x,_=y+p.width,w=p.y,C=w+p.height,P=l-1;0<=P;P--)if(l!==P){var F=a[P],z=F.x,V=z+F.width,te=F.y,$=te+F.height;if(y>=z&&w>=te&&_<=V&&C<=$){a.splice(l,1);break}if(!(y!==z||p.width!==F.width||$<w||te>C)){te>w&&(F.height+=te-w,F.y=w),$<C&&(F.height=C-te),a.splice(l,1);break}if(!(w!==te||p.height!==F.height||V<y||z>_)){z>y&&(F.width+=z-y,F.x=y),V<_&&(F.width=_-z),a.splice(l,1);break}}return a},e.findHostInstance=q0,e.findHostInstanceWithNoPortals=function(a){return(a=(a=G(a))!==null?H(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return q0(a)},e.flushControlled=function(a){var l=Ce;Ce|=1;var p=ut.transition,y=ke;try{ut.transition=null,ke=1,a()}finally{ke=y,ut.transition=p,(Ce=l)===0&&(yo(),bn())}},e.flushPassiveEffects=ws,e.flushSync=z0,e.focusWithin=function(a,l){if(!ba)throw Error(s(363));for(l=F0(a=Of(a),l),l=Array.from(l),a=0;a<l.length;){var p=l[a++];if(!Ea(p)){if(p.tag===5&&aT(p.stateNode))return!0;for(p=p.child;p!==null;)l.push(p),p=p.sibling}}return!1},e.getCurrentUpdatePriority=function(){return ke},e.getFindAllNodesFailureDescription=function(a,l){if(!ba)throw Error(s(363));var p=0,y=[];a=[Of(a),0];for(var _=0;_<a.length;){var w=a[_++],C=a[_++],P=l[C];if((w.tag!==5||!Ea(w))&&(Ff(w,P)&&(y.push(Bf(P)),++C>p&&(p=C)),C<l.length))for(w=w.child;w!==null;)a.push(w,C),w=w.sibling}if(p<l.length){for(a=[];p<l.length;p++)a.push(Bf(l[p]));return`findAllNodes was able to match part of the selector:
  `+y.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?oe(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:wA,findFiberByHostInstance:a.findFiberByHostInstance||SA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)a=!0;else{try{gu=l.inject(a),Sn=l}catch{}a=!!l.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,l,p,y){if(!ba)throw Error(s(363));a=Lf(a,l);var _=lT(a,p,y).disconnect;return{disconnect:function(){_()}}},e.registerMutableSourceForHydration=function(a,l){var p=l._getVersion;p=p(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,p]:a.mutableSourceEagerHydrationData.push(l,p)},e.runWithPriority=function(a,l){var p=ke;try{return ke=a,l()}finally{ke=p}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,l,p,y){var _=l.current,w=$t(),C=Ii(_);return p=Q0(p),l.context===null?l.context=p:l.pendingContext=p,(l=Zn(w,C)).payload={element:a},(y=y===void 0?null:y)!==null&&(l.callback=y),(a=Ti(_,l,C))!==null&&(Fr(a,_,C,w),Eu(a,_,C)),C},e}),Mx}({get exports(){return Ug},set exports(t){Ug=t}}).exports=rD();var nD=I3(Ug),GE={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Gg={},zc={get exports(){return Gg},set exports(t){Gg=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?zc.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(zc.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(zc.exports=function(){return Date.now()-r},r=Date.now()):(zc.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(P3);var Ox,Vo={},Ts={};({get exports(){return Vo},set exports(t){Vo=t}}).exports=(Ox||(Ox=1,Ts.ConcurrentRoot=1,Ts.ContinuousEventPriority=4,Ts.DefaultEventPriority=16,Ts.DiscreteEventPriority=1,Ts.IdleEventPriority=536870912,Ts.LegacyRoot=0),Ts);var iD={};function lm(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function HE(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&_i(t.children).forEach(function(s){HE(s,t)})}function Fx(t,e){var r;HE(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,u=o===void 0||o,h=n.destroyTexture,f=h!==void 0&&h,m=n.destroyBaseTexture,c=m!==void 0&&m;s&&e.destroy({children:u,texture:f,baseTexture:c})}function Bx(t,e,r){lt(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var Lx=null,fn=nD({getRootHostContext:function(){return iD},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Vo.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Vo.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Vo.ContinuousEventPriority;default:return Vo.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=Z3[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=zE[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Xn)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return Lx=function(o,u,h,f){var m=null;for(var c in h)!f.hasOwnProperty(c)&&h.hasOwnProperty(c)&&h[c]!==null&&(c===Bg||(m||(m=[]),m.push(c,null)));for(var d in f){var g=f[d],v=h!==null?h[d]:void 0;!f.hasOwnProperty(d)||g===v||g===null&&v===null||d===Bg||(m||(m=[]),m.push(d,g))}return m}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){lt(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Gg,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=lm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=lm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=lm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Fx.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Fx.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:Bx,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Bx.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,u=t&&t.applyProps;typeof u!="function"&&(u=Xn),(u(t,n,i)||Lx)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),sD=GE.dependencies["react-dom"].replace(/[^0-9.]/g,""),oD=GE.name;fn.injectIntoDevTools({bundleType:0,version:sD,rendererPackageName:oD,findHostInstanceByFiber:fn.findHostInstance});var ts=new Map;function $E(t){if(lt(Kt.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),ts.has(t)){var e=ts.get(t).pixiFiberContainer;fn.updateContainer(null,e,void 0,function(){ts.delete(t)})}}function jE(t){lt(Kt.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=ts.get(t);if(lt(!e,"Pixi React: createRoot should only be called once"),!e){var r=fn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return fn.updateContainer(n,r,void 0),fn.getPublicRootInstance(r)},unmount:function(){$E(t),ts.delete(t)}}},ts.set(t,e)}return e.reactRoot}function aD(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),ts.has(e)?n=ts.get(e).reactRoot:n=jE(e),n.render(t)}function lD(t){$E(t)}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eu.apply(this,arguments)}function uD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BE(n.key),n)}}function ri(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kh(t,e){return Kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Kh(t,e)}function hD(t,e){if(e&&(Er(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ri(t)}function Zh(t){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zh(t)}var Nd=zn.createContext(null),VE=Nd.Provider,WE=Nd.Consumer,dD=function(t){var e=zn.forwardRef(function(r,n){return zn.createElement(WE,null,function(i){return zn.createElement(t,eu({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function fD(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Zh(t);if(e){var i=Zh(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return hD(this,r)}}function Ux(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ux(Object(r),!0).forEach(function(n){ct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ux(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zx=function(){},XE={width:je.number,height:je.number,onMount:je.func,onUnmount:je.func,raf:je.bool,renderOnComponentChange:je.bool,children:je.node,options:je.shape({autoStart:je.bool,width:je.number,height:je.number,useContextAlpha:je.bool,backgroundAlpha:je.number,autoDensity:je.bool,antialias:je.bool,preserveDrawingBuffer:je.bool,resolution:je.number,forceCanvas:je.bool,backgroundColor:je.number,clearBeforeRender:je.bool,powerPreference:je.string,sharedTicker:je.bool,sharedLoader:je.bool,resizeTo:function(t,e){var r=t[e];r&&lt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Er(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&lt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Er(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},pD={width:800,height:600,onMount:zx,onUnmount:zx,raf:!0,renderOnComponentChange:!0},Hg=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&Kh(s,o)})(i,zn.Component);var e,r,n=fD(i);function i(){var s;uD(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return ct(ri(s=n.call.apply(n,[this].concat(u))),"_canvas",null),ct(ri(s),"_mediaQuery",null),ct(ri(s),"_ticker",null),ct(ri(s),"_needsUpdate",!0),ct(ri(s),"app",null),ct(ri(s),"updateSize",function(){var f=s.props,m=f.width,c=f.height,d=f.options;d!=null&&d.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(m,c)}),ct(ri(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),ct(ri(s),"renderStage",function(){var f=s.props,m=f.renderOnComponentChange;!f.raf&&m&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,u=s.width,h=s.height,f=s.options,m=s.raf,c=s.renderOnComponentChange;this.app=new hu(Gc(Gc({width:u,height:h,view:this._canvas},f),{},{autoDensity:(f==null?void 0:f.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[m?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=fn.createContainer(this.app.stage),fn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),f!=null&&f.autoDensity&&window.matchMedia&&(f==null?void 0:f.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),c&&!m&&(this._ticker=new ft,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,u){var h,f=this.props,m=f.width,c=f.height,d=f.raf,g=f.renderOnComponentChange,v=f.options;(v==null?void 0:v.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(v==null?void 0:v.resolution)&&(this.app.renderer.resolution=v.resolution,this.resetInteractionManager()),s.height===c&&s.width===m&&((h=s.options)===null||h===void 0?void 0:h.resolution)===(v==null?void 0:v.resolution)||this.updateSize(),s.raf!==d&&this.app.ticker[d?"start":"stop"](),fn.updateContainer(this.getChildren(),this.mountNode,this),s.width===m&&s.height===c&&s.raf===d&&s.renderOnComponentChange===g&&s.options===v||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return zn.createElement(VE,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),fn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,u=this,h=this.props.options;return h&&h.view?(lt(h.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):zn.createElement("canvas",eu({},(s=this.props,o=[].concat(_i(Object.keys(XE)),_i(Object.keys(Lg))),Object.keys(s).filter(function(f){return!o.includes(f)}).reduce(function(f,m){return Gc(Gc({},f),{},ct({},m,s[m]))},{})),{ref:function(f){return u._canvas=f}}))}}])&&cD(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();Hg.propTypes=XE,Hg.defaultProps=pD;var mD=Hg;function YE(){var t=Ve.useContext(Nd);return lt(t instanceof hu,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function gD(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=YE();lt(typeof t=="function","`useTick` needs a callback function."),lt(r instanceof hu,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=Ve.useRef(null);Ve.useEffect(function(){n.current=t},[t]),Ve.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function yD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $g(t,e,r){return $g=yD()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var u=new(Function.bind.apply(n,o));return s&&Kh(u,s.prototype),u},$g.apply(null,arguments)}var vD=["children","apply"];function Gx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gx(Object(r),!0).forEach(function(n){ct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _D=function(t,e){lt(Er(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,u=ds(i,vD),h=Ve.useRef(Ve.useMemo(function(){return r.map(function(c){var d,g=(u==null||(d=u[c])===null||d===void 0?void 0:d.construct)||[];return $g(e[c],_i(g))})},[r])),f=Ve.useMemo(function(){return r.reduce(function(c,d,g){return Hc(Hc({},c),{},ct({},d,h.current[g]))},{})},[r]),m=Ve.useMemo(function(){return Object.keys(u).filter(UE(LE(r))).reduce(function(c,d){return Hc(Hc({},c),{},ct({},d,u[d]))},{})},[u,r]);return r.forEach(function(c,d){return Object.assign(h.current[d],u[c])}),o&&function(){for(var c=arguments.length,d=new Array(c),g=0;g<c;g++)d[g]=arguments[g];return d.every(function(v){return typeof v=="function"})}(o)&&o.call(t,f),zn.createElement(t,eu({},m,{filters:h.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:je.node,apply:je.func},n},xD=pr.BitmapText,wD=pr.Container,SD=pr.Graphics,bD=pr.NineSlicePlane,ED=pr.ParticleContainer,TD=pr.Sprite,AD=pr.AnimatedSprite,CD=pr.Text,PD=pr.TilingSprite,ID=pr.SimpleMesh,RD=pr.SimpleRope,kD=Object.freeze({__proto__:null,AnimatedSprite:AD,AppConsumer:WE,AppContext:Nd,AppProvider:VE,BitmapText:xD,Container:wD,Graphics:SD,NineSlicePlane:bD,ParticleContainer:ED,PixiComponent:J3,PixiFiber:fn,SimpleMesh:ID,SimpleRope:RD,Sprite:TD,Stage:mD,TYPES:pr,Text:CD,TilingSprite:PD,applyDefaultProps:Xn,createRoot:jE,eventHandlers:qh,render:aD,unmountComponentAtNode:lD,useApp:YE,useTick:gD,withFilters:_D,withPixiApp:dD}),MD=Kx(kD);hb.exports=MD;var $r=hb.exports;const QE=new Ke;Ze.prototype._cacheAsBitmap=!1;Ze.prototype._cacheData=null;Ze.prototype._cacheAsBitmapResolution=null;Ze.prototype._cacheAsBitmapMultisample=null;class DD{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Ze.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new DD),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Ze.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Ze.prototype._initCachedDisplayObject=function(e){var d,g;if((d=this._cacheData)!=null&&d.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const n=this.getLocalBounds(null,!0).clone();if((g=this.filters)!=null&&g.length){const v=this.filters[0].padding;n.pad(v)}n.ceil(ie.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),u=e.projection.transform,h=eo.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),f=`cacheAsBitmap_${qs()}`;this._cacheData.textureCacheId=f,ve.addToCache(h.baseTexture,f),ne.addToCache(h,f);const m=this.transform.localTransform.copyTo(QE).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:h,clear:!0,transform:m,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=u,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new Yn(h);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(n.x/n.width),c.anchor.y=-(n.y/n.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)};Ze.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Ze.prototype._initCachedDisplayObjectCanvas=function(e){var m;if((m=this._cacheData)!=null&&m.sprite)return;const r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;r.ceil(ie.RESOLUTION);const o=eo.create({width:r.width,height:r.height}),u=`cacheAsBitmap_${qs()}`;this._cacheData.textureCacheId=u,ve.addToCache(o.baseTexture,u),ne.addToCache(o,u);const h=QE;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=r.x,h.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:h,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const f=new Yn(o);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)};Ze.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Ze.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Ze.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ve.removeFromCache(this._cacheData.textureCacheId),ne.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Ze.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Ze.prototype.name=null;Kt.prototype.getChildByName=function(e,r){for(let n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Ze.prototype.getGlobalPosition=function(e=new Pe,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};var ND=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class OD extends Bt{constructor(e=1){super(iM,ND,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const FD={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},BD=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function LD(t){const e=FD[t],r=e.length;let n=BD,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let u=0;u<t;u++){let h=s.replace("%index%",u.toString());o=u,u>=r&&(o=t-u-1),h=h.replace("%value%",e[o].toString()),i+=h,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const UD=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function zD(t,e){const r=Math.ceil(t/2);let n=UD,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let u=s.replace("%index%",o.toString());u=u.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class jg extends Bt{constructor(e,r=8,n=4,i=Bt.defaultResolution,s=5){const o=zD(s,e),u=LD(s);super(o,u),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let u=r,h=s;this.state.blend=!1,e.applyFilter(this,u,h,Bn.CLEAR);for(let f=1;f<this.passes-1;f++){e.bindAndClear(u,Bn.BLIT),this.uniforms.uSampler=h;const m=h;h=u,u=m,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,h,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class GD extends Bt{constructor(e=8,r=4,n=Bt.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new jg(!0,e,r,n,i),this.blurYFilter=new jg(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const u=e.getFilterTexture();this.blurXFilter.apply(e,r,u,Bn.CLEAR),this.blurYFilter.apply(e,u,n,i),e.returnFilterTexture(u)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var HD=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Vg extends Bt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(yE,HD,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Be.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,u=s(o),h=n+(1-n)*o,f=o*(1-n)-u*i,m=o*(1-n)+u*i,c=o*(1-n)+u*i,d=n+o*(1-n),g=o*(1-n)-u*i,v=o*(1-n)-u*i,S=o*(1-n)+u*i,T=n+o*(1-n),x=[h,f,m,0,0,c,d,g,0,0,v,S,T,0,0,0,0,0,1,0];this._loadMatrix(x,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Be.shared,[u,h,f]=o.setValue(n).toArray(),[m,c,d]=o.setValue(i).toArray(),g=[.3,.59,.11,0,0,u,h,f,e,0,m,c,d,r,0,u-m,h-c,f-d,0,0];this._loadMatrix(g,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Vg.prototype.grayscale=Vg.prototype.greyscale;var $D=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,jD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class VD extends Bt{constructor(e,r){const n=new Ke;e.renderable=!1,super(jD,$D,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Pe(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),u=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&u!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/u,this.uniforms.rotation[3]=s.d/u),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var WD=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,XD=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class YD extends Bt{constructor(){super(XD,WD)}}var QD=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class qD extends Bt{constructor(e=.5,r=Math.random()){super(yE,QD,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const Hx={AlphaFilter:OD,BlurFilter:GD,BlurFilterPass:jg,ColorMatrixFilter:Vg,DisplacementFilter:VD,FXAAFilter:YD,NoiseFilter:qD};Object.entries(Hx).forEach(([t,e])=>{Object.defineProperty(Hx,t,{get(){return Te("7.1.0",`filters.${t} has moved to ${t}`),e}})});class KD{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(ft.system.add(this.tickerUpdate,this,as.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(ft.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Hi=new KD;class du{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=du.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Pe,this.page=new Pe,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Jh extends du{constructor(){super(...arguments),this.client=new Pe,this.movement=new Pe,this.offset=new Pe,this.global=new Pe,this.screen=new Pe}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,u,h,f,m,c,d,g,v,S){throw new Error("Method not implemented.")}}class rn extends Jh{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class ya extends Jh{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}ya.DOM_DELTA_PIXEL=0;ya.DOM_DELTA_LINE=1;ya.DOM_DELTA_PAGE=2;const ZD=2048,JD=new Pe,um=new Pe;class eN{constructor(e){this.dispatch=new au,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Hi.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,JD.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<ZD&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let u=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Hi.pauseUpdate=!1),e.interactiveChildren&&e.children){const m=e.children;for(let c=m.length-1;c>=0;c--){const d=m[c],g=this.hitTestMoveRecursive(d,this._isInteractive(r)?r:d.eventMode,n,i,s,o||s(e,n));if(g){if(g.length>0&&!g[g.length-1].parent)continue;const v=e.isInteractive();(g.length>0||v)&&(v&&this._allInteractiveElements.push(e),g.push(e)),this._hitElements.length===0&&(this._hitElements=g),u=!0}}}const h=this._isInteractive(r),f=e.isInteractive();return f&&f&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:u?this._hitElements:h&&!s(e,n)&&i(e,n)?f?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Hi.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let f=h.length-1;f>=0;f--){const m=h[f],c=this.hitTestRecursive(m,this._isInteractive(r)?r:m.eventMode,n,i,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;const d=e.isInteractive();return(c.length>0||d)&&c.push(e),c}}}const o=this._isInteractive(r),u=e.isInteractive();return o&&i(e,n)?u?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,um),!e.hitArea.contains(um.x,um.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof rn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var h,f;if(!(e instanceof rn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((h=i.overTargets)==null?void 0:h.length)>0&&s!==r.target){const m=e.type==="mousemove"?"mouseout":"pointerout",c=this.createPointerEvent(e,m,s);if(this.dispatchEvent(c,"pointerout"),n&&this.dispatchEvent(c,"mouseout"),!r.composedPath().includes(s)){const d=this.createPointerEvent(e,"pointerleave",s);for(d.eventPhase=d.AT_TARGET;d.target&&!r.composedPath().includes(d.target);)d.currentTarget=d.target,this.notifyTarget(d),n&&this.notifyTarget(d,"mouseleave"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(c)}if(s!==r.target){const m=e.type==="mousemove"?"mouseover":"pointerover",c=this.clonePointerEvent(r,m);this.dispatchEvent(c,"pointerover"),n&&this.dispatchEvent(c,"mouseover");let d=s==null?void 0:s.parent;for(;d&&d!==this.rootTarget.parent&&d!==r.target;)d=d.parent;if(!d||d===this.rootTarget.parent){const v=this.clonePointerEvent(r,"pointerenter");for(v.eventPhase=v.AT_TARGET;v.target&&v.target!==s&&v.target!==this.rootTarget.parent;)v.currentTarget=v.target,this.notifyTarget(v),n&&this.notifyTarget(v,"mouseenter"),v.target=v.target.parent;this.freeEvent(v)}this.freeEvent(c)}const o=[],u=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),u&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),u&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),u&&o.push("globalmousemove"),this.cursor=(f=r.target)==null?void 0:f.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof rn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof rn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof rn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.dispatchEvent(n,u?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let u=s;for(;u&&!n.composedPath().includes(u);){if(n.currentTarget=u,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const h=n.button===2;this.notifyTarget(n,h?"rightupoutside":"mouseupoutside")}u=u.parent}delete i.pressTargetsByButton[e.button],o=u}if(o){const u=this.clonePointerEvent(n,"click");u.target=o,u.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:u.target,timeStamp:r});const h=i.clicksByButton[e.button];if(h.target===u.target&&r-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=u.target,h.timeStamp=r,u.detail=h.clickCount,u.pointerType==="mouse"){const f=u.button===2;this.dispatchEvent(u,f?"rightclick":"click")}else u.pointerType==="touch"&&this.dispatchEvent(u,"tap");this.dispatchEvent(u,"pointertap"),this.freeEvent(u)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof rn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof ya)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(rn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(ya);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(rn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof rn&&r instanceof rn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Jh&&r instanceof Jh&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const tN=1,rN={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Wg=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new eN(null),Hi.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new rn(null),this.rootWheelEvent=new ya(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Wg.defaultEventFeatures},{set:(e,r,n)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[r]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,Wg._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,n=e.length;r<n;r++){const i=e[r],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;Hi.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,Hi.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Hi.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Hi.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,n=t.changedTouches.length;r<n;r++){const i=t.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=tN),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=rN[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let tu=Wg;tu.extension={name:"events",type:[se.RendererSystem,se.CanvasRendererSystem]};tu.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};fe.add(tu);function $x(t){return t==="dynamic"||t==="static"}const nN={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??$x(tu.defaultEventMode)},set interactive(t){Te("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??tu.defaultEventMode},set eventMode(t){this._internalInteractive=$x(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof du))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Ze.mixin(nN);const iN={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ze.mixin(iN);const sN=9,$c=100,oN=0,aN=0,jx=2,Vx=1,lN=-1e3,uN=-1e3,cN=2;class qE{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ci.tablet||ci.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${$c}px`,r.style.height=`${$c}px`,r.style.position="absolute",r.style.top=`${oN}px`,r.style.left=`${aN}px`,r.style.zIndex=jx.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${Vx}px`,e.style.height=`${Vx}px`,e.style.position="absolute",e.style.top=`${lN}px`,e.style.left=`${uN}px`,e.style.zIndex=cN.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(ci.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:u,resolution:h}=this.renderer,f=i/o*h,m=s/u*h;let c=this.div;c.style.left=`${r}px`,c.style.top=`${n}px`,c.style.width=`${o}px`,c.style.height=`${u}px`;for(let d=0;d<this.children.length;d++){const g=this.children[d];if(g.renderId!==this.renderId)g._accessibleActive=!1,ra(this.children,d,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,d--;else{c=g._accessibleDiv;let v=g.hitArea;const S=g.worldTransform;g.hitArea?(c.style.left=`${(S.tx+v.x*S.a)*f}px`,c.style.top=`${(S.ty+v.y*S.d)*m}px`,c.style.width=`${v.width*S.a*f}px`,c.style.height=`${v.height*S.d*m}px`):(v=g.getBounds(),this.capHitArea(v),c.style.left=`${v.x*f}px`,c.style.top=`${v.y*m}px`,c.style.width=`${v.width*f}px`,c.style.height=`${v.height*m}px`,c.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(c.title=g.accessibleTitle),c.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&c.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==c.title||g.tabIndex!==c.tabIndex)&&(c.title=g.accessibleTitle,c.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${$c}px`,r.style.height=`${$c}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=jx.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new du(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===sN&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}qE.extension={name:"accessibility",type:[se.RendererPlugin,se.CanvasRendererPlugin]};fe.add(qE);var xr=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(xr||{});const ed={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let ni,Po;function Wx(){Po={s3tc:ni.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ni.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:ni.getExtension("WEBGL_compressed_texture_etc"),etc1:ni.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:ni.getExtension("WEBGL_compressed_texture_pvrtc")||ni.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:ni.getExtension("WEBGL_compressed_texture_atc"),astc:ni.getExtension("WEBGL_compressed_texture_astc")}}const hN={extension:{type:se.DetectionParser,priority:2},test:async()=>{const e=ie.ADAPTER.createCanvas().getContext("webgl");return e?(ni=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Po||Wx();const e=[];for(const r in Po)Po[r]&&e.push(r);return[...e,...t]},remove:async t=>(Po||Wx(),t.filter(e=>!(e in Po)))};fe.add(hN);class dN extends uu{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new Sg(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Sg(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class $s extends dN{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=$s._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||$s._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,u=this.levels;o<u;o++){const{levelID:h,levelWidth:f,levelHeight:m,levelBuffer:c}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,h,this.format,f,m,0,c)}return!0}onBlobLoaded(){this._levelBuffers=$s._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,u){const h=new Array(n);let f=e.byteOffset,m=o,c=u,d=m+i-1&~(i-1),g=c+s-1&~(s-1),v=d*g*ed[r];for(let S=0;S<n;S++)h[S]={levelID:S,levelWidth:n>1?m:d,levelHeight:n>1?c:g,levelBuffer:new Uint8Array(e.buffer,f,v)},f+=v,m=m>>1||1,c=c>>1||1,d=m+i-1&~(i-1),g=c+s-1&~(s-1),v=d*g*ed[r];return h}}const cm=4,jc=124,fN=32,Xx=20,pN=542327876,Vc={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},mN={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Wc={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},gN=1,yN=2,vN=4,_N=64,xN=512,wN=131072,SN=827611204,bN=861165636,EN=894720068,TN=808540228,AN=4,CN={[SN]:xr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[bN]:xr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[EN]:xr.COMPRESSED_RGBA_S3TC_DXT5_EXT},PN={70:xr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:xr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:xr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:xr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:xr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:xr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:xr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:xr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:xr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function IN(t){const e=new Uint32Array(t);if(e[0]!==pN)throw new Error("Invalid DDS file magic word");const n=new Uint32Array(t,0,jc/Uint32Array.BYTES_PER_ELEMENT),i=n[Vc.HEIGHT],s=n[Vc.WIDTH],o=n[Vc.MIPMAP_COUNT],u=new Uint32Array(t,Vc.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,fN/Uint32Array.BYTES_PER_ELEMENT),h=u[gN];if(h&vN){const f=u[mN.FOURCC];if(f!==TN){const E=CN[f],A=cm+jc,I=new Uint8Array(t,A);return[new $s(I,{format:E,width:s,height:i,levels:o})]}const m=cm+jc,c=new Uint32Array(e.buffer,m,Xx/Uint32Array.BYTES_PER_ELEMENT),d=c[Wc.DXGI_FORMAT],g=c[Wc.RESOURCE_DIMENSION],v=c[Wc.MISC_FLAG],S=c[Wc.ARRAY_SIZE],T=PN[d];if(T===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(v===AN)throw new Error("DDSParser does not support cubemap textures");if(g===6)throw new Error("DDSParser does not supported 3D texture data");const x=new Array,b=cm+jc+Xx;if(S===1)x.push(new Uint8Array(t,b));else{const E=ed[T];let A=0,I=s,O=i;for(let R=0;R<o;R++){const L=Math.max(1,I+3&-4),G=Math.max(1,O+3&-4),j=L*G*E;A+=j,I=I>>>1,O=O>>>1}let N=b;for(let R=0;R<S;R++)x.push(new Uint8Array(t,N,A)),N+=A}return x.map(E=>new $s(E,{format:T,width:s,height:i,levels:o}))}throw h&_N?new Error("DDSParser does not support uncompressed texture data."):h&xN?new Error("DDSParser does not supported YUV uncompressed texture data."):h&wN?new Error("DDSParser does not support single-channel (lumninance) texture data!"):h&yN?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Yx=[171,75,84,88,32,49,49,187,13,10,26,10],RN=67305985,en={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Xg=64,Qx={[me.UNSIGNED_BYTE]:1,[me.UNSIGNED_SHORT]:2,[me.INT]:4,[me.UNSIGNED_INT]:4,[me.FLOAT]:4,[me.HALF_FLOAT]:8},kN={[J.RGBA]:4,[J.RGB]:3,[J.RG]:2,[J.RED]:1,[J.LUMINANCE]:1,[J.LUMINANCE_ALPHA]:2,[J.ALPHA]:1},MN={[me.UNSIGNED_SHORT_4_4_4_4]:2,[me.UNSIGNED_SHORT_5_5_5_1]:2,[me.UNSIGNED_SHORT_5_6_5]:2};function DN(t,e,r=!1){const n=new DataView(e);if(!NN(t,n))return null;const i=n.getUint32(en.ENDIANNESS,!0)===RN,s=n.getUint32(en.GL_TYPE,i),o=n.getUint32(en.GL_FORMAT,i),u=n.getUint32(en.GL_INTERNAL_FORMAT,i),h=n.getUint32(en.PIXEL_WIDTH,i),f=n.getUint32(en.PIXEL_HEIGHT,i)||1,m=n.getUint32(en.PIXEL_DEPTH,i)||1,c=n.getUint32(en.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=n.getUint32(en.NUMBER_OF_FACES,i),g=n.getUint32(en.NUMBER_OF_MIPMAP_LEVELS,i),v=n.getUint32(en.BYTES_OF_KEY_VALUE_DATA,i);if(f===0||m!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(c!==1)throw new Error("WebGL does not support array textures");const S=4,T=4,x=h+3&-4,b=f+3&-4,E=new Array(c);let A=h*f;s===0&&(A=x*b);let I;if(s!==0?Qx[s]?I=Qx[s]*kN[o]:I=MN[s]:I=ed[u],I===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const O=r?FN(n,v,i):null;let R=A*I,L=h,G=f,j=x,Y=b,H=Xg+v;for(let B=0;B<g;B++){const de=n.getUint32(H,i);let oe=H+4;for(let ee=0;ee<c;ee++){let M=E[ee];M||(M=E[ee]=new Array(g)),M[B]={levelID:B,levelWidth:g>1||s!==0?L:j,levelHeight:g>1||s!==0?G:Y,levelBuffer:new Uint8Array(e,oe,R)},oe+=R}H+=de+4,H=H%4!==0?H+4-H%4:H,L=L>>1||1,G=G>>1||1,j=L+S-1&~(S-1),Y=G+T-1&~(T-1),R=j*Y*I}return s!==0?{uncompressed:E.map(B=>{let de=B[0].levelBuffer,oe=!1;return s===me.FLOAT?de=new Float32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4):s===me.UNSIGNED_INT?(oe=!0,de=new Uint32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)):s===me.INT&&(oe=!0,de=new Int32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)),{resource:new uu(de,{width:B[0].levelWidth,height:B[0].levelHeight}),type:s,format:oe?ON(o):o}}),kvData:O}:{compressed:E.map(B=>new $s(null,{format:u,width:h,height:f,levels:g,levelBuffers:B})),kvData:O}}function NN(t,e){for(let r=0;r<Yx.length;r++)if(e.getUint8(r)!==Yx[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function ON(t){switch(t){case J.RGBA:return J.RGBA_INTEGER;case J.RGB:return J.RGB_INTEGER;case J.RG:return J.RG_INTEGER;case J.RED:return J.RED_INTEGER;default:return t}}function FN(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(Xg+i,r),o=Xg+i+4,u=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let h=0;for(;h<s&&t.getUint8(o+h)!==0;h++);if(h===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const f=new TextDecoder().decode(new Uint8Array(t.buffer,o,h)),m=new DataView(t.buffer,o+h+1,s-h-1);n.set(f,m),i+=4+s+u}return n}const BN={extension:{type:se.LoadParser,priority:Qn.High},name:"loadDDS",test(t){return to(t,".dds")},async load(t,e,r){const i=await(await ie.ADAPTER.fetch(t)).arrayBuffer(),o=IN(i).map(u=>{const h=new ve(u,{mipmap:Vn.OFF,alphaMode:wn.NO_PREMULTIPLIED_ALPHA,resolution:is(t),...e.data});return kd(h,r,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};fe.add(BN);const LN={extension:{type:se.LoadParser,priority:Qn.High},name:"loadKTX",test(t){return to(t,".ktx")},async load(t,e,r){const i=await(await ie.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:u}=DN(t,i),h=s??o,f={mipmap:Vn.OFF,alphaMode:wn.NO_PREMULTIPLIED_ALPHA,resolution:is(t),...e.data},m=h.map(c=>{h===o&&Object.assign(f,{type:c.type,format:c.format});const d=new ve(c,f);return d.ktxKeyValueData=u,kd(d,r,t)});return m.length===1?m[0]:m},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};fe.add(LN);const UN={extension:se.ResolveParser,test:t=>{const r=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:t=>{var n,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((n=ie.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=ie.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};fe.add(UN);const zN=new Se,GN=4,pl=class{constructor(t){this.renderer=t}async image(t,e,r){const n=new Image;return n.src=await this.base64(t,e,r),n}async base64(t,e,r){const n=this.canvas(t);if(n.toBlob!==void 0)return new Promise((i,s)=>{n.toBlob(o=>{if(!o){s(new Error("ICanvas.toBlob failed!"));return}const u=new FileReader;u.onload=()=>i(u.result),u.onerror=s,u.readAsDataURL(o)},e,r)});if(n.toDataURL!==void 0)return n.toDataURL(e,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:e,quality:r});return new Promise((s,o)=>{const u=new FileReader;u.onload=()=>s(u.result),u.onerror=o,u.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);s&&pl._flipY(r,n,i),pl._unpremultiplyAlpha(r);const o=new VR(n,i,1),u=new ImageData(new Uint8ClampedArray(r.buffer),n,i);return o.context.putImageData(u,0,0),o.canvas}pixels(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);return s&&pl._flipY(r,n,i),pl._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i=!1,s,o=!1;if(t&&(t instanceof eo?s=t:(s=r.generateTexture(t,{resolution:r.resolution,multisample:r.multisample}),o=!0)),s){if(n=s.baseTexture.resolution,e=e??s.frame,i=!1,!o){r.renderTexture.bind(s);const c=s.framebuffer.glFramebuffers[r.CONTEXT_UID];c.blitFramebuffer&&r.framebuffer.bind(c.blitFramebuffer)}}else n=r.resolution,e||(e=zN,e.width=r.width/n,e.height=r.height/n),i=!0,r.renderTexture.bind();const u=Math.round(e.width*n),h=Math.round(e.height*n),f=new Uint8Array(GN*u*h),m=r.gl;return m.readPixels(Math.round(e.x*n),Math.round(e.y*n),u,h,m.RGBA,m.UNSIGNED_BYTE,f),o&&(s==null||s.destroy(!0)),{pixels:f,width:u,height:h,flipY:i}}destroy(){this.renderer=null}static _flipY(t,e,r){const n=e<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const u=o*n,h=(r-o-1)*n;s.set(t.subarray(u,u+n)),t.copyWithin(u,h,h+n),t.set(s,h)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}};let KE=pl;KE.extension={name:"extract",type:se.RendererSystem};fe.add(KE);class HN{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function $N(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ne){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function jN(t,e){if(t.baseTexture instanceof ve){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function VN(t,e){if(t._texture&&t._texture instanceof ne){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function WN(t,e){return e instanceof Id?(e.updateText(!0),!0):!1}function XN(t,e){if(e instanceof xn){const r=e.toFontString();return Ot.measureFont(r),!0}return!1}function YN(t,e){if(t instanceof Id){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function QN(t,e){return t instanceof xn?(e.includes(t)||e.push(t),!0):!1}const ZE=class{constructor(t){this.limiter=new HN(ZE.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(YN),this.registerFindHook(QN),this.registerFindHook($N),this.registerFindHook(jN),this.registerFindHook(VN),this.registerUploadHook(WN),this.registerUploadHook(XN)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,ft.system.addOnce(this.tick,this,as.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)ft.system.addOnce(this.tick,this,as.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Kt)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&ft.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let td=ZE;td.uploadsPerFrame=4;Object.defineProperties(ie,{UPLOADS_PER_FRAME:{get(){return td.uploadsPerFrame},set(t){Te("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),td.uploadsPerFrame=t}}});function JE(t,e){return e instanceof ve?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function qN(t,e){if(!(e instanceof Hs))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&JE(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function KN(t,e){return t instanceof Hs?(e.push(t),!0):!1}class eT extends td{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(KN),this.registerUploadHook(JE),this.registerUploadHook(qN)}}eT.extension={name:"prepare",type:se.RendererSystem};fe.add(eT);const ml=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof ne?t:null,this.baseTexture=t instanceof ve?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=is(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=ml.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=ml.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const n=this._frameKeys[e],i=this._frames[n],s=i.frame;if(s){let o=null,u=null;const h=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,f=new Se(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);i.rotated?o=new Se(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Se(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(u=new Se(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new ne(this.baseTexture,o,f,u,i.rotated?2:0,i.anchor,i.borders),ne.addToCache(this.textures[n],n)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*ml.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*ml.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Yg=ml;Yg.BATCH_SIZE=1e3;const ZN=["jpg","png","jpeg","avif","webp"];function tT(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Yt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const u=tT([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,u)})}return n}const JN={extension:se.Asset,cache:{test:t=>t instanceof Yg,getCacheableAssets:(t,e)=>tT(t,e,!1)},resolver:{test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&ZN.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=ie.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:se.LoadParser,priority:Qn.Normal},async testParse(t,e){return Yt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var f,m;let n=Yt.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=Og(i,e.src);const o=(await r.load([i]))[i],u=new Yg(o.baseTexture,t,e.src);await u.parse();const h=(f=t==null?void 0:t.meta)==null?void 0:f.related_multi_packs;if(Array.isArray(h)){const c=[];for(const g of h){if(typeof g!="string")continue;let v=n+g;(m=e.data)!=null&&m.ignoreMultiPack||(v=Og(v,e.src),c.push(r.load({src:v,data:{ignoreMultiPack:!0}})))}const d=await Promise.all(c);u.linkedSheets=d,d.forEach(g=>{g.linkedSheets=[u].concat(u.linkedSheets.filter(v=>v!==g))})}return u},unload(t){t.destroy(!0)}}};fe.add(JN);const Io=class extends xn{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new Io(Object.keys(Io.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete Io.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=Io;if(r[t]){const n=r[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return ie.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((i,s)=>{const o=URL.createObjectURL(n),u=new FileReader;u.onload=()=>i([o,u.result]),u.onerror=s,u.readAsDataURL(n)})).then(async([n,i])=>{const s=Object.assign({family:Yt.basename(t,Yt.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);r[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=GR(t)),typeof t=="number"?zR(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${i} ${t}`}reset(){Object.assign(this,Io.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=ie.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let Il=Io;Il.availableFonts={};Il.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const Ro=class extends Yn{constructor(t="",e={}){super(ne.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=ne.from(r,{scaleMode:ie.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new Se,n.trim=new Se,this.texture=n;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),u=document.createElementNS(i,"foreignObject"),h=document.createElementNS(s,"div"),f=document.createElementNS(s,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",o.appendChild(u),this.maxWidth=Ro.defaultMaxWidth,this.maxHeight=Ro.defaultMaxHeight,this._domElement=h,this._styleElement=f,this._svgRoot=o,this._foreignObject=u,this._foreignObject.appendChild(f),this._foreignObject.appendChild(h),this._image=r,this._loadImage=new Image,this._autoResolution=Ro.defaultAutoResolution,this._resolution=Ro.defaultResolution??ie.RESOLUTION,this.text=t,this.style=e}measureText(t){var u,h;const{text:e,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(u=this._style)==null?void 0:u.toCSS(n)}),this._styleElement.textContent=(h=this._style)==null?void 0:h.toGlobalCSS()),{width:s+r.padding*2,height:o+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise(o=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,r.src=n.src,n.onload=null,n.src="",this.updateTexture(),o()};const u=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(u)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:n}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var r,n,i,s,o;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Ro.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=e,(n=this._svgRoot)==null||n.remove(),this._svgRoot=e,(i=this._domElement)==null||i.remove(),this._domElement=e,(s=this._foreignObject)==null||s.remove(),this._foreignObject=e,(o=this._styleElement)==null||o.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=Wi(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=Wi(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof Il?(this.ownsStyle=!1,this._style=t):t instanceof xn?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Il.from(t)):(this.ownsStyle=!0,this._style=new Il(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let Od=Ro;Od.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0};Od.defaultMaxWidth=2024;Od.defaultMaxHeight=2024;Od.defaultAutoResolution=!0;function Xc({direction:t,x:e,y:r,playerId:n}){const[i,s]=Ve.useState(!1);function o(h,f){s(!0),Rune.actions.handleClick({direction:h,player:f}),setTimeout(()=>{s(!1)},200)}const u=i?`${t}_pressed`:t;return ze.jsx($r.Sprite,{image:`/${u}.png`,anchor:.5,x:e,y:r,scale:.2,pointertap:()=>o(t,n),eventMode:"static"})}function eO({direction:t,x:e,y:r}){return ze.jsx($r.Sprite,{image:`/prompts_${t}.png`,scale:.5,anchor:.5,x:e,y:r})}var Ms={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||r;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var d=this||r;if(c=parseFloat(c),d.ctx||m(),typeof c<"u"&&c>=0&&c<=1){if(d._volume=c,d._muted)return d;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(c,r.ctx.currentTime);for(var g=0;g<d._howls.length;g++)if(!d._howls[g]._webAudio)for(var v=d._howls[g]._getSoundIds(),S=0;S<v.length;S++){var T=d._howls[g]._soundById(v[S]);T&&T._node&&(T._node.volume=T._volume*c)}return d}return d._volume},mute:function(c){var d=this||r;d.ctx||m(),d._muted=c,d.usingWebAudio&&d.masterGain.gain.setValueAtTime(c?0:d._volume,r.ctx.currentTime);for(var g=0;g<d._howls.length;g++)if(!d._howls[g]._webAudio)for(var v=d._howls[g]._getSoundIds(),S=0;S<v.length;S++){var T=d._howls[g]._soundById(v[S]);T&&T._node&&(T._node.muted=c?!0:T._muted)}return d},stop:function(){for(var c=this||r,d=0;d<c._howls.length;d++)c._howls[d].stop();return c},unload:function(){for(var c=this||r,d=c._howls.length-1;d>=0;d--)c._howls[d].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,m()),c},codecs:function(c){return(this||r)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||r;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var d=new Audio;typeof d.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var d=new Audio;d.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||r,d=null;try{d=typeof Audio<"u"?new Audio:null}catch{return c}if(!d||typeof d.canPlayType!="function")return c;var g=d.canPlayType("audio/mpeg;").replace(/^no$/,""),v=c._navigator?c._navigator.userAgent:"",S=v.match(/OPR\/([0-6].)/g),T=S&&parseInt(S[0].split("/")[1],10)<33,x=v.indexOf("Safari")!==-1&&v.indexOf("Chrome")===-1,b=v.match(/Version\/(.*?) /),E=x&&b&&parseInt(b[1],10)<15;return c._codecs={mp3:!!(!T&&(g||d.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!g,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(d.canPlayType('audio/wav; codecs="1"')||d.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(d.canPlayType("audio/x-m4b;")||d.canPlayType("audio/m4b;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!E&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!E&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||r;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var d=function(g){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var v=new Audio;v._unlocked=!0,c._releaseHtml5Audio(v)}catch{c.noAudio=!0;break}for(var S=0;S<c._howls.length;S++)if(!c._howls[S]._webAudio)for(var T=c._howls[S]._getSoundIds(),x=0;x<T.length;x++){var b=c._howls[S]._soundById(T[x]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}c._autoResume();var E=c.ctx.createBufferSource();E.buffer=c._scratchBuffer,E.connect(c.ctx.destination),typeof E.start>"u"?E.noteOn(0):E.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),E.onended=function(){E.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",d,!0),document.removeEventListener("touchend",d,!0),document.removeEventListener("click",d,!0),document.removeEventListener("keydown",d,!0);for(var A=0;A<c._howls.length;A++)c._howls[A]._emit("unlock")}};return document.addEventListener("touchstart",d,!0),document.addEventListener("touchend",d,!0),document.addEventListener("click",d,!0),document.addEventListener("keydown",d,!0),c}},_obtainHtml5Audio:function(){var c=this||r;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var d=new Audio().play();return d&&typeof Promise<"u"&&(d instanceof Promise||typeof d.then=="function")&&d.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var d=this||r;return c._unlocked&&d._html5AudioPool.push(c),d},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!r.usingWebAudio)){for(var d=0;d<c._howls.length;d++)if(c._howls[d]._webAudio){for(var g=0;g<c._howls[d]._sounds.length;g++)if(!c._howls[d]._sounds[g]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var v=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(v,v)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!r.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var d=0;d<c._howls.length;d++)c._howls[d]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var r=new e,n=function(c){var d=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}d.init(c)};n.prototype={init:function(c){var d=this;return r.ctx||m(),d._autoplay=c.autoplay||!1,d._format=typeof c.format!="string"?c.format:[c.format],d._html5=c.html5||!1,d._muted=c.mute||!1,d._loop=c.loop||!1,d._pool=c.pool||5,d._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,d._rate=c.rate||1,d._sprite=c.sprite||{},d._src=typeof c.src!="string"?c.src:[c.src],d._volume=c.volume!==void 0?c.volume:1,d._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},d._duration=0,d._state="unloaded",d._sounds=[],d._endTimers={},d._queue=[],d._playLock=!1,d._onend=c.onend?[{fn:c.onend}]:[],d._onfade=c.onfade?[{fn:c.onfade}]:[],d._onload=c.onload?[{fn:c.onload}]:[],d._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],d._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],d._onpause=c.onpause?[{fn:c.onpause}]:[],d._onplay=c.onplay?[{fn:c.onplay}]:[],d._onstop=c.onstop?[{fn:c.onstop}]:[],d._onmute=c.onmute?[{fn:c.onmute}]:[],d._onvolume=c.onvolume?[{fn:c.onvolume}]:[],d._onrate=c.onrate?[{fn:c.onrate}]:[],d._onseek=c.onseek?[{fn:c.onseek}]:[],d._onunlock=c.onunlock?[{fn:c.onunlock}]:[],d._onresume=[],d._webAudio=r.usingWebAudio&&!d._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(d),d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}}),d._preload&&d._preload!=="none"&&d.load(),d},load:function(){var c=this,d=null;if(r.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var g=0;g<c._src.length;g++){var v,S;if(c._format&&c._format[g])v=c._format[g];else{if(S=c._src[g],typeof S!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}v=/^data:audio\/([^;,]+);/i.exec(S),v||(v=/\.([^.]+)$/.exec(S.split("?",1)[0])),v&&(v=v[1].toLowerCase())}if(v||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),v&&r.codecs(v)){d=c._src[g];break}}if(!d){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=d,c._state="loading",window.location.protocol==="https:"&&d.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new i(c),c._webAudio&&o(c),c},play:function(c,d){var g=this,v=null;if(typeof c=="number")v=c,c=null;else{if(typeof c=="string"&&g._state==="loaded"&&!g._sprite[c])return null;if(typeof c>"u"&&(c="__default",!g._playLock)){for(var S=0,T=0;T<g._sounds.length;T++)g._sounds[T]._paused&&!g._sounds[T]._ended&&(S++,v=g._sounds[T]._id);S===1?c=null:v=null}}var x=v?g._soundById(v):g._inactiveSound();if(!x)return null;if(v&&!c&&(c=x._sprite||"__default"),g._state!=="loaded"){x._sprite=c,x._ended=!1;var b=x._id;return g._queue.push({event:"play",action:function(){g.play(b)}}),b}if(v&&!x._paused)return d||g._loadQueue("play"),x._id;g._webAudio&&r._autoResume();var E=Math.max(0,x._seek>0?x._seek:g._sprite[c][0]/1e3),A=Math.max(0,(g._sprite[c][0]+g._sprite[c][1])/1e3-E),I=A*1e3/Math.abs(x._rate),O=g._sprite[c][0]/1e3,N=(g._sprite[c][0]+g._sprite[c][1])/1e3;x._sprite=c,x._ended=!1;var R=function(){x._paused=!1,x._seek=E,x._start=O,x._stop=N,x._loop=!!(x._loop||g._sprite[c][2])};if(E>=N){g._ended(x);return}var L=x._node;if(g._webAudio){var G=function(){g._playLock=!1,R(),g._refreshBuffer(x);var B=x._muted||g._muted?0:x._volume;L.gain.setValueAtTime(B,r.ctx.currentTime),x._playStart=r.ctx.currentTime,typeof L.bufferSource.start>"u"?x._loop?L.bufferSource.noteGrainOn(0,E,86400):L.bufferSource.noteGrainOn(0,E,A):x._loop?L.bufferSource.start(0,E,86400):L.bufferSource.start(0,E,A),I!==1/0&&(g._endTimers[x._id]=setTimeout(g._ended.bind(g,x),I)),d||setTimeout(function(){g._emit("play",x._id),g._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?G():(g._playLock=!0,g.once("resume",G),g._clearTimer(x._id))}else{var j=function(){L.currentTime=E,L.muted=x._muted||g._muted||r._muted||L.muted,L.volume=x._volume*r.volume(),L.playbackRate=x._rate;try{var B=L.play();if(B&&typeof Promise<"u"&&(B instanceof Promise||typeof B.then=="function")?(g._playLock=!0,R(),B.then(function(){g._playLock=!1,L._unlocked=!0,d?g._loadQueue():g._emit("play",x._id)}).catch(function(){g._playLock=!1,g._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),x._ended=!0,x._paused=!0})):d||(g._playLock=!1,R(),g._emit("play",x._id)),L.playbackRate=x._rate,L.paused){g._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||x._loop?g._endTimers[x._id]=setTimeout(g._ended.bind(g,x),I):(g._endTimers[x._id]=function(){g._ended(x),L.removeEventListener("ended",g._endTimers[x._id],!1)},L.addEventListener("ended",g._endTimers[x._id],!1))}catch(de){g._emit("playerror",x._id,de)}};L.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(L.src=g._src,L.load());var Y=window&&window.ejecta||!L.readyState&&r._navigator.isCocoonJS;if(L.readyState>=3||Y)j();else{g._playLock=!0,g._state="loading";var H=function(){g._state="loaded",j(),L.removeEventListener(r._canPlayEvent,H,!1)};L.addEventListener(r._canPlayEvent,H,!1),g._clearTimer(x._id)}}return x._id},pause:function(c){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"pause",action:function(){d.pause(c)}}),d;for(var g=d._getSoundIds(c),v=0;v<g.length;v++){d._clearTimer(g[v]);var S=d._soundById(g[v]);if(S&&!S._paused&&(S._seek=d.seek(g[v]),S._rateSeek=0,S._paused=!0,d._stopFade(g[v]),S._node))if(d._webAudio){if(!S._node.bufferSource)continue;typeof S._node.bufferSource.stop>"u"?S._node.bufferSource.noteOff(0):S._node.bufferSource.stop(0),d._cleanBuffer(S._node)}else(!isNaN(S._node.duration)||S._node.duration===1/0)&&S._node.pause();arguments[1]||d._emit("pause",S?S._id:null)}return d},stop:function(c,d){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"stop",action:function(){g.stop(c)}}),g;for(var v=g._getSoundIds(c),S=0;S<v.length;S++){g._clearTimer(v[S]);var T=g._soundById(v[S]);T&&(T._seek=T._start||0,T._rateSeek=0,T._paused=!0,T._ended=!0,g._stopFade(v[S]),T._node&&(g._webAudio?T._node.bufferSource&&(typeof T._node.bufferSource.stop>"u"?T._node.bufferSource.noteOff(0):T._node.bufferSource.stop(0),g._cleanBuffer(T._node)):(!isNaN(T._node.duration)||T._node.duration===1/0)&&(T._node.currentTime=T._start||0,T._node.pause(),T._node.duration===1/0&&g._clearSound(T._node))),d||g._emit("stop",T._id))}return g},mute:function(c,d){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"mute",action:function(){g.mute(c,d)}}),g;if(typeof d>"u")if(typeof c=="boolean")g._muted=c;else return g._muted;for(var v=g._getSoundIds(d),S=0;S<v.length;S++){var T=g._soundById(v[S]);T&&(T._muted=c,T._interval&&g._stopFade(T._id),g._webAudio&&T._node?T._node.gain.setValueAtTime(c?0:T._volume,r.ctx.currentTime):T._node&&(T._node.muted=r._muted?!0:c),g._emit("mute",T._id))}return g},volume:function(){var c=this,d=arguments,g,v;if(d.length===0)return c._volume;if(d.length===1||d.length===2&&typeof d[1]>"u"){var S=c._getSoundIds(),T=S.indexOf(d[0]);T>=0?v=parseInt(d[0],10):g=parseFloat(d[0])}else d.length>=2&&(g=parseFloat(d[0]),v=parseInt(d[1],10));var x;if(typeof g<"u"&&g>=0&&g<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,d)}}),c;typeof v>"u"&&(c._volume=g),v=c._getSoundIds(v);for(var b=0;b<v.length;b++)x=c._soundById(v[b]),x&&(x._volume=g,d[2]||c._stopFade(v[b]),c._webAudio&&x._node&&!x._muted?x._node.gain.setValueAtTime(g,r.ctx.currentTime):x._node&&!x._muted&&(x._node.volume=g*r.volume()),c._emit("volume",x._id))}else return x=v?c._soundById(v):c._sounds[0],x?x._volume:0;return c},fade:function(c,d,g,v){var S=this;if(S._state!=="loaded"||S._playLock)return S._queue.push({event:"fade",action:function(){S.fade(c,d,g,v)}}),S;c=Math.min(Math.max(0,parseFloat(c)),1),d=Math.min(Math.max(0,parseFloat(d)),1),g=parseFloat(g),S.volume(c,v);for(var T=S._getSoundIds(v),x=0;x<T.length;x++){var b=S._soundById(T[x]);if(b){if(v||S._stopFade(T[x]),S._webAudio&&!b._muted){var E=r.ctx.currentTime,A=E+g/1e3;b._volume=c,b._node.gain.setValueAtTime(c,E),b._node.gain.linearRampToValueAtTime(d,A)}S._startFadeInterval(b,c,d,g,T[x],typeof v>"u")}}return S},_startFadeInterval:function(c,d,g,v,S,T){var x=this,b=d,E=g-d,A=Math.abs(E/.01),I=Math.max(4,A>0?v/A:v),O=Date.now();c._fadeTo=g,c._interval=setInterval(function(){var N=(Date.now()-O)/v;O=Date.now(),b+=E*N,b=Math.round(b*100)/100,E<0?b=Math.max(g,b):b=Math.min(g,b),x._webAudio?c._volume=b:x.volume(b,c._id,!0),T&&(x._volume=b),(g<d&&b<=g||g>d&&b>=g)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,x.volume(g,c._id),x._emit("fade",c._id))},I)},_stopFade:function(c){var d=this,g=d._soundById(c);return g&&g._interval&&(d._webAudio&&g._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(g._interval),g._interval=null,d.volume(g._fadeTo,c),g._fadeTo=null,d._emit("fade",c)),d},loop:function(){var c=this,d=arguments,g,v,S;if(d.length===0)return c._loop;if(d.length===1)if(typeof d[0]=="boolean")g=d[0],c._loop=g;else return S=c._soundById(parseInt(d[0],10)),S?S._loop:!1;else d.length===2&&(g=d[0],v=parseInt(d[1],10));for(var T=c._getSoundIds(v),x=0;x<T.length;x++)S=c._soundById(T[x]),S&&(S._loop=g,c._webAudio&&S._node&&S._node.bufferSource&&(S._node.bufferSource.loop=g,g&&(S._node.bufferSource.loopStart=S._start||0,S._node.bufferSource.loopEnd=S._stop,c.playing(T[x])&&(c.pause(T[x],!0),c.play(T[x],!0)))));return c},rate:function(){var c=this,d=arguments,g,v;if(d.length===0)v=c._sounds[0]._id;else if(d.length===1){var S=c._getSoundIds(),T=S.indexOf(d[0]);T>=0?v=parseInt(d[0],10):g=parseFloat(d[0])}else d.length===2&&(g=parseFloat(d[0]),v=parseInt(d[1],10));var x;if(typeof g=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,d)}}),c;typeof v>"u"&&(c._rate=g),v=c._getSoundIds(v);for(var b=0;b<v.length;b++)if(x=c._soundById(v[b]),x){c.playing(v[b])&&(x._rateSeek=c.seek(v[b]),x._playStart=c._webAudio?r.ctx.currentTime:x._playStart),x._rate=g,c._webAudio&&x._node&&x._node.bufferSource?x._node.bufferSource.playbackRate.setValueAtTime(g,r.ctx.currentTime):x._node&&(x._node.playbackRate=g);var E=c.seek(v[b]),A=(c._sprite[x._sprite][0]+c._sprite[x._sprite][1])/1e3-E,I=A*1e3/Math.abs(x._rate);(c._endTimers[v[b]]||!x._paused)&&(c._clearTimer(v[b]),c._endTimers[v[b]]=setTimeout(c._ended.bind(c,x),I)),c._emit("rate",x._id)}}else return x=c._soundById(v),x?x._rate:c._rate;return c},seek:function(){var c=this,d=arguments,g,v;if(d.length===0)c._sounds.length&&(v=c._sounds[0]._id);else if(d.length===1){var S=c._getSoundIds(),T=S.indexOf(d[0]);T>=0?v=parseInt(d[0],10):c._sounds.length&&(v=c._sounds[0]._id,g=parseFloat(d[0]))}else d.length===2&&(g=parseFloat(d[0]),v=parseInt(d[1],10));if(typeof v>"u")return 0;if(typeof g=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,d)}}),c;var x=c._soundById(v);if(x)if(typeof g=="number"&&g>=0){var b=c.playing(v);b&&c.pause(v,!0),x._seek=g,x._ended=!1,c._clearTimer(v),!c._webAudio&&x._node&&!isNaN(x._node.duration)&&(x._node.currentTime=g);var E=function(){b&&c.play(v,!0),c._emit("seek",v)};if(b&&!c._webAudio){var A=function(){c._playLock?setTimeout(A,0):E()};setTimeout(A,0)}else E()}else if(c._webAudio){var I=c.playing(v)?r.ctx.currentTime-x._playStart:0,O=x._rateSeek?x._rateSeek-x._seek:0;return x._seek+(O+I*Math.abs(x._rate))}else return x._node.currentTime;return c},playing:function(c){var d=this;if(typeof c=="number"){var g=d._soundById(c);return g?!g._paused:!1}for(var v=0;v<d._sounds.length;v++)if(!d._sounds[v]._paused)return!0;return!1},duration:function(c){var d=this,g=d._duration,v=d._soundById(c);return v&&(g=d._sprite[v._sprite][1]/1e3),g},state:function(){return this._state},unload:function(){for(var c=this,d=c._sounds,g=0;g<d.length;g++)d[g]._paused||c.stop(d[g]._id),c._webAudio||(c._clearSound(d[g]._node),d[g]._node.removeEventListener("error",d[g]._errorFn,!1),d[g]._node.removeEventListener(r._canPlayEvent,d[g]._loadFn,!1),d[g]._node.removeEventListener("ended",d[g]._endFn,!1),r._releaseHtml5Audio(d[g]._node)),delete d[g]._node,c._clearTimer(d[g]._id);var v=r._howls.indexOf(c);v>=0&&r._howls.splice(v,1);var S=!0;for(g=0;g<r._howls.length;g++)if(r._howls[g]._src===c._src||c._src.indexOf(r._howls[g]._src)>=0){S=!1;break}return s&&S&&delete s[c._src],r.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,d,g,v){var S=this,T=S["_on"+c];return typeof d=="function"&&T.push(v?{id:g,fn:d,once:v}:{id:g,fn:d}),S},off:function(c,d,g){var v=this,S=v["_on"+c],T=0;if(typeof d=="number"&&(g=d,d=null),d||g)for(T=0;T<S.length;T++){var x=g===S[T].id;if(d===S[T].fn&&x||!d&&x){S.splice(T,1);break}}else if(c)v["_on"+c]=[];else{var b=Object.keys(v);for(T=0;T<b.length;T++)b[T].indexOf("_on")===0&&Array.isArray(v[b[T]])&&(v[b[T]]=[])}return v},once:function(c,d,g){var v=this;return v.on(c,d,g,1),v},_emit:function(c,d,g){for(var v=this,S=v["_on"+c],T=S.length-1;T>=0;T--)(!S[T].id||S[T].id===d||c==="load")&&(setTimeout((function(x){x.call(this,d,g)}).bind(v,S[T].fn),0),S[T].once&&v.off(c,S[T].fn,S[T].id));return v._loadQueue(c),v},_loadQueue:function(c){var d=this;if(d._queue.length>0){var g=d._queue[0];g.event===c&&(d._queue.shift(),d._loadQueue()),c||g.action()}return d},_ended:function(c){var d=this,g=c._sprite;if(!d._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(d._ended.bind(d,c),100),d;var v=!!(c._loop||d._sprite[g][2]);if(d._emit("end",c._id),!d._webAudio&&v&&d.stop(c._id,!0).play(c._id),d._webAudio&&v){d._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=r.ctx.currentTime;var S=(c._stop-c._start)*1e3/Math.abs(c._rate);d._endTimers[c._id]=setTimeout(d._ended.bind(d,c),S)}return d._webAudio&&!v&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,d._clearTimer(c._id),d._cleanBuffer(c._node),r._autoSuspend()),!d._webAudio&&!v&&d.stop(c._id,!0),d},_clearTimer:function(c){var d=this;if(d._endTimers[c]){if(typeof d._endTimers[c]!="function")clearTimeout(d._endTimers[c]);else{var g=d._soundById(c);g&&g._node&&g._node.removeEventListener("ended",d._endTimers[c],!1)}delete d._endTimers[c]}return d},_soundById:function(c){for(var d=this,g=0;g<d._sounds.length;g++)if(c===d._sounds[g]._id)return d._sounds[g];return null},_inactiveSound:function(){var c=this;c._drain();for(var d=0;d<c._sounds.length;d++)if(c._sounds[d]._ended)return c._sounds[d].reset();return new i(c)},_drain:function(){var c=this,d=c._pool,g=0,v=0;if(!(c._sounds.length<d)){for(v=0;v<c._sounds.length;v++)c._sounds[v]._ended&&g++;for(v=c._sounds.length-1;v>=0;v--){if(g<=d)return;c._sounds[v]._ended&&(c._webAudio&&c._sounds[v]._node&&c._sounds[v]._node.disconnect(0),c._sounds.splice(v,1),g--)}}},_getSoundIds:function(c){var d=this;if(typeof c>"u"){for(var g=[],v=0;v<d._sounds.length;v++)g.push(d._sounds[v]._id);return g}else return[c]},_refreshBuffer:function(c){var d=this;return c._node.bufferSource=r.ctx.createBufferSource(),c._node.bufferSource.buffer=s[d._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,r.ctx.currentTime),d},_cleanBuffer:function(c){var d=this,g=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),g))try{c.bufferSource.buffer=r._scratchBuffer}catch{}return c.bufferSource=null,d},_clearSound:function(c){var d=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);d||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(c){this._parent=c,this.init()};i.prototype={init:function(){var c=this,d=c._parent;return c._muted=d._muted,c._loop=d._loop,c._volume=d._volume,c._rate=d._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++r._counter,d._sounds.push(c),c.create(),c},create:function(){var c=this,d=c._parent,g=r._muted||c._muted||c._parent._muted?0:c._volume;return d._webAudio?(c._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),c._node.gain.setValueAtTime(g,r.ctx.currentTime),c._node.paused=!0,c._node.connect(r.masterGain)):r.noAudio||(c._node=r._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(r._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=d._src,c._node.preload=d._preload===!0?"auto":d._preload,c._node.volume=g*r.volume(),c._node.load()),c},reset:function(){var c=this,d=c._parent;return c._muted=d._muted,c._loop=d._loop,c._volume=d._volume,c._rate=d._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++r._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,d=c._parent;d._duration=Math.ceil(c._node.duration*10)/10,Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue()),c._node.removeEventListener(r._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,d=c._parent;d._duration===1/0&&(d._duration=Math.ceil(c._node.duration*10)/10,d._sprite.__default[1]===1/0&&(d._sprite.__default[1]=d._duration*1e3),d._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var s={},o=function(c){var d=c._src;if(s[d]){c._duration=s[d].duration,f(c);return}if(/^data:[^;]+;base64,/.test(d)){for(var g=atob(d.split(",")[1]),v=new Uint8Array(g.length),S=0;S<g.length;++S)v[S]=g.charCodeAt(S);h(v.buffer,c)}else{var T=new XMLHttpRequest;T.open(c._xhr.method,d,!0),T.withCredentials=c._xhr.withCredentials,T.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(x){T.setRequestHeader(x,c._xhr.headers[x])}),T.onload=function(){var x=(T.status+"")[0];if(x!=="0"&&x!=="2"&&x!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+T.status+".");return}h(T.response,c)},T.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete s[d],c.load())},u(T)}},u=function(c){try{c.send()}catch{c.onerror()}},h=function(c,d){var g=function(){d._emit("loaderror",null,"Decoding audio data failed.")},v=function(S){S&&d._sounds.length>0?(s[d._src]=S,f(d,S)):g()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(c).then(v).catch(g):r.ctx.decodeAudioData(c,v,g)},f=function(c,d){d&&!c._duration&&(c._duration=d.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},m=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),d=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),g=d?parseInt(d[1],10):null;if(c&&g&&g<9){var v=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!v&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};t.Howler=r,t.Howl=n,typeof Ui<"u"?(Ui.HowlerGlobal=e,Ui.Howler=r,Ui.Howl=n,Ui.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=r,window.Howl=n,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(n=typeof n!="number"?s._pos[1]:n,i=typeof i!="number"?s._pos[2]:i,typeof r=="number")s._pos=[r,n,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(r,n,i,s,o,u){var h=this;if(!h.ctx||!h.ctx.listener)return h;var f=h._orientation;if(n=typeof n!="number"?f[1]:n,i=typeof i!="number"?f[2]:i,s=typeof s!="number"?f[3]:s,o=typeof o!="number"?f[4]:o,u=typeof u!="number"?f[5]:u,typeof r=="number")h._orientation=[r,n,i,s,o,u],typeof h.ctx.listener.forwardX<"u"?(h.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),h.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),h.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),h.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),h.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),h.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):h.ctx.listener.setOrientation(r,n,i,s,o,u);else return f;return h},Howl.prototype.init=function(r){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(r,n)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")i._stereo=r,i._pos=[r,0,0];else return i._stereo;for(var o=i._getSoundIds(n),u=0;u<o.length;u++){var h=i._soundById(o[u]);if(h)if(typeof r=="number")h._stereo=r,h._pos=[r,0,0],h._node&&(h._pannerAttr.panningModel="equalpower",(!h._panner||!h._panner.pan)&&e(h,s),s==="spatial"?typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):h._panner.setPosition(r,0,0):h._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("stereo",h._id);else return h._stereo}return i},Howl.prototype.pos=function(r,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(r,n,i,s)}}),o;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof r=="number")o._pos=[r,n,i];else return o._pos;for(var u=o._getSoundIds(s),h=0;h<u.length;h++){var f=o._soundById(u[h]);if(f)if(typeof r=="number")f._pos=[r,n,i],f._node&&((!f._panner||f._panner.pan)&&e(f,"spatial"),typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):f._panner.setPosition(r,n,i)),o._emit("pos",f._id);else return f._pos}return o},Howl.prototype.orientation=function(r,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(r,n,i,s)}}),o;if(n=typeof n!="number"?o._orientation[1]:n,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof r=="number")o._orientation=[r,n,i];else return o._orientation;for(var u=o._getSoundIds(s),h=0;h<u.length;h++){var f=o._soundById(u[h]);if(f)if(typeof r=="number")f._orientation=[r,n,i],f._node&&(f._panner||(f._pos||(f._pos=o._pos||[0,0,-.5]),e(f,"spatial")),typeof f._panner.orientationX<"u"?(f._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),f._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),f._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):f._panner.setOrientation(r,n,i)),o._emit("orientation",f._id);else return f._orientation}return o},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,i,s,o;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),r._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:r._panningModel});else return o=r._soundById(parseInt(n[0],10)),o?o._pannerAttr:r._pannerAttr;else n.length===2&&(i=n[0],s=parseInt(n[1],10));for(var u=r._getSoundIds(s),h=0;h<u.length;h++)if(o=r._soundById(u[h]),o){var f=o._pannerAttr;f={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:f.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:f.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:f.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:f.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:f.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:f.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:f.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:f.panningModel};var m=o._panner;m?(m.coneInnerAngle=f.coneInnerAngle,m.coneOuterAngle=f.coneOuterAngle,m.coneOuterGain=f.coneOuterGain,m.distanceModel=f.distanceModel,m.maxDistance=f.maxDistance,m.refDistance=f.refDistance,m.rolloffFactor=f.rolloffFactor,m.panningModel=f.panningModel):(o._pos||(o._pos=r._pos||[0,0,-.5]),e(o,"spatial"))}return r},Sound.prototype.init=function(r){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,r.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var e=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(Ms);const Oi={cheer:new Ms.Howl({src:"/sounds/large-crowd-applause.wav",volume:.7}),gasp:new Ms.Howl({src:"/sounds/gasp.mp3"}),song1:new Ms.Howl({src:["music1.mp3"],loop:!0}),song2:new Ms.Howl({src:["music2.mp3"],loop:!0}),song3:new Ms.Howl({src:["music3.mp3"],loop:!0}),song4:new Ms.Howl({src:["music4.mp3"],loop:!0})};var tO=""+new URL("avatar-efd59278.svg",import.meta.url).href;const rO=new xn({dropShadowColor:"#77767b",fill:"#ff7800",fontFamily:"Comic Sans MS",fontSize:18,fontVariant:"small-caps",fontWeight:"500",padding:13,stroke:"#f6f5f4",wordWrap:!0,wordWrapWidth:200});function nO({scores:t,playerId:e,avatar:r}){return ze.jsxs($r.Container,{children:[ze.jsx($r.Sprite,{image:r||tO,scale:.1,y:30}),ze.jsx($r.Text,{text:` : ${t[e]}`,style:rO,x:35,y:40})]})}var iO=""+new URL("clock-6a35d683.png",import.meta.url).href;function sO(){return ze.jsx($r.Sprite,{x:innerWidth-60,y:2,image:iO,scale:.2})}const qx=new xn({fontFamily:"Arial",fontSize:16,fill:"#ffffff",stroke:"#000000",strokeThickness:2,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowDistance:2});function oO({timeLeft:t}){return ze.jsxs(ze.Fragment,{children:[ze.jsx(sO,{}),ze.jsx($r.Text,{text:`${t}s`,style:t<=3?{...qx,fill:["#ff0000","#ff0000"]}:qx,x:innerWidth-28,y:10})]})}function aO(){const[t,e]=Ve.useState(),[r,n]=Ve.useState([]),[i,s]=Ve.useState(10),[o,u]=Ve.useState(window.innerWidth),[h,f]=Ve.useState(window.innerHeight),[m,c]=Ve.useState([]),[d,g]=Ve.useState(!0),[v,S]=Ve.useState(""),[T,x]=Ve.useState(""),[b,E]=Ve.useState(),A=Ve.useRef(null),{gameOver:I}=t??{gameOver:!1},O=t==null?void 0:t.prompts[v];Ve.useEffect(()=>{Oi.cheer.duration(1/4),Oi.gasp.duration(1/2),Rune.initClient({onChange:({newGame:G,yourPlayerId:j,action:Y,players:H})=>{e(G),S(j||""),s(G==null?void 0:G.time[j||""]),E(H),(Y==null?void 0:Y.action)==="handleClick"&&G.fail===!1?Oi.cheer.play():(Y==null?void 0:Y.action)==="handleClick"&&G.fail==!0&&(Oi.cheer.stop(),Oi.gasp.play()),x(G.prompts[j||""]),G.gameOver&&Oi.gasp.play()}})},[]),Ve.useEffect(()=>{x("question"),O&&setTimeout(()=>{x(O)},200),t!=null&&t.songNumber&&Oi[`song${t.songNumber}`].play(),I&&(t!=null&&t.songNumber)&&Oi[`song${t==null?void 0:t.songNumber}`].stop(),g(!1);const G=[],j=[];dl.load("/spritesheet.json").then(()=>{for(let oe=2;oe<14;oe++)G.push(ne.from(`dance_${oe}.png`));for(let oe=1;oe<5;oe++)j.push(ne.from(`fail_${oe}.png`));I?(n(j),g(!0)):(n(G),g(!0))});function Y(){u(window.innerWidth),f(window.innerHeight)}function H(){const oe=["red","blue","yellow","purple"],ee=oe[Math.floor(Math.random()*oe.length)];let M;switch(ee){case"red":M=16711680;break;case"blue":M=255;break;case"yellow":M=16776960;break;case"purple":M=16711935;break;default:M=16777215;break}return M}function B(){const oe=Array.from({length:40},()=>H());c(oe)}const de=setInterval(B,500);return window.addEventListener("resize",Y),()=>{window.removeEventListener("resize",Y),clearInterval(de)}},[I,t==null?void 0:t.songNumber,O]);const N=4,R=48,L=(o-N*R)/(N+1)+10;return ze.jsxs($r.Container,{ref:A,children:[ze.jsx($r.Graphics,{draw:G=>{G.clear(),G.beginFill(0),G.drawRect(0,0,o,h/2),G.endFill();for(let j=0;j<40;j++){const Y=Math.random()*o,H=Math.random()*h/2-30,B=m[j];G.beginFill(B),G.drawCircle(Y,H,5),G.endFill()}}}),r.length>0&&ze.jsx($r.AnimatedSprite,{isPlaying:d,textures:r,animationSpeed:.15,position:[o/2,h/2-65],scale:.7,loop:!0}),ze.jsx($r.Sprite,{image:"/crowd.png",anchor:.5,x:o,y:h/2+40}),(t==null?void 0:t.prompts[v])&&ze.jsx(eO,{direction:T,x:o/2,y:40}),(t==null?void 0:t.scores)&&ze.jsx(nO,{scores:t==null?void 0:t.scores,playerId:v,avatar:b&&b[v].avatarUrl||""}),ze.jsx(oO,{timeLeft:i}),ze.jsx(Xc,{direction:"up",y:h-70,x:L,playerId:v}),ze.jsx(Xc,{direction:"left",y:h-70,x:L+R+L,playerId:v}),ze.jsx(Xc,{direction:"right",y:h-70,x:L+2*(R+L),playerId:v}),ze.jsx(Xc,{direction:"down",y:h-70,x:L+3*(R+L),playerId:v})]})}function lO(){return ze.jsx("div",{className:"frame",children:ze.jsx($r.Stage,{options:{background:15659509,autoDensity:!0},children:ze.jsx(aO,{})})})}hm.createRoot(document.getElementById("root")).render(ze.jsx(zn.StrictMode,{children:ze.jsx(lO,{})}));
